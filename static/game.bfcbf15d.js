/*! For license information please see game.bfcbf15d.js.LICENSE.txt */
(self.webpackChunk_exit_path_game=self.webpackChunk_exit_path_game||[]).push([[757],{7214:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/06f38b818fcab77d1d42.jpeg"},1558:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/9b9de51f0667f69cf909.jpeg"},6344:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/0680ec675cdeeb9d32e1.jpeg"},5708:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/cd3a8d3796fe91d3b9eb.jpeg"},1913:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/669719f066b4da6060ae.png"},4916:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/04186ecf8339a75eb994.png"},1862:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/88fc994ea2fb1d5e322c.png"},2764:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/bfe86a26433ba4c17ebc.png"},8365:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/e1b84000c55403a11c2e.png"},9833:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/ebce029b770e9eca691b.mp3"},1494:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/3863c9837c63e1337bf5.mp3"},8453:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/08e4d4f58ddfb292dca1.mp3"},994:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/e9dec5ba32941ebe6f86.mp3"},3278:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/c64fbe7febf6e920b468.mp3"},2489:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/6d92bc78ddc6e55c1abc.mp3"},5790:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/2c8364bde7908cb17bda.mp3"},9347:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/b9f7020aebec79f40607.mp3"},6837:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/788e1d4528eebbd2cfbb.mp3"},8687:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/aafe39605816b5f38db1.mp3"},3023:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/868570158e7bb98ee98b.mp3"},9542:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/2d38ed911a47c99647f3.mp3"},3402:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/4c9dc1713eda08cda618.mp3"},3289:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/a659a62500eb5a9751fe.mp3"},2874:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/ee3a60cbb5d78571fce8.mp3"},1919:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/064d1ec07dbef411cf4e.mp3"},5082:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/f9856c84148141ead986.mp3"},6946:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/4e31a839ede8fe824108.mp3"},8062:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/567555375bf73b089c86.mp3"},5502:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/3fa54c06dec2d5cd3e78.mp3"},4825:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/d34739c45f45e9108c78.mp3"},8733:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/de85f1a7c8c45b2fd7d3.mp3"},2477:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/3aa008ec01648e31c404.mp3"},6011:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/aecd8a2f0b7acca73329.mp3"},9635:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/5d72e69442d206f00698.mp3"},2889:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/9380529c7aa0d240629e.mp3"},654:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/5d1ce30a5f63256208b0.mp3"},3648:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/aba67dd0d75cb8c8beb3.mp3"},1983:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/9ab9ebf11c990d9fd79d.mp3"},1957:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/25da7a62f8c9415d2999.mp3"},7391:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/925141732bb605373906.mp3"},3090:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/b1245e3dc8baca6d1e7f.mp3"},4913:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/effef74669bdb0f3d5eb.mp3"},7416:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/7b39b11296c75eb18421.mp3"},81:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/d2798a35a109afc27000.mp3"},5534:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/563d21ee02e609bbd5d0.png"},1625:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/4d9d5da37cc5ebea91f0.jpeg"},8773:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAPoAAAD6AG1e1JrAAADvElEQVQ4y5VUa0yTZxh9RZY5C232Y/vjsh8LyWIWyLIpyUpgoYnDQVtK10JpuVSoMMDyQTvRKrSWi0BxMJtMK2vAEHAVOy1sVWSggDFjl7iLiAaQENGVXmDj2gHC2UtNlpDMhT3Jyffjfc95Tr7nPC8hzykul/u2SCjsEYtFg9HR0VyyhQqOiIh4NSYmRpiYyL+UnZ35l6ZYDa1WDZVKuS4UCq7Ss+TIyMjX6N0X/mFJpdJulSqrL+eg6m6h+tBMWZkO5eWlMOh1MJ+up2jAJ1oGRUw+CgpykZmpmJPJJMMSSdKAQCC4Qgz60k6Hw47W1vNobmqE9YtzuGi7gHtDQ1hfR6Du3x+G1Wqhosdw9IgWR0o0OKY7jNxclZeYzfVHnc4OPHo0gT9nZ7GyuhYgbXx7r7fg2teNePr0mZLfv4Iptxtjo6OorDDgQGb6bdLebivp6emih348uPc9rnZa0HnJBHNNEvLTgqFKIajWf4DLF2vQeeUMBvocWFiYR1XlCSjkstvEaCz7aHDwFpb8q2i2qJFBCYfSCdQZBMVZL4HJYiEnNQhKKYGYT1BSFAvf9DTqTCchl6V8SUwm03sDt25iaWkFX9mMyJETFCl3olDJQkFmCPLSQ5CTxoZKzkZq0nZUl6fA5XKjod6E5GRJFdHp1K84nY6Z2bkFdH1zjnbahvyMEOSmheIgJWYrOFDKOMhI5iBx/zZ8frqYCnjwWcOn4PP5osAoW1qaBzZs/frzTcjFO5BNux1IfUZKo5BLOJCJOYjjEVy2nw04OHWqZj4qKur1gIDJVGMcHx+Dx/MESvkupElZAWIqJaVQSJM4EAtDsS92B+7+9gMmJyehLzv+I6UGBQQYhtnd3X3Nv0pHZzqphJBalYooScCGiM+GMJ6Sedvxcc77WF5exp07P0GhUBRtynFTU+MNt8eD/r4OxEYTJCaEgr8/BAlxIYiPY+GdvYQG7AzW1tZgt9sWeDzerk0CFRVGTX//DSwuLkLDJIAbRfDhvp2Io9gbSUcoegs+nxcjIw9A/1mbwWAI3iRALbGt1rPfDQ8PYWbaC6ZQgHf3kABkskhMTIxhyuWi3dufFOXlvfGv68gwebvb2s7/8fjxJObn52jSohAf/yZcU79jlsa867oThzUa4X/udG1tZb7dfgHjDx9imjrx+dzwej3o7e0C3ZuGrbwLQXV11aU2Wwsd2S8YHR0BDRoqKk44wsLCXiRbrdraKm1baxM23Oj1xzvoY8Mi/7csFrPRaNR/Gx4e/vLz7vwNK7ZF+gj5R4oAAAAASUVORK5CYII="},3495:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/10e122519bee27c1aba4.mp3"},1229:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/bcfd5d0822630962ace5.mp3"},9224:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/33e3ca5743b79c3bce77.png"},4718:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAYAAAAIeF9DAAAACXBIWXMAAAPoAAAD6AG1e1JrAAALJElEQVRo3u2aCXBW1RmG30kttRQQUVkKWq1VrLXa0SqIA6jV2g3oItCO2sEWYcZKq1AqlQ4IyFa2QICwBUPYwr4kgbCFEAgQSCAkBAIhGwYCZCMLCVtIn897/pnYmc50KElo/O/MO9+997//ued877edc67kjsnSY4FS2HTpNPIzZCYyHoyaIn1/kPQ1HguQ/6if459SW0gYbkSAPCPGkZKAXIzsPU66x6+pejp6S1+ZKH3TkZLuPCULeQwcAbunSf/AW74zQPqq31vqh5QmKL1nsLRvEV6yXDobjpeAE4ul4yHSntnS1KnSyyOlFn6N1fGBku8NkgaH4RU7pNxUcslxvOSYlJ0MYqXDq6SN86UQnus/QerQXbrDr7k6OixkoejhodLBGCk5ExRIacXSqXNSBtcHE6U10dIKPCYab/mE3POwn5Q6Oiw/kCsmo+jdhKn4/YSoPGk/hOwtktZfkGblSG+kST/dyflKafM8qQ+e1dSvvVt/BFD6Pkoin4KXxJMv4rYBvGIXhKwolPrlS08QwppDwB2Es6fiSfJrpM6uJPYft5qQSVJrPGQQhMQStuIIW9uypCjC1ig8paNVYq66CphLpbVPagM5TfwVVx0cVsq6yeEoCIkhR8TGkS8gJATPeC9Dut+vpfr1jm9Bxnt4SMRMcsdSKXKPNOaU9Hau9OpRqZVfTfXoHcw/ukHGSkhZj4cEQchgytznD0n3bZG+4ddSPR6WlAlXPzJCIGYsE78XqJ46hHlE+PNDA0wI74SEHkYIGE3I6jTSP7do2CUTWw6BjKWzCFeLpJ+56qlR5ksbrxmhyVqV4+3VSWbpHSFkIpPCxUz4Xv+UDjfSudb95MkhjDUUBBKi/8C9Lp9I7Sx0O4Ia/rAO0bk/M7+Yu1bq1RgJMWXb4imEFEJGNfIqsgicBBu4HkOk6GUV5wfS1xs6jzSjM08TsrozB+nQWJO5LYjaXAukQcIlcMPIqUVQPjIW4sajj1dsD6ihwtrnsdXtdTTqY6jUHIU/T/EyZAGFTKh0DJRwfi1Yus796zOkK5CTAzmbnef82KJIb//KRN0aIfOtu+OlZ/czHdsuzd4oxYfjJRQ2lyn9q4kY1TM8T8qGmG1GzhSiiO0H/T+ucgeYy9sq8njpQVveNyuzNTPbe+He3QbOW5rVGoYw92kALw2wMh9SWqRJ30sh3ewlukVL0asgAu+pmON5zjWIqXQ7qRvwsqGMrTNh8C4jp8ELAlOclY+2/G4wZfpgOWms1IbOD6Pz0S5pLgHzwEwwDUwCEyymM7i/29IN8vfIXzDQ5yzemyVaW/VpjaZYIygdoznChHkf/dtE6FrhkXOJwqd6ppd3ym27m/6uMnKsWjPjcn299WHNmDcLNou2jyCsZDRr5/oJ8Kwtt9CZV21SCV7n/E3u9QMDbdXYyACzOY9CxoA4S5jO9deBcH5bbuB8mUO4DdD9HgbGWWlqCda+fsHD2ltfzPOGelsB/24ITX3eZmT6ZG3YuExxBtpuSUXZch3YzVjxjFanGO8Z6YHzjDUfz85j3Nx7BHJ67qE/kLODqcFZyLnsyLke6JGTYUtP4C/08QfWn1vmNXS2FQ1/BGbwomDkfFe7m/LWIbeCnT4Fm9J94DrSkiHn291XK/aRRGoQlQ04xgBSQTLnB0DCDE8eAkdAOtfZDifdf7c7EuPceyOsHyhzsq0sOEy0vRzX1xD3pcwi67NJR26Y+9Rpsft9Ge8LZ+61ZiEevEzaRA7ZGoPxJEq78ZD4z6Q9hby/hN9BGCTNywVHeT/kxUNOznLICIEUyKmhvRpXvaXSv1kY0a/MiP6nz6jM5WjoKQsjIIjGF9os3pFh1rvDWYOVjqkgBRwFx1FiBjJrhvdtVz6yAFnIoIuwqGISZjGuX2ISBRSTVEsosy+GSaXgIs+UhnoDrKDqqSSxVvLfCggso61yUOEGXFlLGqrcdcX0Lz5TVRv0+bJP+jDdq6iuoMwrVFmXeW/VEv6P15Rv5b0JAALKcri+wP0SDxWcl2XT51TGEIeM5D7kXIPcGnJOjQtrxfbFjnkNUeXx3jezAmKE2J8h5bduSf6vyL8hPzTworXgIhVImSkLVAZ7sbUcBZbN80rIApR6bqGH8xBQwODOMrjTSZB1QMrjPI8KJ49QcTpWygXZWGcu1U72FixvM4iA3DXSCf5/ksongzYzeM9J3p1OH9Jmep7nM4pkcBDS4kEM59uQW1wO22R5jOuNhumel68By7gOAyFgLtdzaG8W7U6zL2wYxzTeu2A1xkifIkj820j8O/GSvXjLoRLvm4Mszs9kYXTJ6ILxXKPfNwhrNUYOuqmmzTLaXmvh/qbCmJFiMdbiNcn5PjrXmk62RSHfxpJ/iXUHoqQQqpCFzOyX4OorwNooQhWIoULZywASQcoOKWkXbk9nlxKLR9DxPoYMqa/huPQbLLDnMennWNtrPPcy8kVidtdDJErCRycU0RmyOtFuFyy3C+9+AbyEh72GNfdCaX3JBf3wrv7Id5AD6OcAvK8/8o/gbTvnuXeQ74L3wTAwgv+PBmNpa4KBsU0CU7D2aSg1CMxjjIsY3xKMJJzxrMaYNtLfaIiJJaQdKCO0lkuZFzE8PKcCz7lG/6sZ9w3+V0P7N+ZjiOiwz01teZtrQcaTWM27kPDmBiofOvI7XjABq16CgqKw8jgUloDykrCaJDq4C2wAC1DyeJQ8kDj8E667c/3MCcg8DMkMsIltARt85yM9A/i8dKwN333f87Y/Q5tv0eZS2o9i0JHci0RBm4jpW6mIdtG3BK4PQWQK3ngUpDoc5dl0+nAS5IAzXJ9DFoBi2iqh5C1OdaD9QsZVyLsu0P98ZD7XZ7h/1iTjOYPiT59F0UVEAQgprfJQVAkpkFSC5xRjhBW8uxDjXIhhPHTTs1kqmz8RGlJgN4Fws4DBBtHwTDo/hc5/RMcGYeFvUYX0OIcFU5k8luFVJK1thzHx1n+NElAg/ZAQkUSouI6sRhHXsdAqrLKUPuSCZJSQgNyN3AliwA4fuB8NIsAqKqhQMAcEgkncG4ccA0aBj1H0CDCccQ1z98LAJrAHHAAptJnDuwvpR2UpyoeU9EvS4cuEziu8H6yuINzzex9y0ENzb3aOZdZp1QEe0hVXe4YQ0J5Y3nqdKxGx7LtAM9yx6cp6XKo3D4Hw9wl5MZnSfuR2sIrz4AzPQPpy3gO8wvmLJ/FOLLmbQ1csvQuW/jQe8F0M60E8qa2VupSzzXcyp6rtrT5wv5nz9sO0F8/7IghV26nAMiHrIkReAlcxlhso/hxhKxZiIiHmA0h6dKe3UNs4l1vMUIj7LTCOdsT7e+18Pco0mDJ9oc4p4D/hvz6sTTz9AUJUKESuhtSBGMRkSEnD4ktO450QcwliLuAxmXhLNMR8iNc+l+d9nO5f97qVIRIPugdP60WuWITXDUaGQ0QRyq6ChMt4xnkQT+iaChFvEOIe55mWt82+SmPzRkrwNhQy3ewLHJBIeKsgf16FnDK8Yz/EDMVDnrScOfdLsFLeoOt0KLgdFWYfyugo5hMlyAomtZnMM9IIYaMhpuPKht7I+jJ4ha3fMYl7yZZhQK6bzWcxhwik4uxG+f+w5Sy/tuowV5hH2IKlbVzZ6jMEJLllj3M2wwY9JlNE+HND3e+D3Gl7NFPwCPsmDcXvB2cdEYm2rD5ResT/QXkd5wdbgp/ERM1tG3zqPnQocx895NiCqi352/KRX2N1eJil214Flv+xW9I/41Z9y93KdTC//RqPad+Iv027fRK2rT64TbNiZKnzhijfjp9txrlPgBpkQvcvECsZxm8fdqkAAAAASUVORK5CYII="},578:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/eb15afa9164e6dd325ff.png"},7490:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/ce88229bbfff12e36e80.png"},3566:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/3bf51af39346de6d28ab.png"},1712:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/1943d3105824474bf33b.png"},7890:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/3a07b85e2008241a8ba5.png"},1089:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/29e8ce162338346c9b51.jpeg"},6513:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/8f6852074f7bcc1877d0.png"},134:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAZDUlEQVRo3s1bWXMbV3rFDpBYiR0kQIAbuIP7voA7QQrcRVLiKkoiJVkLacm2LE88jp2xMxk5lUxNlpmpiuW85yUvefH4N7jKpSo/2H7Uk8vln3DynQs0BVKk5fGMnaD4VTe6G933fOv5bl/qdD/gYzAYdCaTSQn3T5zTPxf5OyE8ZjLqdUbD2ecpZ51T3/X642erZ+qN/JYT2dcbZCxGs+5n+XAwx6I7GwiBWszGY0DnKeT0d+36M9SuQFKOgesMPy9gav68wRce14BQCaflPIWdBfhs+Zk/51kw7tZ5HDZd2uuxH7ocRU+cjqJPXc7ipy6n/ZnTUfxdXp7xGM8V2UxPLCbdodgv7dbpPN8LWFya7mw0WX4aaxbG8ukYLgSZbtA5YqW+uWhZ+EkiHv2qsiKOutoa1Ncl0dhQh6bGejQ3NSjhPqW6qgIViXLEoqUIhwLwlrjhsBd9ZbFYnsgt50QchS5NoMqtj2P6JwLMrdFoPBPwYGs4ECsLHkXCwc+iZREQaLKmSgElkLOE11GqKhMKNK+vTVajproSiXgM4XAYPp8Pkig/E/BHjnBr4Gdx6ULAhWAJHoClriZxIJb5goPnQDVrCXgEAz6UlYZRGgmp76GgXx0L+L3H4nE7lVW1a3kPKqyiogKJROIYuN3p/sJa7D7Q6VYtha79k7p04aeurq49Eol8wgHGy6PHIP2+EgVCYhUSo7BZzZBsDUlQkDu9IFaLCWaTAZIL1DVFNov6fSAQUGCrq6sRj8cRCpfC7fGi2OH+xO0vb/+LXVrLvGcBPQ1aNH9QXl7+TVlZmYo7Wo7W8nk9cLscCiDBSCI7BkZABM/zEqMKKMER7Gkl8Fp5DJxOJxwOhwIfjcURK08gUhpFidf/jcPtP9AAF46PXIHe9xdZs8CVrQLycTQaRWmpaNztVu5Ia54eOMFpli7xuI5dmEqh0BModGUqTPMIe7FNKYKAKfJsSAzD4XQrK1dUViNRUQWvLwBrkeMxx6SN8fT4z8Rz2pKnLa19QqGQPRgMfiSCkhJxW49HbTlQDpBWIWiC06xOQFRIcZFVWZSW55YWJjB6AH/H3/McAfP3PE/L2mw2BTgH3gCrrRiBYBjxRCXK4xUIR8p43Udy3q5Z9wfRxkLAdIfTgDOZjFWAPpGYhdfrVRq3Wq1qW+iutCjBUjh4Hud5xibPF7q4JtoxXkNlaL8pKipSzzCbzczUCrASvRHFdqcCS2tzTHItS5j1rLJ5JuBCgIWAta248YfMlLSqy+VCcXEx5JzSPC3DuKS7atY8C9h5olmZYAuPE6SMRT2H+yazVYHVgNPaEstgeDHGxdIfani+N4ZPu3ChhsSCOikP18WdFVDNqlp80e3KY2XHMUgrahbS55XBY9ynu1MxFF7LLd268DoNOF1cUyi3ap9gCwBThICocUkCVRldxnf9NPX9wcmKx/r7+1sF7LeMVbpYIVg+qKqqSiUgLSsXCuOQdZWDJ7i21hT6ertVjBI8yUZvT5cKAx6j0kg6eK0+D1RLWDnwhjOF19D76NqSRL+VEGg9y3gvBZxOp21+v/9PjFkmD7ox44lgmbgaGhokabmfu2A+BumiVABZ08J8ViUuAiST6unuVIBoTVLOllSTAszz5dEYshdmVD3nvXh9e3srrGaLcm2laIM+J/pcElP7eeWwYtDKYog/yTHb+VlaapnZaDmmakbVYxp0dc0N+16/D+4SDxwup9w0Z1mTDK5S6CCBKHDyUCOPi/R1taM6EYNZjnscRUhEI2pbbDGisbYatVUJ2Ex6uIqtaG2qVxZ32h0KUESSED2G7s48QMo5NNiLEqfjWJmad2ljoRwrI+91tLYYZp/YZHs2YKP+eY+pFwZTWtrlE7BferwlMFnMSqMESokITQxI7aSV6IZFZoMCzO3Y8ADSA73qe9DrRmnQp457XXZ1nMLjziKLUkBrSzPsRcVyXwtqa+tx6dIl+L0+pUhex99SOSGfB3PZjDzPm0uUBeCfK0Gv3J9kRbzyS2GCvrPdmSBPEfJIJHZEsHbRrsVmPQZsFlctEu1Twyqx5IESgEUSDi2p7fd2tmF5/gIiAa+yss/tUFtez+tikaCKcUexWLRY2JfDpeLQZrGqZMbfD/f3qPvxHqMjg8LJA2JR/TFIjqeQoHDLxEoGKPc6eilgveKnKXsoFPnc5XErsHqjIR8zvJlZ4tkisZLjzATc09GKjpYm5dJ2q0mBtRpzLh32l6h9HutqS2FksA9uu02BvzA9gfGxEchTxTI2tLS0obW1FW6nS3kPr2eIMASoIJvVmOPbovhiUYgGnHmFomV1ujhjWUrV56lUyv5SwB5PKBsWCkfrGkzGgiSRc6VSsQrdWktWzfVJJCvjClhmYhRtzQ1qgAQcLwurfUqqoVado7tTeI4Jy2KScmQ0o6amFkNDQ/C43CrpBUpc8HucysLcNtTXiOWlsZCMnk4PSeL0vxDHWgljAiP1lQqTPWMewXgCsM8XfCIWFp5qywEVwAROjdql1EQli0q2V4NVpCEPgJZoqqtRg+M+rb6xtiJJp1h9ZzwTJL9zv7u9RU0AFNuEZtrZHYUgVUEpkZmc1u1sbYbDZlbJb3HhgnJpl5xj9g4Jmzsdx5qwqrDDEqL05EzAWtJyu1s8AvZrnxBzo9mUAyxCwATpJfEXV6Zbz2SmFOlgUiFIcx483ZpbHqeVGLMEPDs1jmxmUl1Hb2B8dnW252q2xO/8/KKycJHVpmjpzOSYSmy8F+9fm6yU2m49ztIcD8Hb7fYXkheFgMW1v9adni4iYK0smUyONMuDR/pOzZW1GOYDbPkuhg9kH8zyQTedGkurgXGABEVAdEVmV8Ys95mkmHn5ne7OfZIWZumiIjva2jrQ1NSkyhQBU2G0LjM8k5bFzNJkULWfbs2x9PX1qN9oCUujodwn5aysrOR++oUYNhlytbesLHEYjZYrjRMwwao41j/X6nGGzLeDdE+CoeUqy8swOtSvQLEeX9m6rNyYyqirrlCuSWXw/MXFOQz09yqXdjpJGkoVVydgznkxw5eXhpRydjcvobOjRT2PICcmxlQ+SQq50QAX1mMCZ3gwCUqJOjzBugiYViZgvz/0MS1MjR+zmrwwfnkzJi0+SGNXWgybC+JZc20OltZl3NKlF7MzSimM77XlBexsb6Kro1MATOHu3UNMTk4qi9N76DV0Zd6DnlNdFZdSaFKxWyW01EnuLlYm5dWAat2VxgZ7enq4/fgE69KSFhOW3x/8lMnDzM5Ey86MOUlg1CiFD6uvr1XzVLQQLcYBsYywNFXFo4pRcT8aDih3pALKQn5MjAxhenwEq0vzOLpzC2urK1hfXUM2O4/9/Ru4du0aJsbGFcuiy1NR9AaVB6ycJspVikJPo2Xb2toUy9LKFC1MbyHgRCLx6QmKyYSlrGwwEfBTJizZPwFYkY+CYs9aSMBjo2mVmAiEwsHRioxjWnhuZgorC1kVyzUV5aoOM5Mz7m9cu4KpyXH09/Zhe3sXN27cwubmJvavXcfuzpbyBMYw70vFedx2oaKdQioiqg53Cy9nxSCw+fl5RTYKGRcV0NnZKQyu9umJJkKzMAGLdZ/RwqyLGthC4lHIco7nn/JC1zPmY5qxShcnOFqbRGNpblbFNM/x+Hh6UE3ThoMh3L59F7/97e+wt7eHmekMjg7vKhpK4kIFsjyVeISszE5J01In8enFwsKc1O4qVYLYD6ueOZ+wCJqcuru7W7yx/pnWHytLnwL8XWlpVDEfDbBWi2nZurokmpsbVexobZxiQSb9cS3WFMDY1Xg03ZMWpjJ4DS1M8JycL3F70N8/iCtXripLpZqaVbliwqqIlSrvoML4LJeTUz/FaizMKdxqGZquXZi4NMDJZPI7zcIKsMa0GMMEnEhUKm6rAVU8WhoIxk2TZM+OjjZVFgYH+tT0LBkUEwxB0RIERsuQWHDQZGE8Txfl4Jm1GefMvMzGvhKvlI9qVFRUoaurS7k4OTa9oCFZpcoTYzkYKFExzLJEl87NatpVHSaVrKmpOcGrycsZw1Kavjsxg6NlaQIOBsPPqquTqkxogDWXLmzJ3MKyyINZR9nTToyPqrZuaXEeHcKCqIitzcvCpGpV3O1srKuyRLJBpVAJAz2dii42NjYKVUzT9XB5/RIOru6pJPjGq/ewLpk8KQq8uiPZvLMVZdEQtrY2JBGVq1jOZrNqIpEkY3h4WHVKmrXZrw8O9vPcsxd6Y83kksKf8kI2/ZqrcKsRc21fcx1mRKO0djp9TiklPi/KYlH4gwE17cI2kmWMsxs+rwsbl1eRmRxBeVkQu1vrSA/3YzY7jTv3bis3pkK2Li6jT9rGtHznNiGNChuUOF+/iMdkZmdkG0GkrBTTMxn4Av5ckyPjYlmiJ9I4DJeB/m7miafq3Zc+JydmPATwp9JHKhcpLOIauLk5IQsDA8c1z1ZcpMC6fEI8pH4ahRY6PCVwlngQCElHJTHLh1dUxlBXWyX9byN6u1pRWx1HX3cbekQ6RUanRpS1x6WffuXKDpamJlAtSguL1/glZpmtSWl1nAq2Sv4QxXJSj5Ibw4t8uq21SSk0Fg1+qgF+4SPs5GPOOvCdTmExZybkPl2H1mcpIPjqZA1iFZUYmRA6KQwpPT6Bqcy0ssD6+jrGxdX5nujq3jb2tjdQn6xAQ20lpifSuHltWwbUh1RrI5J1VWKNLjm2ix2x8K7I8sQ4ygVkjbhuSpTBGA6FffB4c+HG9rXIXqzCjuOgIZilNfpbX1etwiBa5v/4XMCkYbFYjJnthHVP81S69uDgoKp9VRLzgyOj8Icj6OztQXtnBzg1RPo3JZbq7enA3Ts3cXltCR0Cri1Vj7F0P24fXMFAbxuaU3WorklgeWEW7739CG8/eBUfvvsOfvXG60i3tWJBavW9g2toliQ2MZ7G2tpFFEsJ7B8cwJgohaCTdbWi3PETU0CNDUn17ETMf3guYLFcmjWNgAmOwJgFudUYDF9uaefUA/Q5N2Nyo2hK4WQcO6r52WksXMigp7MFc7OTuL57GcN9HWhrSuJCZhSbG6uYFItPjw1jSYjKrwX0r954gKxw8rSwt11hZZdEGY1Sz7vl+/DQgMrULS0tSo4riclUkKVzLs0wqU540icAF2YvcVnB7PmaryrZRGug6NLq/Y7DgeXlZa0LUQWfSYMNRqJSfiOsi1x3VBgYZyBJFB4c3sGV7Uvo7khhaX4aR7f3MTU6gPbmWuxtreH1+3exPDeDCWFhS5lxvHZrH7OyP9BUjw1R1NWVRUxKRu+SJFQjddlmzM2K5iYkLMqbGEJa+GkUmPmiIlH2dbpF5zkB+PTcrVCyJ5wtoGhzw5p1qUUtvhnH+/v76O3tVjMgu7vbqlw0CM9+55dv4dLFJcWy9oRg7Eh27hKND3S3Ym1hBuneVoz2t2MlO4Gt1QX53o6poV48OrqNVw+uYrQzhXu7G3jv6A6uLmaxKwo5vLKNrCiyTp7RnmpU894E1tHViaWVZTWN/PwFQbGK386OpifaOpNzX7UIkCwtRysWxjC1qXUimiLo+qR5nOuqra1BjSQlxtnU5Kiqsy1NteKGzQpon4CYmxrG/dvXMD3Si+6WWqzMjuP1Vw4wI9m0MRHFhLh6Nt2H/sYkLk2N4falixhNNWB9YgR//PUHuC3K21pawMP7h2iX+3IstG5NbfLEVA9rNNvJkN+SfQHwiQUqwjkfPHhgF1r2OWOVLZYGmG2YpoCRkRFF23T5F2nkuaR9yZoK1Q2lB4XhxCJSZnpxV5JTdnIIA51NmJ8cxr39HQE6io6GCoz1tuBydgp9DUJAysOY6GnD+uwEhlK16K+vxGB9FUYk22bEO3Ykvt9/9Qj//N67eO+th+hqbxYOUEB/CwDT0zramj4P6XT2M1cFnX55JuXpiNma5KHQwlqJSqVS0oj3KT7rLXHiNq2UmZASFMUv3nyAG9e30dvRjMzEAN44vIELE4MY7kohO96PzeUZcd9OtNWWI1URQdLvQV3Qi1K7RcCO4f03jzDT34Hh5iQuSjbPiqVGhKWtSVZ+dH0P//Uff8TH//Yv2L+6jdGxITXtpCYpCqoKOX9dMnZUuLLohTeIhW/cJH59Yt0vaWXWXboygRZaWavNFeKK924fIDszgVhpQBLSkEpKPa0NGB/sxNzEEMb6WjEucmt3DX/7xl2xbAr1UR9WJgfx6s4ldCXKUBfyIBUPY07cfWZAYrqjCe++ch0P1leQlQR0tLyI3z16Ew92d1Ri++DdX+DBa/eEg8dVlXieYC2coPjSqdP5uKTqXAuffpksVt5ntibZ4M2YsFiiaGXemEmCPHr78pqiiyw7dLORgS5Vdkb62nBxTsrQ5rKy6Eh3MzYWp3Bz5yKWpoewMNaHRZHNqVHUSUjUB4XMiIL2VmYxl+7GbE8rNkYHcVeS1uHcBby9uYHf3HkFV6XNHBY+TqVOjA+LF0bzk4yGfOXwSQwH989d6Fa4pvFUErNFo9E/EbQ2M6i5NEk6FbEsCeTW/lUMSoHvEAIxPTaIX739EBsrcyoTry1IGbqxgwsCLDPciStrWdwUBWzMj+H6pSxuyPfL8ptmvxttsSB2REG/uHtdLN+PsVQN9rOTeHRpBTclCd6Wmv5AGNh//+Hf8cfHH+DD99/B3pVNNXNZGMNSMdTLtHMBny5LhYtCpJFolTj+lqVIc2ttGpQ1mUuU2Max5FDjK/MZ3NzbVFm4r70BC5lhLM+MYHygFcuy/+a963jnwQ0sTvQiO9KJ+3vrePemZG3pqsYaayRuaxTY7HAHpjsa8P4r1/BP925hXQjHWmsLdqT7+eDuLfzh7/8Ov3z4qtDHqlwXp8+xPwm5b0tL3a16/fOFqy8FfPoFubj2dU55ams6SEhoacYz3wG5HVbFmq5urysW1dNah/6ORsyO9mN/a0XF7exIN1amhnB1bRZXLmawNNmHC0MS1221WJCklK4sR19lKTZEKbc2FzE/0oWVdCdmW5LYGejB/dkM9iRJXhGWtSENxvpUGrWJ8PHcFhkek6qM7Xqu2ujPX7v5siU+VIg00x9y2pNgOZNAS9PibMDZB0fLQmpibkbiMS0t2dhQjyIWB9sXpftZx9ZyJufGaxfw6PYOrq1msDjShv2lKTwSarnQ3IgpoYFbk2m8vreBXXHlGfGQ6aYabAix+c9f/g0erqxgY6APE011KLWZYGWImXK8ma+FZHwfamDV6gWz8SWLVb/nI9naKnH8hBbm8geCV8yGM5p2l7SDfvj8QfV+lxMAnM14eP8epoREzIz0YHtxGjcuz+Ptu1fwDw9v4WB1EpPtFdge78b97Aym4wmMlpYhI13PnCTC19dXcW9xHrPCqJa7u3B7aRGboyPojEdR4bajROilNf9OWq0iyi9qOe2phh+7bo0/fvz4sV2AfkQLEzBdnKtpDFY79BYBb7TA4w9IDWxQTQNBZySuSTZev7mLtw+vYyubxt7CqJSiBSwPNeFCSxU2hRreGh3DnckpTIvCLnV24/dvPsLv33oL16TB3xiTrqtduiphT6EiC2y6HFhfkRWxcICk56OtrS37y9au/Nkr9PJrK7l86TEtTdD+QAgmmx3mYpc0/7kJAKu1SK3maWmsUxZem5vCB4+O8I/vvIad+VFcmR/Bbx7exMPrq9iS5HVD2r8Pb76Cf33wGq6OjWNfgL+5tYmb8wsYTzWjIRhAzCWhkwdKiYZ8qCovhd9hffw/v81YfxSwH7ognMsIJKYPhJB8Q8DxqiRcvpCyMGc/OKdtzL8j9ov7pWrKkZWytJpJqwy8MTuEu5tzuLORxfb0IA6kfdyTXnatv09cuFkxqilx67j0uV7We5IJMj2+TRBWVy1sLhr2feMvMR/8lWF+z6JwsTYXl7o9vk/sbi+8wQjKK2sQlDi02YqP56tVK5cfcIkkmNqIC40xLxpKnWiOedBa7keLsLMajxMByQc+EgejHiWGHFCPWQ+PzYywz42gz4VgwINwxPeJzqxrZyYymP68JZR/sdVXV1ctkbLEgbj0F0xcXBaYe2uXQKm4olreIIPWQNvyFqPYC8SZF4c+d41DFOW1m1ERDSIeDSFRUYZgyPOF2aE70K3qLOp1tjm/QkP/Vwb88h8bdOHqwUCkLH7kKfF9xtKlXnjFy9VcNOOt1CcWdNkUEAJymfIA+c65SJQixx0mPUJel4rNRiEUVZUxhMJexBKRzwxO3ZEurAvoyZ/EbdS7P1rXmAN8ehHaj05Yp5cinr0ItfBfbBoc0mXNhcPhJ5Fw8CtOyHPSva4qjvJIAI3Vwsxq4kjGI2isLENDlUhtAo3SHqaa61AeC4uXeOBwWr4qCdqfGH26OV2DzqHAWXXPgVIszwFrzU9h1/eTuPX3ffiPGvyHjVhZ8DDicz2RhPNp0ON4KvIs5HV+F/a5vgsH3M+8PsfTEr/zU4ff/sQeLDq0RU1pXVrnObGwyFggpgIx/hhW8VP9q885/9Kj/TuP2cQVB4YXQWhAzgJ7Wgz/B4B/+P8dnfNjww8Vw4uiN/z/A/ziovPC/z9SL6hftOpZojecLX/m538Bh3lN7Oq6hEAAAAAASUVORK5CYII="},9219:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/b3998260388873ebf97d.png"},3285:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/f6270e0494900b949559.png"},2308:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/97ba4cf16a6edc3ca58c.png"},3031:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/66011b381ae04731fcbb.png"},9889:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAACXBIWXMAAAPoAAAD6AG1e1JrAAACWElEQVQ4y6VVSWtTURQOdUQtFisKDmg3IggFh4WuRFwpipI22ko3ithRqaUubMEsVRQrimJ+QDZZS7Zx4y6LLAJZSAiEhEQzmXmE5/eVd+FweX2+pAcOvDuc893zneG5XA4ln8+faDab19Xa5/Pt6nQ6z7rd7gb0Lb6fFIvFU65BJRwO7+v1ej/oTD8LBAK7c7ncsXa7fQ/nnwC26PF4dvQF4PV6d8LYb0DgYE1GYgWIO3O4/yEejx90DAKDL4YpcPBS7TcajatYLzOCUqk0Jm1ardYd2H0MBoN7nAC8NoRIkFAotDedTh+u1+uXsf8cYPelLfZmoU9tAXDhhaGJBNEFIA+hM5I6PPLrZjEgtFvQSeiEqXfh7JVhISonqVRqFBFcjMViw9rDFhmZoM2NvXkXquav4VBgsK6qDc4umfk4rZxmMpkjpE4VRTabPYpo3hPkT78gShgJoyeooG2GPcVvljJA3hDk96AgFNJTqVTOCoomSKWgcG3bILVa7UK1Wh2XeSCVAmR9W3SZTm+zlAVdD9R4kXTV+wXhFGCFAeAGmvKKAkgkEiNMvGpCM/HvNusbB0ssP1PncfDNroRpDICboOmc3isYotdElJMcM3bdvmHTjEMWtLG/ZtWa0bAZC4XCyS1BTD79dh0fiUT2l8vlM4yeAKRRNiZ04b+zKxqNHkDOvluBkBasV0HRI1TYeS0qNycxR4ujKZxMJg8B6KcOwgcwEnmXFPH17HJ95Dj5Kx4H0C9OZat/CM8R0RTOP5uJHhro70hK4Ghae/UKaWEv4OzxVkn+B3Wylypo4jEMAAAAAElFTkSuQmCC"},7610:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAZCAYAAAA8CX6UAAAACXBIWXMAAAPoAAAD6AG1e1JrAAADuklEQVQ4y5VUS6scRRgduDf3TvdMd9f70e+e6Zm5kwzqSgQXunGjogsFd7pwm00EIejiEiK4VBCSqxd/gGCCi+DGjauAMaLBF4jiUozgQgQR9ZanaiYo4iLT8FHV1V2nzne+89VgIOXYVgfnm3Z5q6xn3wpZXN7fz9rBto/K28OmWzpbr5y0B4ipY1y/j0/RVkDGtt9QNXVELRw3C5fx1jGR/xRF0f1bAUnbfk/EBCAHjgHIzxnPf94fpY9sBaTz9msqp04Up50szjiuZ46L8vbubvTAdhrZ+qsU6fi0VLFyDGlSZn4cE/EQPu8j9hCnNuPeZm24GU/9A6RLANWO6Xlg5Uemmj9sPvkwL/u3EEdFvbhU1LNL2nZH0vTHxk7eNvnk2JjmjTFRT641UsUXhDfY3DueHziRn16zyxeoIMBND6ZLZ0q/PsMa1vFNaPyvJk7q+vc4po8NtG1uSTtzAqVX5RnEPQBb4aeFo7x3CWtdyqcuFb0bYT5mHd4nqK6PDv91jjF1baB19QmHLgIsdLlypr7X2eo+sIDwdumo7J0vBlGzAJBiM8FaCDEFWOU4N58BqL3pgXw63OuUL0P1ZO6BoJmaO4rIxJrdGECJZwjQBOyUgV0Yf2dgbXeTIVeGslOc6k/ycw1NbIUoFxihne1DGtxro3GwnjhbzJ2x9Q87OzsPo2rNDSo7R8EmOBsnS9OdSGmupYS9jDhMU3aYJPRCkmQXs4y+4iNNyWGWZS/u7g4f3JS/vUFEG4AY3O1ZYe03tMgTWxlSyPojAh8lyN2z8eakzP6SUProVkBM1R9TaOSZ8E2vEWZ+TRLy+HaMdHWdyhYiz0LjpgEoPxmNyNntGDF9xEUDgC6UPxO+rCVKaj4fjejqroGiMXuKywKORb+ZeTDZmNbO64bb8jtt6teVaV5gsjwrVHPOFtOXqm5+sW5nrxbF9ELC1J1bIjaU6y8zbMzg4GA+GM63QgJAbw2V9yc6n/wpTPeXytFOZhb6TsBLUla3o4itweIxe56JMtifagguPVgfemxE2xAxbVxEahdlVZj7bzHeuWwcIfL4TobDjLDLXFXhqvUgXnyfZmgFHBCD3QjhN48A5Nf8SNBrQpjr/5YLRmVvooo4BY2JE9c9Nd2c3rghqdaMABaD5RBzKqCl0O/9V/v9YZw8x7j5NC+moc9UPg/3EkchGPosE10wbcJwh8mJK6veDYejZ/6/lHFs9vaip1PCX6NUvEu5vMqFviKEReir/v7B+wec6yvDYfysv3L/BuapXSWRUZmEAAAAAElFTkSuQmCC"},5069:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABa0lEQVRIx+3Wv0rDUBTH8YKxg4tTBe2ig9R/0UUHB6E0VikkguAmiIOjb+Kki1ZEEaVUsLu+gW/ge4hi1frnFzgpl8s5tjXnLsULH1LILd/eNE1vJtNnYxgC2IcDOIQjUnAVLcE9PME3I3QRXYY3IZioaEcH4KFD1El4Et67CKtf6rIQuoMtWKPVjmiHQyG86PonFDHRL/BdhwMm/AkTLmJjcAxV+i65S31L52OnsKAR9ru4i20ljfAstHqIfsC0VriX1caP0ZxGeAaeoSk8PFoUa5JHGNIID9INlocdJhx/qBU6n9darT0qTPiFrorTEQph/z/cN+FICE/99qYcPQzmO/CFY2xPCEfGnDkYNcObUIObFOpCuGHN27Uv03nK8KUQNhd0Ddva4au/hDfgwlG4bsyp2eF12u2fpVBlwq+0oGTOCW382mMcirCaQpE2dqYl2l0mcwLaBrf/YRKe8TprnZN4xpEbWYb3A4aQDbKiy4qbAAAAAElFTkSuQmCC"},1523:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/e11695c62ec7e5ef53ba.png"},7374:(t,e,r)=>{"use strict";t.exports=r.p+"static/assets/717c145ea106e8f64b4e.json"},6469:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Tl});var i={};r.r(i),r.d(i,{ColorTransform:()=>F.J,Matrix:()=>N.y,Point:()=>j.E,Rectangle:()=>I.A,Transform:()=>B.w});var n={};r.r(n),r.d(n,{BitmapFilter:()=>G.l,BlurFilter:()=>H.T,DropShadowFilter:()=>K.p,GlowFilter:()=>q});var s={};r.r(s),r.d(s,{SharedObject:()=>J,URLRequest:()=>Y,navigateToURL:()=>Z});var a={};r.r(a),r.d(a,{Keyboard:()=>$.N});var o={};r.r(o),r.d(o,{Timer:()=>tt,getDefinitionByName:()=>rt,getTimer:()=>et});var l={};r.r(l),r.d(l,{display:()=>O,events:()=>U,filters:()=>n,geom:()=>i,media:()=>Q,net:()=>s,text:()=>V,ui:()=>a,utils:()=>o});var u={};r.r(u),r.d(u,{__internal:()=>D,flash:()=>l});var c={};r.r(c),r.d(c,{SimpleScrollBar:()=>un});var h={};r.r(h),r.d(h,{ArrowKeysToPan_445:()=>kn,LightOn_226:()=>Fn,MainTimeline:()=>jn,ag_intro_mc_459:()=>Rn,cameraFlash_93:()=>wn,cautionSign_anim_444:()=>En,flashButton_rim2_347:()=>Cn,flashButton_rim4_453:()=>Ln,flashButton_rim_344:()=>Sn,flashButton_rimcopy2_353:()=>Mn,flashButton_rimcopy_350:()=>Tn,flowReady_437:()=>Pn,giveKudo_306:()=>An,handStuff_52:()=>Dn,handStuffcopy_57:()=>On,hideMe_48:()=>Nn,introLoader_43:()=>Bn,redPing_166:()=>Un,runner_duck_84:()=>Vn,runner_head_17:()=>Gn,runner_idle_82:()=>Hn,runner_jump_83:()=>Kn,slidingDoor_153:()=>zn,startBox_308:()=>Xn,startFade_355:()=>qn,w_beaconC_228:()=>Wn,w_beacon_161:()=>Yn});var f={};r.r(f),r.d(f,{ColorPicker:()=>Jn,ScrollBarDirection:()=>ln});var d={};r.r(d),r.d(d,{ColorPickerEvent:()=>ce,ScrollEvent:()=>Ae});var p={};r.r(p),r.d(p,{controls:()=>f,events:()=>d});var y={};r.r(y),r.d(y,{SFSEvent:()=>Wi,SmartFoxClient:()=>Yi});var v={};r.r(v),r.d(v,{smartfoxserver:()=>y});var m={};r.r(m),r.d(m,{gotoandplay:()=>v});var g={};r.r(g),r.d(g,{Anim:()=>Bt,BitmapCanvas:()=>Ot,Emit:()=>Ie,HandyCam:()=>Fe,Key:()=>je,Logger:()=>ze,Math2:()=>re,Relay:()=>Ft,SoundBox:()=>qe,StopWatch:()=>Ee,Text2:()=>Bi,TileObject:()=>ie});var b={};r.r(b),r.d(b,{AGILogin:()=>Ct,AGIcon:()=>St,AGIntro:()=>Lt,Ach:()=>Rt,AchEvent:()=>kt,AchSound:()=>Et,Achievement:()=>wt,BodyPart:()=>ne,Boop1:()=>se,Boop2:()=>ae,Bouncer:()=>oe,BouncerSound:()=>le,CameraFlashSingular:()=>ue,CharacterSelection:()=>he,Checkpoint:()=>It,CheckpointFlag:()=>Nt,CheckpointHolder:()=>fe,CheckpointSound:()=>de,Cheer:()=>pe,Cheer2:()=>ye,ColorPicker_backgroundSkin:()=>ve,ColorPicker_colorWell:()=>me,ColorPicker_disabledSkin:()=>ge,ColorPicker_downSkin:()=>be,ColorPicker_overSkin:()=>_e,ColorPicker_swatchSelectedSkin:()=>xe,ColorPicker_swatchSkin:()=>Re,ColorPicker_textFieldSkin:()=>ke,ColorPicker_upSkin:()=>we,EndCountdown:()=>Se,EndPointHolder:()=>Ce,Exit_fla:()=>h,ExternalEvent:()=>ct,FadeOut:()=>Le,FinalA:()=>Te,FinalB:()=>Me,FinalC:()=>Pe,FlairMenu:()=>De,FlowReady:()=>Oe,FreedomSequence:()=>Ne,Game:()=>vr,GetKudos:()=>mr,Ghosting:()=>Ge,Grinder:()=>gr,HalfBlockHolder:()=>br,InsideA:()=>tr,InsideB:()=>rr,InsideC:()=>er,InvisibleTileHolder:()=>_r,JumpSound:()=>xr,Kudo:()=>Rr,LabA:()=>or,LabB:()=>ur,LabC:()=>lr,Laser:()=>kr,LaserCannon:()=>wr,LaserGun:()=>Er,Level:()=>ee,Level0:()=>Sr,Level1:()=>Lr,Level10:()=>Tr,Level100:()=>Mr,Level101:()=>Pr,Level102:()=>Ar,Level103:()=>Dr,Level104:()=>Or,Level105:()=>Nr,Level106:()=>Br,Level107:()=>Fr,Level108:()=>Ir,Level109:()=>jr,Level11:()=>Ur,Level110:()=>Vr,Level111:()=>Gr,Level112:()=>Hr,Level113:()=>Kr,Level114:()=>zr,Level115:()=>Xr,Level116:()=>qr,Level117:()=>Yr,Level118:()=>Wr,Level119:()=>Jr,Level12:()=>Zr,Level13:()=>Qr,Level14:()=>$r,Level15:()=>ti,Level16:()=>ei,Level17:()=>ri,Level18:()=>ii,Level19:()=>ni,Level2:()=>si,Level20:()=>ai,Level21:()=>oi,Level22:()=>li,Level23:()=>ui,Level24:()=>ci,Level25:()=>hi,Level26:()=>fi,Level27:()=>di,Level28:()=>pi,Level29:()=>yi,Level3:()=>vi,Level30:()=>mi,Level4:()=>gi,Level5:()=>bi,Level6:()=>_i,Level7:()=>xi,Level8:()=>Ri,Level9:()=>ki,LevelEnd:()=>He,LevelEndBox:()=>Fi,LevelStart:()=>Ke,LevelUpWindow:()=>Ii,LevelUser:()=>Ni,Lobby:()=>Ui,MainMenu:()=>Gi,MainMenuSong:()=>Hi,MenuLow:()=>Ki,Morgue:()=>Xe,Multiplayer:()=>Zi,MultiplayerMenu:()=>zi,MultiplayerPlayer:()=>Qi,MultiplayerWarning:()=>Vi,NotLoggedIn:()=>$i,ParallaxScrollingBitmap:()=>tn,Placeholder:()=>en,Placing:()=>ji,Plate:()=>rn,Player:()=>Je,PlayerBar:()=>nr,PlayerShell:()=>qi,PopSpikes:()=>Ci,QuickPlayLobby:()=>nn,Rewind:()=>sn,Robot:()=>an,Runner:()=>Ve,Scratcher:()=>on,SinglePlayerMenu:()=>Xi,Skin:()=>Ue,SkyLine:()=>Ze,SkylineA:()=>cr,SkylineB:()=>fr,SkylineC:()=>hr,SmallScratch:()=>hn,Spike:()=>jt,SpikeDrop:()=>fn,SpikeFall:()=>Li,SpikesHolder:()=>Si,StadiumA:()=>dr,StadiumB:()=>yr,StadiumC:()=>pr,StartBeam:()=>ir,StartPointHolder:()=>wi,Static:()=>Qe,SwingingAxe:()=>Ti,Takeoff:()=>dn,Teleporter:()=>Mi,Thud:()=>pn,Ticker:()=>yn,TickerWord:()=>mn,Tile:()=>Ut,TileHolder:()=>Ei,TileOpaque:()=>Gt,TimeOutWindow:()=>gn,TreadmillLeftHolder:()=>Pi,TreadmillRightHolder:()=>Ai,Tubes:()=>Ji,Turnstile:()=>Cr,UIBackground:()=>bn,UIPanel:()=>$e,WhiteSquare:()=>sr,WhooshSound:()=>_n,YouArrow:()=>ar,Zap:()=>xn,betz:()=>c,blackBeam:()=>Tt,fl:()=>p,it:()=>m,john:()=>g,scrollBar:()=>cn});var _=r(6739),x=r.n(_),R=r(9526),k=R.createContext(null),w=k.Provider;function E(){var t=(0,R.useContext)(k);if(!t)throw new Error("Root store is not provided");return t}var S=r(8972),C=r.n(S),L=r(8884),T=r.n(L),M=r(8239),P=r.n(M),A=r(9621),D=r(94),O=r(7760),N=r(7562),B=r(8745),F=r(1151),I=r(2942),j=r(7069),U=r(2741),V=r(2389),G=r(9793),H=r(8051),K=r(3633),z=r(5543),X=r(1788);class q extends G.l{constructor(t=16711680,e=1,r=6,i=6,n=2,s=1,a=!1,o=!1){super(),this.color=t,this.alpha=e,this.blurX=r,this.blurY=i,this.strength=n,this.quality=s,this.inner=a,this.knockout=o}get __filter(){return{filter:X.p.instance,paddings:z.al(this.blurX,this.blurY),blurX:this.blurX,blurY:this.blurY,passes:this.quality,color:16777216*Math.floor(255*this.alpha)+this.color,strength:this.strength,angle:0,distance:0,knockout:this.knockout}}}class Y{constructor(t){this.url=t}}var W=r(570);class J extends W.p{constructor(t){super(),this.name=t;try{this.data=JSON.parse(localStorage[t])||{}}catch(t){this.data={}}}static getLocal(t){return new J(t)}flush(){localStorage[this.name]=JSON.stringify(this.data)}}function Z(t,e){window.open(t.url,e)}var Q=r(23),$=r(8682);class tt extends W.p{constructor(t=0,e=0){super(),this.delay=t}start(){}stop(){}}function et(){return+new Date}function rt(t){const e=D.ClassRegistry.instance.classes.get(t);return null!=e?e:null}const it=u;var nt=r(8914),st=r.n(nt),at=r(2164),ot=r.n(at),lt=r(2094),ut=r.n(lt);var ct=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e;return C()(this,n),(e=i.call(this,n.TYPE,!0,!1)).props=t,e}return n}(it.flash.events.Event);P()(ct,"TYPE","external-event");var ht=function(){function t(e){var r=this;C()(this,t),P()(this,"container",null),P()(this,"stage",null),P()(this,"main",null),P()(this,"setContainer",(function(t){var e;r.container=t,r.stage&&(r.stage.__canvas.container.remove(),null===(e=r.container)||void 0===e||e.appendChild(r.stage.__canvas.container))})),this.root=e,(0,A.ky)(this),(0,A.EH)((function(){r.stage&&(r.stage.__isActive=r.isActive)}),{name:"bindGameActive"})}return T()(t,[{key:"start",value:function(){var t,e,r=this;if(!this.root.library.value)throw new Error("library is not loaded yet");if(!this.stage){var i=this.root.library.value,n=new it.flash.display.Stage(i.properties);this.stage=n,n.__withContext((function(){var t=i.instantiateCharacter(0);t.addEventListener(ct.TYPE,(function(t){return r.handleExternalEvent(t.props)})),r.main=t,n.addChild(t)}))(),this.stage.__canvas.container.remove(),null===(t=this.container)||void 0===t||t.appendChild(this.stage.__canvas.container),null===(e=this.root.controller)||void 0===e||e.onGameStarted()}}},{key:"dispose",value:function(){this.stage&&(this.stage.__canvas.container.remove(),this.stage.__dispose(),this.main=null,this.stage=null)}},{key:"focus",value:function(){var t;null===(t=this.stage)||void 0===t||t.__canvas.element.focus()}},{key:"handleExternalEvent",value:function(t){var e=this;switch(t.type){case"sp-user-level":this.root.modal.present({type:"enter-user-level",onEnterLevel:function(t){var r;e.focus(),null===(r=e.stage)||void 0===r||r.__withContext((function(){var r,i;null===(r=e.main)||void 0===r||r.setUserLevel(t),null===(i=e.main)||void 0===i||i.startPracticeLevel(999)}))()}})}}},{key:"isActive",get:function(){return 0===this.root.modal.instances.length}},{key:"instance",get:function(){if(!this.main)throw new Error("Game is not started yet");return this.main}}]),t}(),ft={};ft.character1=new URL(r(7214),r.b),ft.character35=new URL(r(8773),r.b),ft.character83=new URL(r(9889),r.b),ft.character96=new URL(r(1523),r.b),ft.character316=new URL(r(5534),r.b),ft.character334=new URL(r(1625),r.b),ft.character560=new URL(r(9224),r.b),ft.character570=new URL(r(4718),r.b),ft.character622=new URL(r(578),r.b),ft.character627=new URL(r(7490),r.b),ft.character630=new URL(r(3566),r.b),ft.character632=new URL(r(1712),r.b),ft.character663=new URL(r(7890),r.b),ft.character761=new URL(r(1089),r.b),ft.character765=new URL(r(6513),r.b),ft.character796=new URL(r(134),r.b),ft.character806=new URL(r(9219),r.b),ft.character810=new URL(r(3285),r.b),ft.character813=new URL(r(2308),r.b),ft.character819=new URL(r(3031),r.b),ft.character863=new URL(r(7610),r.b),ft.character871=new URL(r(5069),r.b),ft.character1020=new URL(r(1558),r.b),ft.character1028=new URL(r(6344),r.b),ft.character1030=new URL(r(5708),r.b),ft.character1084=new URL(r(1913),r.b),ft.character1086=new URL(r(4916),r.b),ft.character1088=new URL(r(1862),r.b),ft.character1090=new URL(r(2764),r.b),ft.character1092=new URL(r(8365),r.b),ft.character47=new URL(r(3495),r.b),ft.character48=new URL(r(1229),r.b),ft.character172=new URL(r(9833),r.b),ft.character178=new URL(r(1494),r.b),ft.character179=new URL(r(8453),r.b),ft.character180=new URL(r(994),r.b),ft.character181=new URL(r(3278),r.b),ft.character182=new URL(r(2489),r.b),ft.character183=new URL(r(5790),r.b),ft.character184=new URL(r(9347),r.b),ft.character185=new URL(r(6837),r.b),ft.character186=new URL(r(8687),r.b),ft.character187=new URL(r(3023),r.b),ft.character188=new URL(r(9542),r.b),ft.character189=new URL(r(3402),r.b),ft.character190=new URL(r(3289),r.b),ft.character191=new URL(r(2874),r.b),ft.character192=new URL(r(1919),r.b),ft.character193=new URL(r(5082),r.b),ft.character194=new URL(r(6946),r.b),ft.character195=new URL(r(8062),r.b),ft.character196=new URL(r(5502),r.b),ft.character197=new URL(r(4825),r.b),ft.character198=new URL(r(8733),r.b),ft.character199=new URL(r(2477),r.b),ft.character200=new URL(r(6011),r.b),ft.character201=new URL(r(9635),r.b),ft.character202=new URL(r(2889),r.b),ft.character203=new URL(r(654),r.b),ft.character204=new URL(r(3648),r.b),ft.character205=new URL(r(1983),r.b),ft.character206=new URL(r(1957),r.b),ft.character207=new URL(r(7391),r.b),ft.character208=new URL(r(3090),r.b),ft.character209=new URL(r(4913),r.b),ft.character210=new URL(r(7416),r.b),ft.character256=new URL(r(81),r.b);const dt=JSON.parse('{"data":8862652,"character1":21578,"character35":1034,"character83":678,"character96":9958,"character316":218619,"character334":48525,"character560":28058,"character570":2930,"character622":47632,"character627":716042,"character630":363469,"character632":28793,"character663":777314,"character761":29531,"character765":67295,"character796":6491,"character806":10944,"character810":9119,"character813":11300,"character819":11310,"character863":1032,"character871":441,"character1020":21084,"character1028":49340,"character1030":23598,"character1084":615441,"character1086":616205,"character1088":635596,"character1090":636370,"character1092":634154,"character47":6890,"character48":2730,"character172":92170,"character178":349960,"character179":349960,"character180":116480,"character181":27820,"character182":1170,"character183":16120,"character184":2340,"character185":29380,"character186":20280,"character187":1040,"character188":307580,"character189":307580,"character190":102440,"character191":1300,"character192":243750,"character193":243750,"character194":81250,"character195":398320,"character196":243100,"character197":2600,"character198":315900,"character199":315900,"character200":105170,"character201":780,"character202":1300,"character203":313560,"character204":313560,"character205":104390,"character206":8320,"character207":2470,"character208":1950,"character209":13130,"character210":5460,"character256":1820}'),pt=JSON.parse('{"width":16000,"height":10000,"fps":30,"backgroundColor":13421772}');var yt=new URL(r(7374),r.b);ft.data=yt;for(var vt=0,mt=Object.entries(ft);vt<mt.length;vt++){var gt=x()(mt[vt],2),bt=gt[0],_t=gt[1];ft[bt]={url:_t,size:dt[bt]}}var xt={data:"data",properties:pt,assets:ft},Rt=function t(e,r){C()(this,t),this.got=!1,this.achName=e,this.description=r};var kt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e){var r;return C()(this,n),(r=i.call(this,t,!0,!1)).achNum=e,r}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.achNum)}},{key:"toString",value:function(){return this.formatToString("AchEvent","type","bubbles","cancelable","eventPhase")}}]),n}(it.flash.events.Event);P()(kt,"SEND","sendr");var wt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(102,t.frame103),t}return T()(n,[{key:"frame103",value:function(){this.parent.killAch(this)}}]),n}(it.flash.display.MovieClip);var Et=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var St=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Ct=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Lt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Tt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip),Mt=r(9168),Pt=r.n(Mt),At=r(8183),Dt=r.n(At);var Ot=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).bmpOffsetX=0,t.bmpOffsetY=0,t.canvasWidth=0,t.alphaFade=!0,t.canvasHeight=0,t}return T()(n,[{key:"alphaFader",value:function(){var t=new it.flash.geom.ColorTransform(1,1,1,.99,0,0,0,0);this.bmpData.colorTransform(new it.flash.geom.Rectangle(this.bmpOffsetX,this.bmpOffsetY,this.canvasWidth,this.canvasHeight),t)}},{key:"drawMovieClip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"normal";1==e&&2==r&&3==i&&(e=t.x,r=t.y,i=t.rotation);var a=new it.flash.geom.Matrix;a.translate(e-this.bmpOffsetX,r-this.bmpOffsetY),-1==t.scaleX&&(a.scale(-1,1),a.translate(2*t.x,0)),this.bmpData.draw(t,a,n,s)}},{key:"getAlpha",value:function(t,e){return this.bmpData.getPixel32(t,e)>>24&255}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:550,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;this.bmpData=new it.flash.display.BitmapData(t,e,!0,16777215),this.bmp=new it.flash.display.Bitmap(this.bmpData),this.addChild(this.bmp),this.canvasWidth=t,this.canvasHeight=e}},{key:"kill",value:function(){this.bmpData.dispose()}},{key:"lineTo",value:function(t,e,r,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=new it.flash.display.MovieClip;o.graphics.lineStyle(n,s,a),o.graphics.moveTo(t,e),o.graphics.lineTo(r,i),this.drawMovieClip(o),o=null}},{key:"ping",value:function(){this.alphaFade&&this.alphaFader()}}]),n}(it.flash.display.MovieClip);var Nt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip),Bt=function(){function t(){C()(this,t)}return T()(t,null,[{key:"autoElastic",value:function(t,e,r,i,n){return(e+=(r-t)*i)*n}},{key:"colourMe",value:function(t,e){var r=t.transform.colorTransform;r.color=e,t.transform.colorTransform=r}},{key:"ease",value:function(t,e,r){return t-r*(t-e)/2}},{key:"elastic",value:function(t,e,r,i,n){return(e+=(r-t)*i)*n}},{key:"removeColour",value:function(t){t.transform.colorTransform=new it.flash.geom.ColorTransform}}]),t}();var Ft=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no message";return C()(this,n),(e=i.call(this,t,!0,!1)).sender=r,e.msg=s,e}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.sender,this.msg)}},{key:"toString",value:function(){return this.formatToString("Relay","type","bubbles","cancelable","eventPhase")}}]),n}(it.flash.events.Event);P()(Ft,"ACH","ach"),P()(Ft,"GOTO","goto"),P()(Ft,"SEND","send"),P()(Ft,"WARNING","warning");var It=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).id=0,t.checkPointFlags=new Array,t.playerList=new Array,t}return T()(n,[{key:"addFlag",value:function(t,e,r){for(var i=null,n=0;n<this.playerList.length;n++)if(t==this.playerList[n])return;this.playerList.push(t),(i=new Nt).x=0,i.y=this.checkPointFlags.length*(i.height/2)-40,Bt.colourMe(i.flag.parts1,e),Bt.colourMe(i.flag.parts2,r),this.checkPointFlags.push(i),this.addChild(i),t.isMain&&this.dispatchEvent(new Ft(Ft.SEND,"CHECK"))}},{key:"isNew",value:function(t){for(var e=0;e<this.playerList.length;e++)if(t==this.playerList[e])return!1;return!0}}]),n}(it.flash.display.MovieClip);var jt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Ut=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).posX=0,t.posY=0,t.holdY=0,t.tileSize=25,t.myColour=0,t.touched=!1,t.holdX=0,t.type=1,t.painted=!1,t}return T()(n,[{key:"init",value:function(){this.x=Math.round(this.x),this.y=Math.round(this.y),this.holdX=this.x,this.holdY=this.y,this.posX=Math.floor(this.x/this.tileSize),this.posY=Math.floor(this.y/this.tileSize),this.name="tile"+this.posX+"x"+this.posY}}]),n}(it.flash.display.MovieClip);var Vt,Gt=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(Ut);!function(t){t[t.FlowNormal=0]="FlowNormal",t[t.FlowDisabled=1]="FlowDisabled",t[t.FlowAlways=2]="FlowAlways",t[t.FlowModeMask=3]="FlowModeMask",t[t.IsProtected=4]="IsProtected",t[t.AllowRewind=8]="AllowRewind",t[t.AllowSuspend=16]="AllowSuspend",t[t.ShowTeleporterName=32]="ShowTeleporterName"}(Vt||(Vt={}));var Ht=r(4316),Kt=new TextDecoder,zt=function(){function t(e){C()(this,t),P()(this,"offset",0),this.data=e}return T()(t,[{key:"readByte",value:function(){var t=this.data.getUint8(this.offset);return this.offset++,t}},{key:"readInt32",value:function(){var t=this.data.getInt32(this.offset,!0);return this.offset+=4,t}},{key:"readFloat",value:function(){var t=this.data.getFloat32(this.offset,!0);return this.offset+=4,t}},{key:"readByteLengthString",value:function(){var t=this.readByte(),e=this.data.buffer.slice(this.offset,this.offset+t);return this.offset+=t,Kt.decode(e)}}]),t}(),Xt=/^(.+)#([a-zA-Z0-9+/]+=*)$/,qt={s:"start-point",e:"end-point",b:"tile",h:"half-tile"," ":"invisible-tile",x:"bouncer",k:"spikes",p:"pop-spikes",f:"fall-spikes",l:"laser-cannon",a:"swinging-axe",g:"grinder",c:"checkpoint",t:"teleporter","<":"left-treadmill",">":"right-treadmill",q:"text"},Yt=r(8669),Wt=r.n(Yt),Jt=/^(.+)~#-([a-zA-Z0-9+/]+=*)~$/,Zt={2:"start-point",1:"end-point",3:"tile",7:"half-tile",4:"invisible-tile",12:"bouncer",6:"spikes",5:"pop-spikes",13:"fall-spikes",14:"laser-cannon",9:"swinging-axe",8:"grinder",16:"checkpoint",15:"teleporter",11:"left-treadmill",10:"right-treadmill",17:"text"},Qt=new Set(["pop-spikes","grinder","swinging-axe","bouncer","teleporter","text"]);function $t(t){if(function(t){return Xt.test(t)}(t))return function(t){for(var e=Xt.exec(t),r=x()(e,3),i=r[1],n=r[2],s=atob(n),a=new DataView((0,Ht.inflateRaw)(s).buffer),o=new zt(a),l=o.readInt32(),u=[],c=0;c<l;c++){var h=String.fromCodePoint(o.readByte()),f=qt[h];if(!f)throw new Error("Unknown level object type: ".concat(JSON.stringify(h)));var d=void 0;"text"===f&&(d=o.readByteLengthString());var p=o.readByteLengthString(),y=[o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat()];u.push({type:f,name:p,matrix:y,text:d})}return{name:i,objects:u,flags:0}}(t);if(function(t){return Jt.test(t)}(t))return function(t){var e=Jt.exec(t),r=x()(e,3),i=r[1],n=r[2],s=atob(n),a=new DataView((0,Ht.inflateRaw)(s).buffer),o=new zt(a),l=o.readInt32();if(1447841861!=l){var u=l.toString(16).padStart(8,"0");throw new Error("Invalid level signature: ".concat(u))}var c=o.readByte();if(1!==c)throw new Error("Invalid level version: ".concat(c));o.offset+=2;var h=o.readByte();h&Vt.IsProtected&&(o.offset+=16);var f=o.readInt32(),d=[];d.push([1,0,0,1,0,0]);for(var p=0;p<f;p++)d.push([o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),0,0]);for(var y=o.readInt32(),v=[],m=0;m<y;m++){var g=o.readByte(),b=Zt[127&g];if(!b)throw new Error("Unknown level object type: ".concat(g));var _=void 0,R="";if(Qt.has(b)){var k=o.readByteLengthString();"text"===b?_=k:R=k}var w=void 0;(w=128&g?Wt()(d[o.readInt32()]):Wt()(d[0]))[4]=o.readFloat(),w[5]=o.readFloat(),v.push({type:b,name:R,matrix:w,text:_})}return{name:i,objects:v,flags:h}}(t);throw new Error("Invalid level code")}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var ee=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),t=i.call(this),P()(Pt()(t),"flags",Vt.ShowTeleporterName),P()(Pt()(t),"lockCamX",!1),P()(Pt()(t),"lockCamY",!0),t}return T()(n,[{key:"__preInit",value:function(){this.tMaxX=100,this.tMaxY=50,this.levelName="Multiplayer",this.obstacleColour=13421772,this.createdArray=!1,this.levelColour=3355443,this.lastX=0,this.lastY=0,this.checkPointID=0,this.arrayMode=!1,this.levelWidth=400,this.maxWidth=0,this.levelHeight=800,this.levelType="SP",this.tArr=new Array,this.toPush=new Array,this.canvas=new Ot,this.timeString="",this.timeRank="",this.popSpikes=new Array,this.tiles=new Array,this.halfTiles=new Array,this.plates=new Array,this.laserGuns=new Array,this.spikes=new Array,this.swingingAxes=new Array,this.teleporters=new Array,this.fallingSpikes=new Array,this.grinders=new Array,this.bouncers=new Array,this.laserCannons=new Array,this.checkPoints=new Array,Dt()(ut()(n.prototype),"__preInit",this).call(this)}},{key:"addCheckpoint",value:function(t){var e=new It;this.addChild(e),e.x=t.x,e.y=t.y,e.id=this.checkPointID,this.checkPointID++,this.checkPoints.push(e)}},{key:"applyObstacleColour",value:function(t){Bt.colourMe(t,this.obstacleColour)}},{key:"createArray",value:function(){var t=0;this.tArr.splice(0,this.tArr.length);for(var e=0;e<this.tMaxY;e++)for(this.tArr.push(new Array),t=0;t<this.tMaxX;t++)this.tArr[e].push(it.__internal.avm2.Runtime.uint(0));this.canvas.init(3e3,3e3),this.addChild(this.canvas)}},{key:"createBouncer",value:function(t){this.bouncers.push(t),this.createTileAt(t,99),this.applyObstacleColour(t)}},{key:"createEndPoint",value:function(t){this.createTileAt(t,4)}},{key:"createFallingSpike",value:function(t){this.fallingSpikes.push(t),this.applyObstacleColour(t)}},{key:"createGrinder",value:function(t){this.grinders.push(t),this.applyObstacleColour(t)}},{key:"createHalfBlock",value:function(t){this.createTileAt(t,3)}},{key:"createInvisibleBlock",value:function(t){this.createTileAt(t,98)}},{key:"createLaserCannon",value:function(t){this.laserCannons.push(t),this.applyObstacleColour(t.barrel)}},{key:"createLaserGun",value:function(t){this.laserGuns.push(t),this.applyObstacleColour(t.gunBarrel)}},{key:"createPlate",value:function(t){this.plates.push(t),this.applyObstacleColour(t)}},{key:"createPopSpikes",value:function(t){this.popSpikes.push(t),t.inside.spikes.hitA.visible=!1,this.applyObstacleColour(t)}},{key:"createSpike",value:function(t){this.createSpikeAt(t)}},{key:"createSpikeAt",value:function(t){var e=new jt;e.x=Math.round(t.x),e.y=Math.round(t.y),e.rotation=t.rotation,this.addChild(e),e.hitA.visible=!1,this.applyObstacleColour(e),this.spikes.push(e),t.visible=!1}},{key:"createStartPoint",value:function(t){this.createTileAt(t,2)}},{key:"createSwingingAxe",value:function(t){this.swingingAxes.push(t),t.axe.side0.visible=!1,t.axe.side1.visible=!1,this.applyObstacleColour(t)}},{key:"createTeleporter",value:function(t){this.teleporters.push(t),this.applyObstacleColour(t)}},{key:"createTile",value:function(t){this.createTileAt(t,1)}},{key:"createTileAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.toPush.push([t,e])}},{key:"createTreadmillBlock",value:function(t,e){"L"==e?this.createTileAt(t,5):this.createTileAt(t,6)}},{key:"generateLevel",value:function(){this.preInitCheck(),this.maxWidth=0,this.maxHeight=0,this.canvas.init(3e3,3e3),this.addChild(this.canvas);var t,e=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(this.toPush);try{for(e.s();!(t=e.n()).done;){var r=x()(t.value,2),i=r[0],n=r[1],s=void 0;if(s="SP"==this.levelType?new Ut:new Gt,i.rotation%90==0){i.addChild(s);var a=s.getBounds(this.canvas);i.removeChild(s),s.x=Math.round(a.x),s.y=Math.round(a.y)}else s.x=Math.round(i.x),s.y=Math.round(i.y),s.rotation=i.rotation;switch(s.x>this.maxWidth&&(this.maxWidth=s.x),s.y>this.maxHeight&&(this.maxHeight=s.y),s.typeOf=n,3===s.typeOf?this.halfTiles.push(s):i.rotation%90!=0||99===s.typeOf&&i.name.startsWith("t")||(this.tiles.push(s),s.init()),this.addChild(s),4!=n&&"SP"==this.levelType&&Bt.colourMe(s,this.levelColour),s.gotoAndStop(s.typeOf),n){case 1:case 99:s.x<3e3&&(this.addChild(s),1===n&&(this.canvas.drawMovieClip(s,s.x,s.y,0,s.transform.colorTransform),s.visible=!1));break;case 2:this.startPoint=s;break;case 4:this.endPoint=s}this.arrayMode&&(this.tArr[Math.round(i.y/25)][Math.round(i.x/25)]=n,1==n&&s.x<3e3&&(this.canvas.drawMovieClip(s,s.x,s.y),this.removeChild(s),s=null)),99!=n&&this.removeChild(i)}}catch(t){e.e(t)}finally{e.f()}this.toPush.splice(0,this.toPush.length),this.arrayMode&&this.tiles.splice(0,this.tiles.length);for(var o=0;o<this.teleporters.length;o++)this.teleporters[o].init();this.uniqueLevelInit()}},{key:"init",value:function(){this.levelWidth=this.width,this.levelHeight=this.height}},{key:"kill",value:function(){this.canvas.kill()}},{key:"killTiles",value:function(){for(var t=0;t<this.tiles.length;t++)99==this.tiles[t].typeOf&&(this.removeChild(this.tiles[t]),this.tiles[t]=null,this.tiles.splice(t,1),t--)}},{key:"ping",value:function(){}},{key:"preInitCheck",value:function(){}},{key:"repaint",value:function(){for(var t=0;t<this.spikes.length;t++)Bt.colourMe(this.spikes[t],this.obstacleColour),this.applyObstacleColour(this.spikes[t]);for(t=0;t<this.swingingAxes.length;t++)Bt.colourMe(this.swingingAxes[t],this.obstacleColour);for(t=0;t<this.teleporters.length;t++)Bt.colourMe(this.teleporters[t],this.obstacleColour);for(t=0;t<this.fallingSpikes.length;t++)Bt.colourMe(this.fallingSpikes[t],this.obstacleColour);for(t=0;t<this.grinders.length;t++)Bt.colourMe(this.grinders[t],this.obstacleColour);for(t=0;t<this.laserCannons.length;t++)Bt.colourMe(this.laserCannons[t].barrel,this.obstacleColour);for(t=0;t<this.bouncers.length;t++)Bt.colourMe(this.bouncers[t],this.obstacleColour)}},{key:"setPlayer",value:function(t){this.player=t}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(it.flash.display.MovieClip),re=function(){function t(){C()(this,t)}return T()(t,null,[{key:"ceilTo",value:function(t,e){return e*Math.ceil(t/e)}},{key:"chance",value:function(e){return 0==t.random(e)?1:0}},{key:"degToRad",value:function(t){return t*Math.PI/180}},{key:"dist",value:function(t,e,r,i){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-i,2))}},{key:"floorTo",value:function(t,e){return e*Math.floor(t/e)}},{key:"getRotationDifference",value:function(t,e){var r=e,i=t-r;return i>180?r+=360:i<-180&&(r-=360),r-t}},{key:"midPoint",value:function(t,e){var r=(t.x+e.x)/2,i=(t.y+e.y)/2;return new it.flash.geom.Point(r,i)}},{key:"pythagH",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:"random",value:function(t){return Math.floor(Math.random()*t)}},{key:"randomBoolean",value:function(){return 0!=t.random(2)}},{key:"randomColour",value:function(){return 16777215*Math.random()}},{key:"range",value:function(e){return e-t.random(2*e+1)}},{key:"restrict",value:function(t,e,r){return Math.max(Math.min(t,r),e)}},{key:"roman",value:function(t){for(var e=void 0,r=void 0,i="",n=new Array("IIII","V","XXXX","L","CCCC","D","MMMM"),s=0;s<n.length;s++)r=t%(e=n[s].length+1),i=n[s].substr(0,r)+i,t=(t-r)/e;return(i=(i=(i=(i=(i=i.replace(/DCCCC/g,"CM")).replace(/CCCC/g,"CD")).replace(/LXXXX/g,"XC")).replace(/XXXX/g,"XL")).replace(/VIIII/g,"IX")).replace(/IIII/g,"IV")}},{key:"rotateTo",value:function(t,e,r,i){return 180*-Math.atan2(r-t,i-e)/Math.PI}},{key:"roundDecimal",value:function(t,e){return it.__internal.avm2.Runtime.int(t*Math.pow(10,e))/Math.pow(10,e)}},{key:"roundTo",value:function(t,e){return e*Math.round(t/e)}},{key:"toHex",value:function(t){for(var e="",r=0,i=t;i>0;)switch(r=i%16,i/=16,r){case 10:e="A"+e;continue;case 11:e="B"+e;continue;case 12:e="C"+e;continue;case 13:e="D"+e;continue;case 14:e="E"+e;continue;case 15:e="F"+e;continue;default:e=r+e;continue}return e}}]),t}();var ie=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).thudTresh=2,t.holdDown=!1,t.guyTL=!1,t.guyTM=!1,t.xVel=0,t.guyTR=!1,t.xLove=0,t.guyLM=!1,t.yMax=20,t.cblx=0,t.cbly=0,t.holdCounter=0,t.yAcc=1,t.hops=-8,t.cbmy=0,t.cmx=0,t.cbmx=0,t.crmx=0,t.crmy=0,t.yVel=0,t.bounceTolerance=0,t.cmy=0,t.ctrx=0,t.ctry=0,t.yGrav=.6,t.playerSize=0,t.lastY=0,t.bounce=-.3,t.dXVel=8,t.yLove=3,t.lastX=0,t.modX=0,t.playerJump=!1,t.rotSpeed=1,t.typeOf="none",t.holdUp=!1,t.ctlx=0,t.ctly=0,t.guyRM=!1,t.xMax=30,t.xF=0,t.tileSize=25,t.clmx=0,t.clmy=0,t.guyBM=!1,t.guyBR=!1,t.guyBL=!1,t.ctmy=0,t.cbrx=0,t.cbry=0,t.dYVel=0,t.xAcc=1,t.ctmx=0,t.yF=1,t.jumpCounter=0,t.jumping=!1,t.jumpLevel=!1,t.xGrav=0,t.curLevel=new ee,t.targetObject=Pt()(t),t}return T()(n,[{key:"bounding",value:function(){this.yVel<0?this.checkTile(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkTile(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(re.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkTile(this.x+this.xVel+this.modX,this.y,3,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkTile(this.x+this.xVel+this.modX,this.y,2,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br?(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)):this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}},{key:"bounding2",value:function(){this.yVel<0?this.checkArray(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkArray(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(re.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkArray(this.x+this.xVel,this.y,3,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkArray(this.x+this.xVel,this.y,2,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br&&(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)),this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}},{key:"checkArray",value:function(t,e,r,i){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var n=this.targetObject.width,s=this.targetObject.height;this.ctlx=t-n/2+1,this.ctly=e-s+1,this.ctrx=t+n/2-1,this.ctry=e-s+1,this.cbrx=t+n/2-1,this.cbry=e-1,this.cblx=t-n/2+1,this.cbly=e-1,this.clmx=t-n/2+1,this.clmy=e-s/2+1,this.ctmx=t+1,this.ctmy=e-s+1,this.crmx=t+n/2-1,this.crmy=e-s/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy;var a=this.curLevel.tArr[Math.floor(this.ctly/this.tileSize)][Math.floor(this.ctlx/this.tileSize)],o=this.curLevel.tArr[Math.floor(this.ctry/this.tileSize)][Math.floor(this.ctrx/this.tileSize)],l=this.curLevel.tArr[Math.floor(this.cbry/this.tileSize)][Math.floor(this.cbrx/this.tileSize)],u=this.curLevel.tArr[Math.floor(this.cbly/this.tileSize)][Math.floor(this.cblx/this.tileSize)],c=this.curLevel.tArr[Math.floor(this.ctmy/this.tileSize)][Math.floor(this.ctmx/this.tileSize)],h=this.curLevel.tArr[Math.floor(this.clmy/this.tileSize)][Math.floor(this.clmx/this.tileSize)],f=this.curLevel.tArr[Math.floor(this.cbmy/this.tileSize)][Math.floor(this.cbmx/this.tileSize)],d=this.curLevel.tArr[Math.floor(this.crmy/this.tileSize)][Math.floor(this.crmx/this.tileSize)];switch(a>0&&(this.guyTL=1==a),o>0&&(this.guyTR=1==o),l>0&&(1==l||2==l&&this.yVel>0?this.guyBR=!0:this.guyBR=!1),u>0&&(1==u||2==u&&this.yVel>0?this.guyBL=!0:this.guyBL=!1),c>0&&(this.guyTM=1==c),f>0&&(this.guyBM=1==f),h>0&&(this.guyLM=1==h),d>0&&(this.guyRM=1==d),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&(this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),1==this.playerSize&&this.guyBR&&this.guyBL&&(this.jumpLevel=!0)):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),r){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}},{key:"checkTile",value:function(t,e,r,i){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var n=this.targetObject.width,s=this.targetObject.height;switch(this.ctlx=t-n/2+1,this.ctly=e-s+1,this.ctrx=t+n/2-1,this.ctry=e-s+1,this.cbrx=t+n/2-1,this.cbry=e-1,this.cblx=t-n/2+1,this.cbly=e-1,this.clmx=t-n/2+1,this.clmy=e-s/2+1,this.ctmx=t+1,this.ctmy=e-s+1,this.crmx=t+n/2-1,this.crmy=e-s/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy,this.tl=this.curLevel.getChildByName("tile"+Math.floor(this.ctlx/this.tileSize)+"x"+Math.floor(this.ctly/this.tileSize)),this.tr=this.curLevel.getChildByName("tile"+Math.floor(this.ctrx/this.tileSize)+"x"+Math.floor(this.ctry/this.tileSize)),this.br=this.curLevel.getChildByName("tile"+Math.floor(this.cbrx/this.tileSize)+"x"+Math.floor(this.cbry/this.tileSize)),this.bl=this.curLevel.getChildByName("tile"+Math.floor(this.cblx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tm=this.curLevel.getChildByName("tile"+Math.floor(this.ctmx/this.tileSize)+"x"+Math.floor(this.ctmy/this.tileSize)),this.lm=this.curLevel.getChildByName("tile"+Math.floor(this.clmx/this.tileSize)+"x"+Math.floor(this.clmy/this.tileSize)),this.bm=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbmy/this.tileSize)),this.rm=this.curLevel.getChildByName("tile"+Math.floor(this.crmx/this.tileSize)+"x"+Math.floor(this.crmy/this.tileSize)),this.mb=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tl&&(1==this.tl.type?(this.guyTL=!0,this.pass(this.tl)):this.guyTL=!1),this.tr&&(1==this.tr.type?(this.guyTR=!0,this.pass(this.tr)):this.guyTR=!1),this.br&&(1==this.br.type?(this.guyBR=!0,this.pass(this.br)):2==this.br.type&&this.yVel>0?this.guyBR=!0:this.guyBR=!1),this.bl&&(1==this.bl.type?(this.guyBL=!0,this.pass(this.bl)):2==this.bl.type&&this.yVel>0?this.guyBL=!0:this.guyBL=!1),this.tm&&(1==this.tm.type?(this.guyTM=!0,this.pass(this.tm)):this.guyTM=!1),this.bm&&(1==this.bm.type?(this.guyBM=!0,this.pass(this.bm)):this.guyBM=!1),this.lm&&(1==this.lm.type?(this.guyLM=!0,this.pass(this.lm)):this.guyLM=!1),this.rm&&(1==this.rm.type?(this.guyRM=!0,this.pass(this.rm)):this.guyRM=!1),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&((this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0)),1==this.playerSize&&(this.guyBR&&this.guyBL&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0))):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),r){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}},{key:"hitBlock",value:function(t){}},{key:"init",value:function(t){this.curLevel=t,this.lastX=this.x,this.lastX=this.y}},{key:"normalHorizontal",value:function(){this.xVel=this.xVel+this.xGrav,this.xGrav>0?(1==this.xLove&&(this.holdUp||this.xVel++,this.xVel>=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel>0&&(this.xLove=3),3!=this.xLove||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.xVel>1.5&&(this.xVel=3),0==this.xLove&&(this.playerJump=!1)):(1==this.xLove&&(this.holdUp||this.xVel--,this.yVel<=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel<0&&(this.xLove=3),3!=this.xLove||0!=this.xVel||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.yVel<1.5&&(this.xLove=3),0==this.xLove&&(this.playerJump=!1))}},{key:"normalVertical",value:function(){this.yVel=this.yVel+this.yGrav,this.yGrav>0?(1==this.yLove&&(this.holdUp||this.yVel++,this.yVel>=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel>0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel>1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)):(1==this.yLove&&(this.holdUp||this.yVel--,this.yVel<=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel<0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel<1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)),0!=this.yLove&&(this.jumpLevel=!1)}},{key:"pass",value:function(t){}},{key:"touchBlock",value:function(t){}},{key:"updateTileInteraction",value:function(){this.lastX=this.x,this.lastY=this.y,this.normalVertical(),this.curLevel.arrayMode?this.bounding2():this.bounding(),"egg"==this.typeOf&&(this.y=Math.floor(this.y)),"deadaphant"==this.typeOf&&(this.y=Math.floor(this.y))}}]),n}(it.flash.display.MovieClip);var ne=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelNum=0,t.colour=16777215,t.gameMode=0,t.deadCounter=0,t}return T()(n,[{key:"hitBlock",value:function(t){}},{key:"ping",value:function(){this.playerSize=1,this.thudTresh=5,this.xF=.7,this.targetObject=this.hitA,this.updateTileInteraction()}},{key:"touchBlock",value:function(t){}}]),n}(ie);var se=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ae=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var oe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).bounces=0,t.addFrameScript(0,t.frame1),t.parent.createBouncer(Pt()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var le=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ue=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).goal=0,t.counter=0,t}return T()(n,[{key:"ping",value:function(){if(this.counter++,this.x=0-this.parent.x,this.counter>=this.goal)return this.counter=0,this.setGoal(),this.cameraFlash.x=re.random(800),this.cameraFlash.rotation=re.random(360),this.cameraFlash.y=300+re.random(200),void this.cameraFlash.play()}},{key:"setGoal",value:function(){this.goal=re.random(20)+5}}]),n}(it.flash.display.MovieClip);var ce=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e){var r;return C()(this,n),(r=i.call(this,t,!0))._color=e,r}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.color)}},{key:"toString",value:function(){return this.formatToString("ColorPickerEvent","type","bubbles","cancelable","color")}},{key:"color",get:function(){return this._color}}]),n}(it.flash.events.Event);P()(ce,"CHANGE","change"),P()(ce,"ENTER","enter"),P()(ce,"ITEM_ROLL_OUT","itemRollOut"),P()(ce,"ITEM_ROLL_OVER","itemRollOver");var he=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e;C()(this,n),(e=i.call(this)).colour=0,e.colour2=0,e.playerObject=t,e.addEventListener(it.flash.events.Event.ENTER_FRAME,e.ping,!1,0,!0),e.addEventListener(it.flash.events.MouseEvent.CLICK,e.clicky,!1,0,!0),e.pickerA.addEventListener(ce.ITEM_ROLL_OVER,e.roll),e.pickerB.addEventListener(ce.ITEM_ROLL_OVER,e.roll),e.pickerA.addEventListener(ce.CHANGE,e.roll),e.pickerB.addEventListener(ce.CHANGE,e.roll),e.backToMenuButton.addEventListener(it.flash.events.MouseEvent.CLICK,e.backButt,!1,0,!0),e.pickerA.selectedColor=e.playerObject.colour,e.pickerB.selectedColor=e.playerObject.colour2,e.runnerBar.runner.colour=e.playerObject.colour,e.runnerBar.runner.colour2=e.playerObject.colour2,e.runnerBar.runner.headType=e.playerObject.headType,e.runnerBar.runner.handType=e.playerObject.handType,e.tagOf.text=e.playerObject.userName;for(var r=0;r<24;r++)e["box"+r].head.gotoAndStop(r+1),e.playerObject.achs[r]?(e["box"+r].lock.visible=!1,e["box"+r].whiteOutline.visible=!0):(e["box"+r].head.visible=!1,e["box"+r].lock.visible=!0,e["box"+r].whiteOutline.visible=!1);for(r=0;r<24;r++)e["item"+r].arm.handGear.gotoAndStop(r+1),e.playerObject.achs[r+24]?(e["item"+r].lock.visible=!1,e["item"+r].whiteOutline.visible=!0):(e["item"+r].arm.handGear.visible=!1,e["item"+r].lock.visible=!0,e["item"+r].whiteOutline.visible=!1);return e}return T()(n,[{key:"backButt",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"SaveGame")),this.dispatchEvent(new Ft(Ft.GOTO,"CharacterSelection","Back"))}},{key:"clicky",value:function(){for(var t=0;t<24;t++)this["box"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.headType=this.playerObject.headType=t+1);for(t=0;t<24;t++)this["item"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.handType=this.playerObject.handType=t+1)}},{key:"kill",value:function(){this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.ping),this.pickerA.removeEventListener(ce.ITEM_ROLL_OVER,this.roll),this.pickerB.removeEventListener(ce.ITEM_ROLL_OVER,this.roll),this.pickerA.removeEventListener(ce.CHANGE,this.roll),this.pickerB.removeEventListener(ce.CHANGE,this.roll),this.backToMenuButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.backButt)}},{key:"ping",value:function(){this.runnerBar.runner.setColours(),this.playerObject.userName=this.tagOf.text}},{key:"roll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t.currentTarget;e==this.pickerA?(this.runnerBar.runner.colour=e.selectedColor,this.playerObject.colour=e.selectedColor):(this.runnerBar.runner.colour2=e.selectedColor,this.playerObject.colour2=e.selectedColor)}}]),n}(it.flash.display.MovieClip);var fe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.addCheckpoint(Pt()(t)),t}return n}(it.flash.display.MovieClip);var de=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var pe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ye=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ve=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var me=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var ge=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var be=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var _e=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var xe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Re=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.Sprite);var ke=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var we=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip),Ee=function(){function t(){C()(this,t),this.frameBased=!0,this.completeString="",this.timerCounter=0,this.timerInc=0}return T()(t,[{key:"getFrameTime",value:function(){return this.timerCounter}},{key:"getRealTime",value:function(e){return t.translateTime(e)}},{key:"getTimeAsSeconds",value:function(){return Math.floor(this.timerCounter/t.fr)%60}},{key:"getTimeAsString",value:function(){return this.completeString}},{key:"getTimeAsTotalSeconds",value:function(){return Math.floor(this.timerCounter/t.fr)}},{key:"handleCounter",value:function(){this.frameBased&&(this.timerCounter=this.timerCounter+1,this.completeString=t.translateTime(this.timerCounter))}},{key:"initTimer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.frameBased=!1,this.timer=new it.flash.utils.Timer(t),this.timerInc=t,this.timer.addEventListener("timer",this.timerHandler),this.timer.start()}},{key:"killTimer",value:function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener("timer",this.timerHandler))}},{key:"ping",value:function(){this.handleCounter()}},{key:"resetTime",value:function(){this.timerCounter=0}},{key:"setTime",value:function(t){this.timerCounter=t}},{key:"setTimeAsTotalSeconds",value:function(e){this.timerCounter=e*t.fr}},{key:"timerHandler",value:function(e){this.timerCounter=this.timerCounter+Math.ceil(t.fr*this.timerInc/1e3)}}],[{key:"translateTime",value:function(e){var r,i,n=Math.round(e%t.fr/t.fr*100);r=n<10?"0"+n:String(n);var s=Math.floor(e/t.fr)%60;i=s<10?"0"+s:String(s);var a=Math.floor(e/(60*t.fr));return(a<10?"0"+a:String(a))+":"+i+"."+r}}]),t}();P()(Ee,"fr",30);var Se=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e;return C()(this,n),(e=i.call(this)).user="bob",e.timer=new Ee,e.user=t,e.timer.initTimer(),e.addEventListener(it.flash.events.Event.ENTER_FRAME,e.counting),e.whoBeat.text=e.user+" just beat the level!",e}return T()(n,[{key:"counting",value:function(){this.timeOf.text=String(15-this.timer.getTimeAsSeconds())}},{key:"endNow",value:function(){this.timer.killTimer(),this.dispatchEvent(new Ft(Ft.SEND,"EndCountdown","End"))}},{key:"ping",value:function(t,e){this.x=t,this.y=e,15-this.timer.getTimeAsSeconds()<=0&&this.endNow()}}]),n}(it.flash.display.MovieClip);var Ce=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createEndPoint(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Le=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,14,t.frame15,29,t.frame30),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame15",value:function(){this.parent.loadNextSinglePlayerLevel()}},{key:"frame30",value:function(){this.parent.endFadeOut(this)}}]),n}(it.flash.display.MovieClip);var Te=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Me=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Pe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Ae=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e,r){var s;return C()(this,n),(s=i.call(this,n.SCROLL,!1,!1))._direction=t,s._delta=e,s._position=r,s}return T()(n,[{key:"clone",value:function(){return new n(this._direction,this._delta,this._position)}},{key:"toString",value:function(){return this.formatToString("ScrollEvent","type","bubbles","cancelable","direction","delta","position")}},{key:"delta",get:function(){return this._delta}},{key:"direction",get:function(){return this._direction}},{key:"position",get:function(){return this._position}}]),n}(it.flash.events.Event);P()(Ae,"SCROLL","scroll");var De=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).achievements=new Array,t}return T()(n,[{key:"addListeners",value:function(){this.holder.backToButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"buttons",value:function(t){switch(t.currentTarget){case this.holder.backToButton:this.dispatchEvent(new Ft(Ft.GOTO,"FlairMenu","Back"))}}},{key:"handleScrollBarScroll",value:function(t){var e=this.height-50-this.holder.scrollBar_mc.height;this.y=0+this.holder.scrollBar_mc.percent*-e}},{key:"init",value:function(t,e){var r=null;this.playerObject=t,this.achievements=e,this.addListeners();for(var i=0;i<48;i++)r=e[i],this["s"+i].nam.text=r.achName,this["s"+i].desc.text=r.description,this.playerObject.achs[i]?(this["s"+i].lock.visible=!1,i>=24?(this["s"+i].headgear.handGear.gotoAndStop(i-23),this["s"+i].headgear.head.visible=!1,this["s"+i].headgear.head2.visible=!1):(this["s"+i].headgear.head.gotoAndStop(i+1),this["s"+i].headgear.handGear.visible=!1)):this["s"+i].headgear.visible=!1;this.holder.scrollBar_mc.addEventListener(Ae.SCROLL,this.handleScrollBarScroll,!1,0,!0)}},{key:"kill",value:function(){this.holder.backToButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.ping)}},{key:"ping",value:function(){this.holder.y=0-this.y}},{key:"updateScrollBar",value:function(){var t=this.height-50-this.holder.scrollBar_mc.height;this.holder.scrollBar_mc.maxScrollPosition=t,this.y=0+this.holder.scrollBar_mc.percent*-t}}]),n}(it.flash.display.MovieClip);var Oe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Ne=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(634,t.frame635,689,t.frame690),t}return T()(n,[{key:"frame635",value:function(){this.parent.parent.endEnding()}},{key:"frame690",value:function(){this.parent.endEnding()}}]),n}(it.flash.display.MovieClip);function Be(){return it.flash.display.Stage.__current.__children[0]}var Fe=function(){function t(){C()(this,t),this.stageHeight=500,this.lockX=!1,this.lockY=!1,this.enforceLimits=!0,this.yPos=0,this.driftSpeed=.6,this.stageWidth=800,this.camX=0,this.camY=0,this.xPos=0,this.limits=new Array(400,2e3,0,0)}return T()(t,[{key:"init",value:function(t){this.target=t}},{key:"move",value:function(t,e,r){if(!this.lockX&&this.limits[0]<this.limits[1]){var i=-t+this.stageWidth/2,n=this.stageWidth/2-this.limits[0],s=this.stageWidth/2-this.limits[1];this.enforceLimits&&(i=Math.max(Math.min(i,n),s)),this.target.x=r?Bt.ease(this.target.x,i,this.driftSpeed):i}if(!this.lockY){var a=-e+this.stageHeight/2,o=this.stageHeight/2-this.limits[2],l=this.stageHeight/2-this.limits[3];this.enforceLimits&&(a=Math.max(Math.min(a,o),l)),this.target.y=r?Bt.ease(this.target.y,a,this.driftSpeed):a}this.camX=this.target.x,this.camY=this.target.y}},{key:"ping",value:function(t,e){this.move(t,e,!0)}},{key:"rotateAt",value:function(t,e,r){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-r),this.affineTransform.rotate(t),this.affineTransform.translate(e,r),this.target.transform.matrix=this.affineTransform}},{key:"scaleAt",value:function(t,e,r){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-r),this.affineTransform.scale(t,t),this.affineTransform.translate(e,r),this.target.transform.matrix=this.affineTransform}}]),t}();var Ie=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).objects=new Array,t}return T()(n,[{key:"killObject",value:function(t){this.objects[t].parent.removeChild(this.objects[t]),this.objects[t]=null,this.objects.splice(t,1)}},{key:"manage",value:function(t){this.objects.push(t)}},{key:"ping",value:function(){for(var t=null,e=0;e<this.objects.length;e++)(t=this.objects[e]).timerKill?(t.ping(),t.killCounter--,t.killCounter<=0&&(this.killObject(e),e--)):t.currentFrame==t.totalFrames&&(this.killObject(e),e--)}}]),n}(it.flash.display.MovieClip),je=function(){function t(){C()(this,t)}return T()(t,null,[{key:"clearKeys",value:function(e){t.keysDown=new Object}},{key:"initialize",value:function(e,r){t.dualKey=r,e.addEventListener(it.flash.events.KeyboardEvent.KEY_DOWN,t.keyPressed),e.addEventListener(it.flash.events.KeyboardEvent.KEY_UP,t.keyReleased),e.addEventListener(it.flash.events.Event.DEACTIVATE,t.clearKeys),t.initialized=!0}},{key:"isDown",value:function(e){if(!t.initialized)throw new Error("Key class has yet been initialized.");if("number"==typeof e)return Boolean(e in t.keysDown);if(t.dualKey){if(e==t.LEFT)return Boolean(t.A in t.keysDown)||Boolean(t.LEFTKEY in t.keysDown);if(e==t.RIGHT)return Boolean(t.D in t.keysDown)||Boolean(t.RIGHTKEY in t.keysDown);if(e==t.UP)return Boolean(t.W in t.keysDown)||Boolean(t.UPKEY in t.keysDown);if(e==t.DOWN)return Boolean(t.S in t.keysDown)||Boolean(t.DOWNKEY in t.keysDown)}return!1}},{key:"isInitialized",value:function(){return t.initialized}},{key:"keyPressed",value:function(e){t.keysDown[e.keyCode]=!0}},{key:"keyReleased",value:function(e){e.keyCode in t.keysDown&&delete t.keysDown[e.keyCode]}}]),t}();P()(je,"A",65),P()(je,"allLetters",new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")),P()(je,"ARROWKEYS","arrowKeys"),P()(je,"D",68),P()(je,"DOWN","down"),P()(je,"DOWNKEY",it.flash.ui.Keyboard.DOWN),P()(je,"dualKey",!1),P()(je,"EIGHT",56),P()(je,"FIVE",53),P()(je,"FOUR",52),P()(je,"initialized",!1),P()(je,"keysDown",new Object),P()(je,"LEFT","left"),P()(je,"LEFTKEY",it.flash.ui.Keyboard.LEFT),P()(je,"M",77),P()(je,"NINE",57),P()(je,"ONE",49),P()(je,"P",80),P()(je,"Q",81),P()(je,"RIGHT","right"),P()(je,"RIGHTKEY",it.flash.ui.Keyboard.RIGHT),P()(je,"S",83),P()(je,"SEVEN",55),P()(je,"SIX",54),P()(je,"THREE",51),P()(je,"TWO",50),P()(je,"UP","up"),P()(je,"UPKEY",it.flash.ui.Keyboard.UP),P()(je,"W",87),P()(je,"WASD","wasd"),P()(je,"ZERO",48);var Ue=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).isMain=!0,t.level=15,t.oldX=0,t.placing=0,t.wins=295,t.oldY=0,t.id=0,t.kudos=10,t.curCheck=0,t.matches=1254,t.headType=3,t.toX=0,t.toY=0,t.handType=12,t.colour=16777215,t.time=45,t.xV=0,t.colour2=16777215,t.tCounter=0,t.userName="bob",t.xp=1500,t.completedLevel=!1,t.yV=0,t}return T()(n,[{key:"addCheckPoint",value:function(t){this.checkPoints[t].addFlag(this,this.colour,this.colour2)}},{key:"duck",value:function(){this.gotoAndStop(4)}},{key:"fuel",value:function(){this.setColours()}},{key:"handleSkin",value:function(){this.player.hitHalf?this.duck():this.player.jumpLevel?je.isDown(je.LEFT)?(je.isDown(je.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=-1):je.isDown(je.RIGHT)?(je.isDown(je.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=1):je.isDown(je.DOWN)?this.duck():this.gotoAndStop(1):this.gotoAndStop(3),this.x=this.player.x,this.y=this.player.y}},{key:"init",value:function(t,e){this.player=t,this.colour=this.player.colour,this.colour2=this.player.colour2,this.checkPoints=e}},{key:"ping",value:function(){this.handleSkin(),this.setColours()}},{key:"setChecks",value:function(t){this.checkPoints=t}},{key:"setColours",value:function(){var t=null;this.body.head.gotoAndStop(this.headType),this.body.handGear.handGear.gotoAndStop(this.handType);for(var e=new Array(this.body.cb.i,this.body.db.i,this.body.head.hat,this.body.handGear.handGear),r=0;r<e.length;r++)t=e[r],Bt.colourMe(t,this.colour2);var i=new Array(this.body.aa.o,this.body.aa.i,this.body.ba.o,this.body.ba.i,this.body.ab.o,this.body.ab.i,this.body.cb.o,this.body.db.o,this.body.head.o,this.body.body.o,this.body.bb.o,this.body.bb.i,this.body.ca.o,this.body.ca.i,this.body.da.o,this.body.da.i);for(r=0;r<i.length;r++)t=i[r],Bt.colourMe(t,this.colour);this.youArrow&&Bt.colourMe(this.youArrow.lilArrow,this.colour)}}]),n}(it.flash.display.MovieClip);var Ve=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(Ue);var Ge=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).ghosts=new Array,t}return T()(n,[{key:"addGhosts",value:function(){for(var t=null,e=0;e<this.logs.length;e++)e!=this.logs.length-1&&(t=new Ve,this.addChild(t),this.ghosts.push(t),t.alpha=.2)}},{key:"handleGhosts",value:function(t){for(var e=null,r=null,i=0;i<this.ghosts.length;i++)e=this.ghosts[i],t<this.logs[i].length&&(r=this.logs[i][t],e.x=r[0],e.y=r[1],e.gotoAndStop(r[2]),e.scaleX=r[3])}},{key:"init",value:function(t){this.logs=t}},{key:"killGhosts",value:function(){for(var t=0;t<this.ghosts.length;t++)this.removeChild(this.ghosts[t]),this.ghosts[t]=null;this.ghosts.splice(0,this.ghosts.length)}},{key:"ping",value:function(t){this.handleGhosts(t)}},{key:"reset",value:function(){this.killGhosts(),this.addGhosts()}}]),n}(it.flash.display.MovieClip);var He=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(78,t.frame79),t}return T()(n,[{key:"frame79",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"LevelEnd","Lobby"))}}]),n}(it.flash.display.MovieClip);var Ke=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e;return C()(this,n),(e=i.call(this)).startBox.stopAtStep=t,e}return n}(it.flash.display.MovieClip),ze=function(){function t(){C()(this,t),this.isAtCheckpoint=!1,this.maxLogLength=1e3,this.maxLogs=1,this.playHead=0,this.logs=new Array}return T()(t,[{key:"newLog",value:function(){this.logs.length>this.maxLogs&&this.logs.splice(0,1);var t=new Array;this.logs.push(t),this.curLog=this.logs[this.logs.length-1]}},{key:"ping",value:function(t){this.curLog.length<this.maxLogLength&&(this.curLog.push(new Array(t.x,t.y,t.currentFrame,t.body.currentFrame,t.scaleX,this.isAtCheckpoint)),this.playHead=this.curLog.length-1)}},{key:"setFromLog",value:function(t){t.x=this.curLog[this.playHead][0],t.y=this.curLog[this.playHead][1],t.gotoAndPlay(this.curLog[this.playHead][2]),t.body.gotoAndPlay(this.curLog[this.playHead][3]),t.scaleX=this.curLog[this.playHead][4]}}]),t}();var Xe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).bodyParts=new Array,t}return T()(n,[{key:"addDeadBody",value:function(t,e){var r=0,i=null,n=t;for(r=0;r<6;r++)(i=new ne).x=n.x,i.y=n.y,i.gotoAndStop(r+1),i.init(this.level),Bt.colourMe(i,e),i.colour=e,n.y>500?(i.xVel=re.range(5),i.yVel=-10-re.random(20)):(i.xVel=re.range(5),i.yVel=re.range(5)),this.addChild(i),this.bodyParts.push(i)}},{key:"destroy",value:function(t){var e=null,r=this.bodyParts[t];r.y<=500&&((e=new it.flash.geom.ColorTransform).color=r.colour,this.bg.drawMovieClip(r,1,2,3,e)),this.removeChild(r),this.bodyParts[t]=null,this.bodyParts.splice(t,1)}},{key:"handleBodyParts",value:function(){for(var t=null,e=0;e<this.bodyParts.length;e++)(t=this.bodyParts[e]).ping(),this.bg.lineTo(t.lastX,t.lastY,t.x,t.y,1,16777215,.3),(0==Math.round(t.xVel)&&0==Math.round(t.yVel)||t.y>500)&&(t.deadCounter++,t.deadCounter>5&&this.destroy(e))}},{key:"init",value:function(t,e){this.level=t,this.bg=e}},{key:"ping",value:function(){this.handleBodyParts()}}]),n}(it.flash.display.Sprite),qe=function(){function t(){C()(this,t)}return T()(t,[{key:"stopSound",value:function(){}}],[{key:"handleMute",value:function(){t.muted=!t.muted;var e=new it.flash.media.SoundTransform;t.muted?e.volume=0:e.volume=1,it.flash.media.SoundMixer.soundTransform=e}},{key:"killAll",value:function(){it.flash.media.SoundMixer.stopAll()}},{key:"loopSound",value:function(t){(new(it.flash.utils.getDefinitionByName(t))).play(0,999999)}},{key:"playSound",value:function(t){(new(it.flash.utils.getDefinitionByName(t))).play(0,1)}},{key:"stopAllSounds",value:function(){it.flash.media.SoundMixer.stopAll()}}]),t}();function Ye(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return We(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?We(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}P()(qe,"muted",!1);var Je=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).burningFlow=!1,t.isMain=!0,t.placing=0,t.level=15,t.wins=295,t.gameName="01234567",t.kudos=10,t.playerXNormalMax=8,t.playerXBurningMax=50,t.playerYMax=15,t.flowPoints=0,t.matches=1254,t.gameMode=0,t.burningXAcc=3,t.rewinding=!1,t.handType=0,t.playerXMax=8,t.headType=0,t.time=0,t.teleporting=!1,t.fullFlow=!1,t.levelNum=0,t.normalXAcc=.8,t.kudosToGive=2,t.hitHalf=!1,t.xp=1500,t.completedLevel=!1,t.beltSpeed=2,t.colour=re.randomColour(),t.colour2=re.randomColour(),t.userName="Naruto"+re.random(1e3),t}return T()(n,[{key:"checkPointInteraction",value:function(){for(var t=0;t<this.curLevel.checkPoints.length;t++)this.hitTestObject(this.curLevel.checkPoints[t])&&this.curLevel.startPoint!=this.curLevel.checkPoints[t]&&this.curLevel.checkPoints[t].isNew(this)&&(qe.playSound("CheckpointSound"),this.curLevel.startPoint=this.curLevel.checkPoints[t],this.curLevel.checkPoints[t].addFlag(this,this.colour,this.colour2))}},{key:"doTheJump",value:function(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(qe.playSound("JumpSound"),this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1,this.parent.playerObject.jumps++,this.parent.playerObject.jumps>=1e3&&this.dispatchEvent(new kt(kt.SEND,6)))}},{key:"handleFlow",value:function(){var t=Be().multiplayer.game.level.flags&Vt.FlowModeMask;t!==Vt.FlowDisabled&&(this.burningFlow?(t!==Vt.FlowAlways&&(this.flowPoints=this.flowPoints-5),je.isDown(it.flash.ui.Keyboard.SPACE)||je.isDown(it.flash.ui.Keyboard.SHIFT)?this.flowPoints<=0&&(this.flowPoints=0,this.burningFlow=!1,this.parent.stopBurningFlowMusic(),this.fullFlow&&this.dispatchEvent(new kt(kt.SEND,8))):(this.burningFlow=!1,this.parent.stopBurningFlowMusic())):(t===Vt.FlowAlways?(this.flowPoints=400,this.fullFlow=!0):(Math.abs(this.xVel)>2?this.flowPoints=this.flowPoints+2:this.flowPoints=this.flowPoints-20,this.flowPoints<0&&(this.flowPoints=0),this.flowPoints>400?(this.flowPoints=400,this.dispatchEvent(new kt(kt.SEND,7)),this.fullFlow=!0):this.fullFlow=!1),(je.isDown(it.flash.ui.Keyboard.SPACE)||je.isDown(it.flash.ui.Keyboard.SHIFT))&&this.flowPoints>=100&&(this.burningFlow=!0,this.parent.startBurningFlowMusic(),qe.playSound("Takeoff"))))}},{key:"handleHalfTiles",value:function(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}},{key:"hitBlock",value:function(t){}},{key:"initPlayer",value:function(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8,this.normalXAcc=.8,this.burningXAcc=1.5,(Be().multiplayer.game.level.flags&Vt.FlowModeMask)===Vt.FlowAlways&&(this.flowPoints=400,this.fullFlow=!0)}},{key:"kill",value:function(){this.dispatchEvent(new Ft(Ft.SEND,"KILL"))}},{key:"levelInteraction",value:function(){var t=this.curLevel.maxHeight;(t<=550&&this.y>550||t>550&&this.y>t+50)&&this.kill(),this.hitTestObject(this.curLevel.endPoint)&&(this.completedLevel=!0,this.parent.finishLevel())}},{key:"movePlayer",value:function(){je.isDown(je.UP)?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),je.isDown(je.DOWN)?(this.holdDown||(this.holdDownX=this.x),this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown&&Math.abs(this.holdDownX-this.x)>200&&this.dispatchEvent(new kt(kt.SEND,9)),this.holdDown=!1,this.xF=.7,this.scaleY=1),je.isDown(je.LEFT)?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):je.isDown(je.RIGHT)&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),je.isDown(je.LEFT)||je.isDown(je.RIGHT)?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5,this.burningFlow?(this.playerXMax=this.playerXBurningMax,this.xAcc=this.burningXAcc):(this.xAcc=this.normalXAcc,this.playerXMax=Bt.ease(this.playerXMax,this.playerXNormalMax,.3)),this.handleFlow()}},{key:"ping",value:function(){this.completedLevel||(this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.spikeInteraction(),this.levelInteraction(),this.teleporterInteraction(),this.checkPointInteraction())}},{key:"spikeInteraction",value:function(){for(var t=0;t<this.curLevel.spikes.length;t++)if(this.hitTestObject(this.curLevel.spikes[t].hitA))return void this.kill();for(t=0;t<this.curLevel.swingingAxes.length;t++)if(this.hitTestObject(this.curLevel.swingingAxes[t].axe)&&(this.hitTestObject(this.curLevel.swingingAxes[t].axe.side0)||this.hitTestObject(this.curLevel.swingingAxes[t].axe.side1)))return void this.kill();for(t=0;t<this.curLevel.popSpikes.length;t++)if(this.hitTestObject(this.curLevel.popSpikes[t].inside.spikes.hitA))return void this.kill();for(t=0;t<this.curLevel.grinders.length;t++)if(re.dist(this.x,this.y,this.curLevel.grinders[t].x,this.curLevel.grinders[t].y)<this.curLevel.grinders[t].dist)return void this.kill();var e,r=Ye(this.curLevel.bouncers);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(this.hitTestObject(i)&&1==i.currentFrame){var n=i.rotation*(Math.PI/180),s=0==n?0:Math.round(20*Math.sin(n)),a=Math.round(-20*Math.cos(n));return 0!=s&&(this.xVel=s),this.yVel=a,this.yLove=this.yVel>0?-1:1,i.bounces++,10==i.bounces&&this.dispatchEvent(new kt(kt.SEND,10)),this.playerJump=!0,this.jumpLevel=!1,i.gotoAndPlay(2),void qe.playSound("BouncerSound")}}}catch(t){r.e(t)}finally{r.f()}for(t=0;t<this.curLevel.plates.length;t++)this.hitTestObject(this.curLevel.plates[t])?(this.curLevel.plates[t].gotoAndStop(2),this.curLevel["lg"+this.curLevel.plates[t].name.substr(1,1)].gotoAndStop(2)):(this.curLevel.plates[t].gotoAndStop(1),this.curLevel["lg"+this.curLevel.plates[t].name.substr(1,1)].gotoAndStop(1));var o,l=Ye(this.curLevel.fallingSpikes);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=Math.round(u.rotation),h=void 0;switch(c){case 0:case 180:case-180:h=!0;break;case 90:case-90:h=!1;break;default:continue}if(0==u.smashState)(h?Math.abs(this.x-u.x)<10:Math.abs(this.y-u.y)<10)&&(u.smashState=1,qe.playSound("SpikeDrop"));else if(1==u.smashState){u.spikeIn.y-=20;var f,d=Ye(this.curLevel.tiles);try{for(d.s();!(f=d.n()).done;)if(f.value.hitTestObject(u.spikeIn.hitA)){u.smashState=2,qe.playSound("Thud");break}}catch(t){d.e(t)}finally{d.f()}}else 2==u.smashState&&(u.spikeIn.y+=10,u.spikeIn.y>0&&(u.smashState=0,u.spikeIn.y=0));if(this.hitTestObject(u.spikeIn.hitA))return void this.kill()}}catch(t){l.e(t)}finally{l.f()}}},{key:"teleporterInteraction",value:function(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),this.parent.emitBeam(this.x-17,this.y,25),void qe.playSound("WhooshSound")}},{key:"touchBlock",value:function(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}]),n}(ie);var Ze=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"ping",value:function(){this.parent.singlePlayer?this.x=0-this.parent.x/10:(this.x=0-this.parent.x,this.y=0-this.parent.y),3==this.currentFrame&&(this.cA.ping(),this.cB.ping())}}]),n}(it.flash.display.MovieClip);var Qe=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var $e=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).flowCount=0,t.levelNum=0,t.flow.flowInside.flowBar.scaleX=0,t.flow.flowReady.visible=!1,t}return T()(n,[{key:"movePanel",value:function(){this.x=0-this.handyCam.camX,this.y=0-this.handyCam.camY}},{key:"movePlayer",value:function(){}},{key:"ping",value:function(t,e){this.handyCam=t,this.player=e,this.movePanel(),this.updateFlow()}},{key:"updateFlow",value:function(){var t,e,r=null===(t=Be().multiplayer)||void 0===t||null===(e=t.game)||void 0===e?void 0:e.level;if(r){var i=r.flags&Vt.FlowModeMask;switch(i){case Vt.FlowDisabled:return void(this.flow.visible=!1);case Vt.FlowNormal:this.flow.visible=!0,this.flow.flowInside.flowBar.scaleX=Bt.ease(this.flow.flowInside.flowBar.scaleX,this.player.flowPoints/400,.9);break;case Vt.FlowAlways:this.flow.visible=!0,this.flow.flowInside.flowBar.scaleX=1}this.player.burningFlow?(this.flowCount++,1==this.flowCount&&this.flow.flowReady.gotoAndPlay(31),this.flow.flowInside.filters=new Array(new it.flash.filters.GlowFilter(39423,1,15,15,1.5))):(this.flowCount=this.flowCount-3,this.bordering.filters=new Array,this.flow.flowInside.filters=new Array,this.player.flowPoints>=100?(Bt.colourMe(this.flow.flowInside,16777215),0==this.flow.flowReady.visible&&i!==Vt.FlowAlways&&(this.flow.flowReady.visible=!0,this.flow.flowReady.gotoAndPlay(2),qe.playSound("FlowReady"))):(this.flow.flowReady.visible=!1,Bt.colourMe(this.flow.flowInside,11184810))),this.flowCount=Math.min(this.flowCount,100),this.flowCount<=0?(this.flowCount=0,this.bordering.filters=new Array):this.bordering.filters=new Array(new it.flash.filters.GlowFilter(39423,Math.min(this.flowCount/10,1),0,Math.min(15,this.flowCount),Math.min(10,this.flowCount/10)))}}}]),n}(it.flash.display.MovieClip);var tr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var er=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var rr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ir=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var nr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).timeTotal=0,t}return n}(it.flash.display.MovieClip);var sr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var ar=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e){var r;return C()(this,n),(r=i.call(this)).skin=t,r.playerData=e,r.nameOf.text=r.playerData.userName,Bt.colourMe(r.lilArrow,r.playerData.colour),r}return n}(it.flash.display.MovieClip);var or=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var lr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var ur=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var cr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var hr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var fr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var dr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var pr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var yr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var vr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).xCamX=375,t.yCamY=375,t.updateMethod=0,t.cLeft=!1,t.fastSound=!1,t.tCounter=0,t.levelFinished=!1,t.firstSoundPlay=!0,t.cUp=!1,t.updateRate=7,t.mode="PRACTICE",t.songPlaying="none",t.startTheCountdown=!1,t.levelNum=0,t.tryFrame=0,t.deathScreens=0,t.cRight=!1,t.level30Okay=!1,t.timeCounter=0,t.mpLevel=100,t.cDown=!1,t.goAhead=!1,t.rewindCounter=0,t.spaceDown=!1,t.buildStr="0.2.3",t.cheerCounter=0,t.isPaused=!1,t.tConnected=!1,t.camera=new Fe,t.logger=new ze,t.ghosting=new Ge,t.placingBonuses=new Array(250,150,100,50),t.bg=new Ot,t.skinLayer=new it.flash.display.MovieClip,t.morgue=new Xe,t.uiPanel=new $e,t.timer=new Ee,t.emit=new Ie,t.robots=new Array,t.tempShape=new it.flash.display.Shape,t.playerBars=new Array,t.checkPoints=new Array,t.youArrows=new Array,t.skyLine=new Ze,t.sForward=new tr,t.sBackward=new er,t.sFast=new rr,t.players=new Array,t.tCounterGoal=t.updateRate,t.keysPressed=new Array(!1,!1,!1,!1),t.updaters=new Array(0,0,0,0,0,0,0,0),t.finalPlacingArray=new Array,t.playerSkins=new Array,t}return T()(n,[{key:"added",value:function(t){this.stage.focus=this.stage}},{key:"addSkin",value:function(){this.skin&&this.removeChild(this.skin),this.skin=new Ve,this.addChild(this.skin),this.skin.init(this.player,this.level.checkPoints),this.skin.headType=this.player.headType,this.skin.handType=this.player.handType}},{key:"checkPoint",value:function(){this.tConnected&&this.tubes.sendMessage("CHECK"+this.curLevel.startPoint.id)}},{key:"chooseMultiplayerSong",value:function(){this.startFinal()}},{key:"chooseSong",value:function(){this.levelNum<=2?this.startInside():this.levelNum<=9?this.startStadium():this.levelNum<=10?this.startInside():this.levelNum<=14?this.startLab():this.levelNum<=15?this.startInside():this.levelNum<=16?(this.startLab(),qe.stopAllSounds(),this.songPlaying="none"):this.levelNum<=19?this.startLab():this.levelNum<=24?this.startSkyline():this.levelNum<=29?this.startFinal():this.levelNum}},{key:"collectSign",value:function(){this.playerObject.signs[this.levelNum]=!0;for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;t>=1&&this.dispatchEvent(new kt(kt.SEND,15)),t>=8&&this.dispatchEvent(new kt(kt.SEND,16)),t>=15&&this.dispatchEvent(new kt(kt.SEND,17)),t>=24&&this.dispatchEvent(new kt(kt.SEND,18)),t>=30&&this.dispatchEvent(new kt(kt.SEND,19)),this.updateUISign(),this.uiPanel.caution.gotoAndPlay(2)}},{key:"countDownFinish",value:function(){this.goAhead=!0}},{key:"countdownStart",value:function(){this.levelStart=new Ke("MP"===this.mode),this.levelStart.gotoAndPlay(1),this.addChild(this.levelStart),this.uiPanel&&this.contains(this.uiPanel)&&(this.levelStart.startBox.levelName.nameOf.text=this.uiPanel.levName.text)}},{key:"createNewLevel",value:function(){this.levelFinished=!1,this.tryFrame=0,this.checkPoints.splice(0,this.checkPoints.length),this.level.kill(),this.removeChild(this.level),this.level=null,this.curLevel=null,this.setLevel(),this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,this.camera.camX=0,this.camera.camY=0,this.x=0,this.y=0,"SP"===this.mode?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var t=0;t<this.playerBars.length;t++)this.uiPanel.removeChild(this.playerBars[t]),this.playerBars[t]=null;this.playerBars.splice(0,this.playerBars.length),this.startLevel()}},{key:"emitBeam",value:function(t,e,r){var i=new ir;this.addChild(i),i.x=t,i.y=e,i.width=r,Bt.colourMe(i,this.player.colour),this.emit.manage(i)}},{key:"endCountdownFinish",value:function(){var t=null,e=NaN,r=null;this.player.rewinding&&this.stopRewinding(),this.removeChild(this.endCountdown),this.endCountdown=null,this.levelEnd=new He,this.addChild(this.levelEnd),this.levelEnd.x=0-this.x,this.levelEnd.y=0-this.y,this.goAhead=!1;for(var i=new Array,n=0;n<this.players.length;n++)0==this.players[n].completedLevel&&i.push(this.players[n]);for(;i.length>0;){for(t=i[0],e=0,n=0;n<i.length;n++)t.x>i[n].x&&(t=i[n],e=Number(n));r=new nr,this.uiPanel.addChild(r),r.x=800,r.y=180+30*this.playerBars.length,r.timeTotal=0,r.nameOf.text=t.userName,r.player=t,this.playerBars.push(r),this.finalPlacingArray.push(r),i.splice(e,1)}this.tubes.giveFinalList(this.finalPlacingArray)}},{key:"endEnding",value:function(){this.level30Okay=!0}},{key:"endFadeOut",value:function(){this.fadeOut&&(this.fadeOut.stop(),this.removeChild(this.fadeOut),this.fadeOut=null)}},{key:"endSoundBackward",value:function(t){this.soundBackward.stop(),this.soundBackward=this.sBackward.play(0,99999)}},{key:"endSoundFast",value:function(t){this.soundFast.stop(),this.soundFast=this.sFast.play(0,99999)}},{key:"endSoundForward",value:function(t){this.soundForward.stop(),this.soundForward=this.sForward.play(0,99999)}},{key:"exitOut",value:function(){qe.stopAllSounds(),"SP"===this.mode?(this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),this.dispatchEvent(new Ft(Ft.GOTO,"Game","SinglePlayerMenu"))):"PRACTICE"===this.mode&&this.dispatchEvent(new Ft(Ft.GOTO,"Game","EndPractice"))}},{key:"finishLevel",value:function(){var t=NaN;if("SP"===this.mode||"PRACTICE"===this.mode)this.levelFinished=!0,this.fadeOut=new Le,this.fadeOut.gotoAndPlay(2),this.player.burningFlow&&(this.player.burningFlow=!1,this.stopBurningFlowMusic()),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y;else if("MP"===this.mode)for(this.uiPanel.arrowKeysToPan.gotoAndStop(2),this.xCamX=this.player.x,this.yCamY=this.player.y,this.levelFinished=!0,t=0;t<this.players.length;t++)this.players[t].isPlayer&&(this.players[t].time=this.timer.getFrameTime(),this.tubes.sendTime(),this.iAmDone(this.players[t].userName))}},{key:"handleCamera",value:function(){if("SP"!==this.mode){var t=this.level.maxWidth,e=Math.max(this.level.maxHeight,225);"MP"===this.mode&&this.player.completedLevel?(je.isDown(je.LEFT)&&(this.xCamX-=20),je.isDown(je.RIGHT)&&(this.xCamX+=20),je.isDown(je.UP)&&(this.yCamY-=20),je.isDown(je.DOWN)&&(this.yCamY+=20),this.xCamX=Math.min(Math.max(this.xCamX,400),t-400),this.yCamY=Math.min(Math.max(this.yCamY,250),e-225),this.camera.limits=new Array(400,t-400,250,e-225),this.camera.ping(this.xCamX,this.yCamY)):"PRACTICE"!==this.mode||this.levelFinished||(this.camera.limits=new Array(400,t-400,250,e-225),this.camera.ping(this.player.x,this.player.y))}else if(this.camera.limits=new Array(400,this.level.maxWidth-400,0,0),this.player.burningFlow){var r=new it.flash.geom.ColorTransform;r.color=16777215,this.camera.ping(this.player.x+200,this.player.y),this.skin.filters=new Array(new it.flash.filters.GlowFilter(39423,1,15,15,1.5,1,!1,!0)),this.bg.drawMovieClip(this.skin,1,2,3,r)}else this.camera.ping(this.player.x,this.player.y),this.skin.filters=new Array}},{key:"handleCheering",value:function(){}},{key:"handleLaserCannons",value:function(){for(var t=null,e=NaN,r=NaN,i=NaN,n=NaN,s=NaN,a=!1,o=NaN,l=NaN,u=NaN,c=NaN,h=NaN,f=NaN,d=NaN,p=null,y=this.level.laserCannons,v=0;v<y.length;v++){for((t=y[v]).setAngle=re.rotateTo(this.player.x,this.player.y,t.x,t.y),e=.1,e=t.timeOut>=25?.5:.1,t.rotation=Bt.ease(t.rotation,t.rotation+re.getRotationDifference(t.rotation,t.fakeAngle),e),i=(r=10)*Math.sin(Math.PI/180*t.setAngle),n=0-r*Math.cos(Math.PI/180*t.setAngle),s=50,a=!1,o=3;o<s;o++)if(l=i*o+t.x,u=n*o+t.y,this.level.canvas.getAlpha(l,u)>0){this.tempShape.graphics.clear(),this.tempShape.graphics.lineStyle(1,16777215,1),this.tempShape.graphics.moveTo(t.x,t.y),this.tempShape.graphics.lineTo(l,u),this.addChild(this.tempShape),this.player.hitTestObject(this.tempShape)&&(a=!0,t.fakeAngle=t.setAngle),this.tempShape.graphics.clear();break}if(a&&(t.timeOut=0,0==t.beam.visible&&qe.playSound("Zap"),t.beam.visible=!0),t.timeOut++,t.timeOut>=25)t.fakeAngle=t.defaultAngle,t.beam.visible=!1;else for(c=r*Math.sin(Math.PI/180*t.rotation),h=0-r*Math.cos(Math.PI/180*t.rotation),o=3;o<s;){if(l=c*o+t.x,u=h*o+t.y,re.dist(l,u,this.player.x,this.player.y)<10&&!this.player.rewinding)return void this.kill();if(this.level.canvas.getAlpha(l,u)>0){for(f=re.dist(t.x,t.y,l,u)-30,t.beam.height=f,d=0;d<5;d++)(p=new sr).x=l+re.range(5),p.y=u+re.range(2),p.scaleX=.5*Math.random()+.5,p.scaleY=.5*Math.random()+.5,this.addChild(p),this.emit.manage(p);break}o++}}}},{key:"handleYouArrows",value:function(){for(var t=0;t<this.youArrows.length;t++)this.youArrows[t].x=Bt.ease(this.youArrows[t].x,this.youArrows[t].skin.x,.8),this.youArrows[t].y=Bt.ease(this.youArrows[t].y,this.youArrows[t].skin.y-30,.8)}},{key:"hotKeys",value:function(){je.isDown(it.flash.ui.Keyboard.SPACE)?this.spaceDown||(this.spaceDown=!0):this.spaceDown=!1}},{key:"hub",value:function(t){switch(t.sender){case"KILL":this.kill();break;case"CHECK":this.checkPoint()}}},{key:"iAmDone",value:function(t){for(var e=null,r=0;r<this.players.length;r++)if(this.players[r].userName==t){if(this.players[r].isPlayer&&this.players[r].completedLevel)return;this.players[r].completedLevel=!0,e=new nr,this.uiPanel.addChild(e),e.x=800,e.y=180+30*this.playerBars.length,e.timeTotal=this.players[r].time,e.nameOf.text=this.players[r].userName,e.player=this.players[r],this.playerBars.push(e),this.tSortTimes();break}}},{key:"init",value:function(t,e,r){this.addChild(this.skyLine),this.playerObject=e,"SP"===this.mode?(0==this.playerObject.gameLevel?this.timer.setTimeAsTotalSeconds(0):this.timer.setTimeAsTotalSeconds(this.playerObject.gameTime),this.levelNum=r):"MP"===this.mode?(this.tubes=t,this.tubes.debuggy.txt.text=" ",this.updateMethod=0,this.levelNum=r):"PRACTICE"===this.mode&&(this.timer.setTimeAsTotalSeconds(0),this.levelNum=r),this.setLevel(),this.player=new Je,this.player.x=-200,this.player.y=-200,this.player.userName=this.playerObject.userName,this.player.xp=this.playerObject.xp,this.player.kudos=this.playerObject.kudos,this.player.wins=this.playerObject.wins,this.player.matches=this.playerObject.matches,this.player.headType=this.playerObject.headType,this.player.handType=this.playerObject.handType,this.player.colour=this.playerObject.colour,this.player.colour2=this.playerObject.colour2,this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,"MP"!==this.mode?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.bg.init(2e3,800),this.addChild(this.bg),this.addSkin(),this.ghosting.init(this.logger.logs),this.addChild(this.ghosting),this.addChild(this.player),this.addChild(this.morgue),this.morgue.init(this.level,this.bg),this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(Ft.SEND,this.hub,!1,0,!0),this.addEventListener(it.flash.events.Event.ADDED_TO_STAGE,this.added,!1,0,!0),this.uiPanel.exitButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.exitOut,!1,0,!0),this.uiPanel.muteButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.uiPanel.pauseButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.pauseOut,!1,0,!0),this.uiPanel.qualityButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.qualityOut,!1,0,!0),"MP"===this.mode?(this.uiPanel.pauseButton.visible=!1,this.uiPanel.exitButton.visible=!1):"PRACTICE"===this.mode&&(this.uiPanel.pauseButton.visible=!1),this.camera.init(this),this.camera.lockX=this.level.lockCamX,this.camera.lockY=this.level.lockCamY,this.addChild(this.uiPanel),this.addChild(this.emit),this.level.createArray(),this.startLevel(),this.updatePing(0);var i=new ar(this.skin,this.player);this.addChild(i),this.youArrows.push(i),this.initSounds(),this.organizeDepth(),"SP"===this.mode?this.chooseSong():(this.chooseMultiplayerSong(),this.stage.focus=this.stage)}},{key:"initMP",value:function(){var t=null,e=null;this.players=this.tubes.players,this.player.x=this.level.startPoint.x+17.5,this.player.y=this.level.startPoint.y;for(var r=0;r<this.players.length;r++)this.players[r].completedLevel=!1,this.players[r].isPlayer?(this.players[r].time=0,this.playerSkins.push(null),this.skin.x=this.player.x,this.skin.y=this.player.y):((t=new Ve).x=this.players[r].xPos,t.y=this.players[r].yPos,t.setChecks(this.level.checkPoints),t.isMain=!1,this.skinLayer.addChild(t),this.playerSkins.push(t),e=new ar(t,this.players[r]),this.youArrows.push(e),t.youArrow=e,this.addChild(e))}},{key:"initPractice",value:function(){this.bg.ping(),this.skyLine.ping(),this.uiPanel.ping(this.camera,this.player),this.level.setPlayer(this.player),this.levelStart.x=-this.camera.camX,this.levelStart.y=-this.camera.camY}},{key:"initSounds",value:function(){this.soundRatio=this.sForward.length/this.sBackward.length,this.firstSoundPlay=!0}},{key:"kill",value:function(){this.player.rewinding||(this.tConnected&&this.tubes.sendMessage("die"),"SP"===this.mode&&16==this.levelNum&&0==this.playerObject.gameDeaths&&this.dispatchEvent(new kt(kt.SEND,14)),this.deathScreens=0,this.morgue.addDeadBody(this.player,this.player.colour),this.player.flowPoints=0,this.player.burningFlow=!1,this.skin.filters=new Array,this.uiPanel.ping(this.camera,this.player),"SP"===this.mode?(this.playerObject.gameDeaths++,this.startRewinding()):"MP"!==this.mode&&"PRACTICE"!==this.mode||(this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y))}},{key:"killS",value:function(){this.player.rewinding&&this.stopRewinding(),this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(Ft.SEND,this.hub),this.removeEventListener(it.flash.events.Event.ADDED_TO_STAGE,this.added),this.uiPanel.exitButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.exitOut),this.uiPanel.muteButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.muteOut),this.uiPanel.pauseButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.pauseOut),this.uiPanel.qualityButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.qualityOut)}},{key:"loadNextSinglePlayerLevel",value:function(){if("PRACTICE"!==this.mode){if(this.levelNum++,this.chooseSong(),this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),3==this.levelNum&&(this.dispatchEvent(new kt(kt.SEND,0)),qe.playSound("Cheer")),this.levelNum>=4&&this.levelNum<=9&&(1==re.random(10)?qe.playSound("Cheer"):qe.playSound("Cheer2")),10==this.levelNum&&(this.dispatchEvent(new kt(kt.SEND,1)),0==this.playerObject.gameDeaths&&this.dispatchEvent(new kt(kt.SEND,13))),15==this.levelNum&&this.dispatchEvent(new kt(kt.SEND,2)),20==this.levelNum&&this.dispatchEvent(new kt(kt.SEND,3)),25==this.levelNum&&this.dispatchEvent(new kt(kt.SEND,4)),30==this.levelNum&&this.dispatchEvent(new kt(kt.SEND,5)),this.deathScreens++,10==this.deathScreens&&this.dispatchEvent(new kt(kt.SEND,11)),31==this.levelNum)return this.playerObject.gameLevel=0,void this.dispatchEvent(new Ft(Ft.GOTO,"Game","End"));this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,this.createNewLevel(),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y,this.skyLine.x=0,this.skyLine.y=0,this.dispatchEvent(new Ft(Ft.GOTO,"SaveGame"))}else this.dispatchEvent(new Ft(Ft.GOTO,"Game","EndPractice"))}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"organizeDepth",value:function(){this.addChild(this.skyLine),this.levelNum<=2?this.skyLine.gotoAndStop(2):this.levelNum<=9?this.skyLine.gotoAndStop(3):10==this.levelNum?this.skyLine.gotoAndStop(2):this.levelNum<=14?this.skyLine.gotoAndStop(4):this.levelNum<=16?this.skyLine.gotoAndStop(2):this.levelNum<=19?this.skyLine.gotoAndStop(5):this.levelNum<=24?this.skyLine.gotoAndStop(6):this.levelNum<=30?this.skyLine.gotoAndStop(1):this.skyLine.gotoAndStop(7),this.addChild(this.level),this.addChild(this.bg),30==this.levelNum&&(this.bg.visible=!1),this.addChild(this.player),this.addChild(this.skin),this.addChild(this.skinLayer),this.addChild(this.morgue),this.addChild(this.uiPanel),this.addChild(this.emit)}},{key:"pauseOut",value:function(){this.isPaused=!this.isPaused}},{key:"ping",value:function(){if(!this.isPaused){if(this.tryFrame++,"MP"===this.mode&&this.tUpdateFriendsENT(),this.startTheCountdown&&this.endCountdown&&this.endCountdown.ping(0-this.x,0-this.y),!this.goAhead)return this.skin.x=this.player.x,this.skin.y=this.player.y,this.gotoAndStop(1),void this.skin.fuel();if(30==this.levelNum&&!this.level30Okay)return this.skin.gotoAndStop(2),this.uiPanel.exitButton.visible=!1,this.uiPanel.muteButton.visible=!1,this.uiPanel.qualityButton.visible=!1,void(this.uiPanel.pauseButton.visible=!1);this.player.rewinding?this.rewind():(this.player.ping(),this.skin.ping(),this.logger.ping(this.skin)),this.handleCamera(),this.handleLaserCannons(),this.uiPanel.ping(this.camera,this.player),this.emit.ping(),this.ghosting.ping(this.tryFrame),this.hotKeys(),this.bg.ping(),this.morgue.ping(),this.levelFinished||30!=this.levelNum&&(this.timer.ping(),"MP"===this.mode&&this.tubes.player.host&&(this.tubes.player.hostTime=this.timer.getFrameTime())),30!=this.levelNum?this.uiPanel.timeDisp.text=this.timer.getTimeAsString():this.uiPanel.timeDisp.text=" ",this.level.timeString=this.timer.getTimeAsString(),30==this.levelNum&&this.setRank(),this.level.setPlayer(this.player),this.level.uniqueLevelPing(),this.skyLine.ping(),this.handleCheering(),this.static&&(this.static.x=0-this.x,this.static.y=0-this.y),"SP"===this.mode&&this.levelNum<30&&this.player.hitTestObject(this.level.cautionSign)&&this.level.cautionSign.visible&&(this.level.cautionSign.visible=!1,qe.playSound("Scratcher"),this.collectSign())}}},{key:"qualityOut",value:function(){"LOW"!=this.stage.quality?"HIGH"!=this.stage.quality||(this.stage.quality="LOW"):this.stage.quality="HIGH"}},{key:"reset",value:function(){for(var t=0;t<this.level.popSpikes.length;t++)this.level.popSpikes[t].inside.gotoAndPlay(this.level.popSpikes[t].name.substr(1,2));for(t=0;t<this.level.swingingAxes.length;t++)this.level.swingingAxes[t].axe.gotoAndPlay(this.level.swingingAxes[t].name.substr(1,2))}},{key:"rewind",value:function(){var t=null;this.skin.visible=!1;var e=!1,r=15;this.rewindCounter++,this.logger.playHead-r<0&&(r=Number(this.logger.playHead),e=!0);for(var i=0;i<r;i++)this.logger.playHead--,this.logger.setFromLog(this.skin),this.player.x=this.skin.x,this.player.y=this.skin.y,this.skin.ping(),!e&&this.skin.hitTestObject(this.level.startPoint)&&(e=!0),(t=new it.flash.geom.ColorTransform).alphaMultiplier=.2,this.bg.drawMovieClip(this.skin,1,2,3,t,"normal");e&&this.stopRewinding()}},{key:"runTest",value:function(){for(var t=NaN,e=0,r=0,i=0;i<10;i++){for(t=it.flash.utils.getTimer(),e=0;e<500;e++)this.ping();r=Number(r+(it.flash.utils.getTimer()-t))}}},{key:"setLevel",value:function(){"MP"!==this.mode||this.levelNum||(this.levelNum=100,this.tubes.myNextLevel=this.levelNum),this.level=Be().createLevel(this.levelNum),this.level.init(),this.addChild(this.level),this.curLevel=this.level,this.morgue.init(this.level,this.bg),0==this.levelNum&&(this.playerObject.gameDeaths=0)}},{key:"setPlayerName",value:function(t){this.playerObject.gameName=t,this.player.gameName=t}},{key:"setRank",value:function(){this.timer.getTimeAsTotalSeconds()>1200?this.level.timeRank="TAKING MY TIME   ":this.timer.getTimeAsTotalSeconds()>1e3?this.level.timeRank="PRETTY FAIR JOB  ":this.timer.getTimeAsTotalSeconds()>900?this.level.timeRank="PACING OKAY      ":this.timer.getTimeAsTotalSeconds()>720?(this.dispatchEvent(new kt(kt.SEND,20)),this.level.timeRank="MAYBE A JOG      "):this.timer.getTimeAsTotalSeconds()>540?(this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.level.timeRank="POWERWALKER      "):this.timer.getTimeAsTotalSeconds()>510?(this.level.timeRank="FAIR PERFORMANCE ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22))):this.timer.getTimeAsTotalSeconds()>480?(this.level.timeRank="MODERATE PACE    ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22))):this.timer.getTimeAsTotalSeconds()>450?(this.level.timeRank="IMPRESSIVE TIME  ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22))):this.timer.getTimeAsTotalSeconds()>420?(this.level.timeRank="FAIRLY QUICK     ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22))):this.timer.getTimeAsTotalSeconds()>390?(this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22)),this.dispatchEvent(new kt(kt.SEND,23)),this.level.timeRank="ZIPPING AROUND   "):this.timer.getTimeAsTotalSeconds()>360?(this.level.timeRank="ZOOM ZOOM ZOOMER ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22)),this.dispatchEvent(new kt(kt.SEND,23))):this.timer.getTimeAsTotalSeconds()>330?(this.level.timeRank="WICKED FAST PACE ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22)),this.dispatchEvent(new kt(kt.SEND,23))):(this.level.timeRank="TOP RANKING RUN  ",this.dispatchEvent(new kt(kt.SEND,20)),this.dispatchEvent(new kt(kt.SEND,21)),this.dispatchEvent(new kt(kt.SEND,22)),this.dispatchEvent(new kt(kt.SEND,23)))}},{key:"startBurningFlowMusic",value:function(){this.soundFast=this.sFast.play(this.soundForward.position,1),this.soundFast.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundForward.removeEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop(),this.fastSound=!0}},{key:"startFinal",value:function(){"final"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="final",this.sForward=new Te,this.sBackward=new Pe,this.sFast=new Me,this.initSounds(),this.startForwardMusic())}},{key:"startForwardMusic",value:function(){var t=0;this.fastSound=!1,this.firstSoundPlay?(this.firstSoundPlay=!1,this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundForward)):(t=it.__internal.avm2.Runtime.int((this.sBackward.length-this.soundBackward.position)*this.soundRatio),qe.stopAllSounds(),t<this.sForward.length&&t>0?this.soundForward=this.sForward.play(t,1):this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundBackward.removeEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundBackward.stop())}},{key:"startInside",value:function(){"inside"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="inside",this.sForward=new tr,this.sBackward=new er,this.sFast=new rr,this.initSounds(),this.startForwardMusic())}},{key:"startLab",value:function(){"lab"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="lab",this.sForward=new or,this.sBackward=new lr,this.sFast=new ur,this.initSounds(),this.startForwardMusic())}},{key:"startLevel",value:function(){this.level.generateLevel(),this.logger.newLog(),this.ghosting.reset(),this.startPlayer(this.player),this.player.xVel=0,this.player.yVel=0,this.tryFrame=0,this.player.completedLevel=!1,this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,30!=this.levelNum?this.uiPanel.levDisplay.text="Stage "+(this.levelNum+1):this.uiPanel.levDisplay.text="Ending",this.levelNum<=2?this.uiPanel.levName.text="Getting Out":this.levelNum<=9?this.uiPanel.levName.text="The Stadium":this.levelNum<=10?this.uiPanel.levName.text="The Audit":this.levelNum<=14?this.uiPanel.levName.text="Lab Testing":this.levelNum<=16?this.uiPanel.levName.text="The Path to Freedom":this.levelNum<=19?this.uiPanel.levName.text="Backrooms":this.levelNum<=24?this.uiPanel.levName.text="Outside":this.levelNum<=32?this.uiPanel.levName.text="Skyline City Limits":this.levelNum<=100?this.uiPanel.levName.text="Marathon":this.levelNum<=101?this.uiPanel.levName.text="Front Door":this.levelNum<=102?this.uiPanel.levName.text="Crossroads":this.levelNum<=103?this.uiPanel.levName.text="Tubes":this.levelNum<=104?this.uiPanel.levName.text="Death Wall":this.levelNum<=105?this.uiPanel.levName.text="The Maze":this.levelNum<=106?this.uiPanel.levName.text="Lunge":this.levelNum<=107?this.uiPanel.levName.text="Unfriendly Teleporters":this.levelNum<=108?this.uiPanel.levName.text="Funk":this.levelNum<=109?this.uiPanel.levName.text="Cubicles":this.levelNum<=110?this.uiPanel.levName.text="Over and Under":this.levelNum<=111?this.uiPanel.levName.text="Zipper":this.levelNum<=112?this.uiPanel.levName.text="Jumper":this.levelNum<=113?this.uiPanel.levName.text="Slip and Slide":this.levelNum<=114?this.uiPanel.levName.text="Wombat":this.levelNum<=115?this.uiPanel.levName.text="Fuzz Balls":this.levelNum<=116?this.uiPanel.levName.text="Secret Staircase":this.levelNum<=117?this.uiPanel.levName.text="Cubey":this.levelNum<=118?this.uiPanel.levName.text="Descending":this.levelNum<=119?this.uiPanel.levName.text="Treadmillvania":this.uiPanel.levName.text=this.level.name,this.updateUISign(),this.reset(),"MP"===this.mode&&(this.tConnected=!0),this.organizeDepth(),this.camera.limits=[400,this.level.maxWidth-375,250,this.level.maxHeight<225?225:this.level.maxHeight-225],this.camera.move(this.player.x,this.player.y,!1)}},{key:"startPlayer",value:function(t){this.player,t.x=this.level.startPoint.x+12.5,t.y=this.level.startPoint.y;var e=new ir;this.addChild(e),e.x=this.level.startPoint.x,e.y=this.level.startPoint.y,this.emit.manage(e)}},{key:"startReverseMusic",value:function(){this.fastSound?(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundFast.position)/this.soundRatio,1),this.soundBackward.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundFast.removeEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1):(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundForward.position)/this.soundRatio,1),this.soundBackward.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundForward.removeEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop())}},{key:"startRewinding",value:function(){this.player.rewinding=!0,this.startReverseMusic(),this.dispatchEvent(new Ft(Ft.SEND,"StartJitter","StartJitter")),this.static=new Qe,this.addChild(this.static)}},{key:"startSinglePlayer",value:function(){this.goAhead=!0}},{key:"startSkyline",value:function(){"skyline"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="skyline",this.sForward=new cr,this.sBackward=new hr,this.sFast=new fr,this.initSounds(),this.startForwardMusic())}},{key:"startStadium",value:function(){"stadium"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="stadium",this.sForward=new dr,this.sBackward=new pr,this.sFast=new yr,this.initSounds(),this.startForwardMusic())}},{key:"stopBurningFlowMusic",value:function(){this.soundForward=this.sForward.play(this.soundFast.position,1),this.soundForward.addEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundFast.removeEventListener(it.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1}},{key:"stopRewinding",value:function(){this.player.rewinding=!1,this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y,this.dispatchEvent(new Ft(Ft.SEND,"EndJitter","EndJitter")),this.removeChild(this.static),this.static=null,this.rewindCounter>150&&this.dispatchEvent(new kt(kt.SEND,12)),this.startForwardMusic()}},{key:"tCheck",value:function(t,e){for(var r=0;r<this.players.length;r++)if(this.players[r].userName==t)return void this.playerSkins[r].addCheckPoint(e)}},{key:"tDie",value:function(t,e){this.tubes.getMyName()}},{key:"tMarkTime",value:function(t,e){t.completedLevel=!0,t.time=Number(e)}},{key:"tRemovePlayer",value:function(t){for(var e=void 0,r=0;r<this.players.length;r++)if(this.players[r].userName==t){for(e=0;e<this.youArrows.length;e++)this.youArrows[e].skin==this.playerSkins[r]&&(this.removeChild(this.youArrows[e]),this.youArrows[e]=null,this.youArrows.splice(e,1));return this.skinLayer.removeChild(this.playerSkins[r]),this.playerSkins[r]=null,void this.playerSkins.splice(r,1)}}},{key:"tSortTimes",value:function(){var t=null,e=NaN,r=new Array;this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var i=0;i<this.playerBars.length;i++)r.push(this.playerBars[i]);for(;r.length>0;){for(t=r[0],e=0,i=0;i<r.length;i++)t.timeTotal>r[i].timeTotal&&(t=r[i],e=Number(i));this.finalPlacingArray.push(t),r.splice(e,1)}for(i=0;i<this.finalPlacingArray.length;i++)this.finalPlacingArray[i].y=180+36*i,this.finalPlacingArray[i].timeOf.text=this.timer.getRealTime(this.finalPlacingArray[i].timeTotal),this.finalPlacingArray[i].posOf.text=String(i+1);this.startTheCountdown||(this.endCountdown=new Se(this.playerBars[0].player.userName),this.addChild(this.endCountdown),this.startTheCountdown=!0),this.finalPlacingArray.length==this.players.length&&(this.endCountdown||(this.startTheCountdown=!0,this.endCountdown=new Se(this.playerBars[0].player.userName),this.addChild(this.endCountdown)),this.endCountdown.endNow())}},{key:"tUpdateFriendsENT",value:function(){for(var t=NaN,e=1,r=0;r<this.players.length;r++){if(this.players[r].isPlayer)this.players[r].xPos=this.skin.x,this.players[r].yPos=this.skin.y,this.players[r].fr=this.skin.currentFrame,this.players[r].xScale=this.skin.scaleX;else{for(this.players[r].tCounter++,this.players[r].tCounter>this.players[r].tCounterGoal?(this.playerSkins[r].x=this.players[r].xPos,this.playerSkins[r].y=this.players[r].yPos):(this.playerSkins[r].x=this.players[r].oldX+this.players[r].xV*this.players[r].tCounter,this.playerSkins[r].y=this.players[r].oldY+this.players[r].yV*this.players[r].tCounter),this.playerSkins[r].colour=this.players[r].colour,this.playerSkins[r].colour2=this.players[r].colour2,this.playerSkins[r].headType=this.players[r].headType,this.playerSkins[r].handType=this.players[r].handType,this.playerSkins[r].scaleX=this.players[r].xScale,this.playerSkins[r].gotoAndStop(this.players[r].fr),this.playerSkins[r].setColours(),t=0;t<this.curLevel.fallingSpikes.length;t++)0!=this.curLevel.fallingSpikes[t].rotation&&180!=this.curLevel.fallingSpikes[t].rotation||0==this.curLevel.fallingSpikes[t].smashState&&Math.abs(this.playerSkins[r].x-this.curLevel.fallingSpikes[t].x)<10&&(this.curLevel.fallingSpikes[t].smashState=1);this.player.x<this.playerSkins[r].x&&e++}for(t=0;t<this.playerBars.length;t++)if(this.playerBars[t].player==this.players[r]){this.playerBars[t].timeTotal!=this.players[r].time&&(this.playerBars[t].timeTotal=this.players[r].time,this.tSortTimes());break}}if(this.updatePlayerPosition(e),1==this.updateMethod)for(r=0;r<this.robots.length;r++);this.handleYouArrows()}},{key:"updatePing",value:function(t){}},{key:"updatePlayerPosition",value:function(t){this.levelFinished||(this.uiPanel.placing.positionNum.text=String(t),this.uiPanel.placing.nth.text=1==t?"st":2==t?"nd":3==t?"rd":"th",this.uiPanel.placing.totalPlayers.text="of "+this.players.length+" runners")}},{key:"updateUISign",value:function(){for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;this.uiPanel.caution.signsTot.text=t+"/30","SP"===this.mode&&(this.playerObject.signs[this.levelNum]?(this.level.cautionSign.visible=!1,this.uiPanel.caution.gotoAndStop(11)):this.uiPanel.caution.gotoAndStop(1)),"SP"!==this.mode&&(this.uiPanel.caution.visible=!1)}}]),n}(it.flash.display.MovieClip);var mr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var gr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).dist=t.width,t.parent.createGrinder(Pt()(t)),t.dist=t.width/2,t}return n}(it.flash.display.MovieClip);var br=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createHalfBlock(Pt()(t)),t}return n}(it.flash.display.MovieClip);var _r=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createInvisibleBlock(Pt()(t)),t}return n}(it.flash.display.MovieClip);var xr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Rr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(14,t.frame15),t}return T()(n,[{key:"frame15",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var kr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var wr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).timeOut=30,t.setAngle=0,t.defaultAngle=0,t.foundTarget=!1,t.fakeAngle=0,t.parent.createLaserCannon(Pt()(t)),t.beam.visible=!1,t.defaultAngle=t.rotation,t}return T()(n,[{key:"ping",value:function(t){this.foundTarget}}]),n}(it.flash.display.MovieClip);var Er=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t.parent.createLaserGun(Pt()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Sr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).flags=Vt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.__1532.ping(),this._6530.ping(),this._OPEN_.ping()}}]),n}(ee);var Cr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Lr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).touching=!1,t.turnstile=new Cr,t.flags=Vt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString("        "),this.addChild(this.turnstile),this.turnstile.x=1217.15,this.turnstile.y=429.25,this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping(),this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.turnstile.play(),this.sign.TICKERAB.changeString("^^^^^^^^"),this.player.parent.setPlayerName(this.sign.TICKERAB.word))}}]),n}(ee);var Tr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).touching=!1,t.hasTouched=!1,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKE.changeString("     ",!0),this.addChild(this.turnstile),this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKE.ping();var t=NaN;if(this.touching)this.player.hitTestObject(this.turnstile)||(this.touching=!1);else if(!this.hasTouched&&this.player.hitTestObject(this.turnstile)){for(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKE.changeString("AUDIT",!0),this.slidingDoor.play(),this.parent.startLab(),t=0;t<7;t++)this["b"+t].gotoAndStop(2),this["b"+t].beacon.gotoAndPlay(re.random(this["b"+t].beacon.totalFrames-1)+1);this.addChild(this.redPing),this.redPing.gotoAndStop(2)}}}]),n}(ee);var Mr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Pr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Ar=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Dr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Or=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Nr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Br=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Fr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Ir=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var jr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Ur=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Vr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Gr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Hr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Kr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var zr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Xr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var qr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Yr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Wr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Jr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Zr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Qr=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var $r=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ti=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ei=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).triggeredLight=!1,t.flags=Vt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.lightOn)}},{key:"uniqueLevelPing",value:function(){this.triggeredLight||this.player.x>970&&(this.triggeredLight=!0,this.lightOn.play(),this.parent.startLab())}}]),n}(ee);var ri=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ii=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ni=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var si=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ai=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var oi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var li=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ui=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ci=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var hi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var fi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var di=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var pi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var yi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var vi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping()}}]),n}(ee);var mi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).touching=!1,t.hasTouched=!1,t}return T()(n,[{key:"endEnding",value:function(){this.ending.visible=!1,this.ending.stop(),this.removeChild(this.ending)}},{key:"uniqueLevelInit",value:function(){this.sign.TICKERA.changeString("        ",!0),this.sign.TICKERB.changeString("                 ",!0),this.addChild(this.turnstile),this.addChild(this.ending),this.parent.bg.visible=!1}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERA.ping(),this.sign.TICKERB.ping(),this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):!this.hasTouched&&this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKERA.changeString(this.timeString,!1),this.sign.TICKERB.changeString(this.timeRank,!1))}}]),n}(ee);var gi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var bi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var _i=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var xi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var Ri=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ee);var ki=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).triggeredLight=!1,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping(),this.triggeredLight||this.player.x>1775&&(this.triggeredLight=!0,qe.playSound("Cheer2"),qe.playSound("Cheer"))}}]),n}(ee);var wi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createStartPoint(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Ei=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createTile(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Si=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createSpike(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Ci=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createPopSpikes(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Li=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).smashState=0,t.parent.createFallingSpike(Pt()(t)),t.smashState=0,t}return n}(it.flash.display.MovieClip);var Ti=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createSwingingAxe(Pt()(t)),t}return n}(it.flash.display.MovieClip);var Mi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).letter="a",t.type="1",t.parent.createTeleporter(Pt()(t)),t}return T()(n,[{key:"init",value:function(){this.letter=this.name.substr(1,1),this.type=this.name.substr(2,1),"1"==this.type&&(this.partner=this.parent.getChildByName("t".concat(this.letter,"2"))),"2"==this.type&&(this.partner=this.parent.getChildByName("t".concat(this.letter,"1"))),this.lett.text=this.letter,this.parent.flags&Vt.ShowTeleporterName||(this.lett.visible=!1)}}]),n}(it.flash.display.MovieClip);var Pi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createTreadmillBlock(Pt()(t),"L"),t}return n}(it.flash.display.MovieClip);var Ai=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).parent.createTreadmillBlock(Pt()(t),"R"),t}return n}(it.flash.display.MovieClip);var Di=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),t=i.call(this),P()(Pt()(t),"txt",new it.flash.text.TextField),t.txt.__container.layoutBounds[2]=50,t.txt.__container.layoutBounds[3]=50,t.txt.__container.wordWrap=!0,t.txt.__container.multiline=!0,t.txt.__container.defaultTextFormat.color=4294967295,t.txt.__container.defaultTextFormat.font="Bitstream Vera Sans",t.txt.__container.defaultTextFormat.size=12,t.txt.width=50,t.txt.height=50,t.addChild(t.txt),t}return n}(it.flash.display.Sprite);function Oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var Ni=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t){var e;return C()(this,n),(e=i.call(this)).levelType="MP",e.lockCamX=!1,e.lockCamY=!1,e.initUserLevel(t),e}return T()(n,[{key:"initUserLevel",value:function(t){var e=this;this.name=t.name,this.flags=t.flags;var r,i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Oi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oi(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(t.objects);try{var n=function(){var t,i=r.value,n=it.flash.display.DisplayObject.__initChar((function(){return e.makeObject(i.type)}),(function(t){e.addChild(t),t.name=i.name,""!==t.name&&(e[t.name]=t),t.transform.matrix.__value[0]=i.matrix[0],t.transform.matrix.__value[1]=i.matrix[1],t.transform.matrix.__value[2]=i.matrix[2],t.transform.matrix.__value[3]=i.matrix[3],t.transform.matrix.__value[4]=20*i.matrix[4],t.transform.matrix.__value[5]=20*i.matrix[5],t.__node.markLayoutDirty()}));n instanceof Di&&(n.txt.text=null!==(t=i.text)&&void 0!==t?t:"")};for(i.s();!(r=i.n()).done;)n()}catch(t){i.e(t)}finally{i.f()}}},{key:"makeObject",value:function(t){switch(t){case"start-point":return new wi;case"end-point":return new Ce;case"tile":return new Ei;case"half-tile":return new br;case"invisible-tile":return new _r;case"bouncer":return new oe;case"spikes":return new Si;case"pop-spikes":return new Ci;case"fall-spikes":return new Li;case"laser-cannon":return new wr;case"swinging-axe":return new Ti;case"grinder":return new gr;case"checkpoint":return new fe;case"teleporter":return new Mi;case"left-treadmill":return new Pi;case"right-treadmill":return new Ai;case"text":return new Di}}}]),n}(ee),Bi=function(){function t(){C()(this,t)}return T()(t,null,[{key:"cash",value:function(e){return t.delimit(e,",",3,2)}},{key:"commaSnob",value:function(t){if(t<1e3)return String(t);for(var e=String(t).length,r=new Array,i=0;i<e;i++)r.push(String(t).charAt(e-1-i));var n="";for(i=0;i<e;i++)n=i%3==0&&0!=i?r[i]+","+n:r[i]+n;return n}},{key:"delimit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=null,s=t.toFixed(i);"0."==s&&0==i&&(s="0");var a=i>0?1:0;if(s.length<=r+(i+a))return s;for(var o=s.substring(s.length-(i+a),s.length),l=s.substring(0,s.length-(i+a)),u=new Array,c=l.length;c>=0;c-=r)""!=(n=l.substring(c-r,c))&&u.unshift(n);for(var h="",f=0;f<u.length;f++)h+=u[f]+(f!=u.length-1?e:"");return h+o}},{key:"hexToString",value:function(t){return String(t)}},{key:"lower",value:function(t){return t.toLowerCase()}},{key:"parseSentence",value:function(t){for(var e=null,r=0,i=0,n=new Array,s=0;s<t.length;s++)if(" "==t.charAt(s)){for(e="",r=it.__internal.avm2.Runtime.uint(i);r<s;r++)e+=t.charAt(r);i=it.__internal.avm2.Runtime.uint(s+1)," "!=e&&e.length>=1&&n.push(e)}return n.push(t.substr(i,t.length)),n}},{key:"upper",value:function(t){return t.toUpperCase()}}]),t}();var Fi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).kudosRound=0,t.totXP=0,t.xpRound=0,t}return T()(n,[{key:"init",value:function(t){this.player=t,this.updateBox()}},{key:"updateBox",value:function(){this.playerInfo.text=this.player.userName,this.xp.text=Bi.commaSnob(this.player.xp)+" XP",this.totXP=this.player.xp,this.levelTitle.text=this.parent.parent.parent.getRankByXP(this.totXP),this.levelNum.text=this.parent.parent.parent.getLevelByXP(this.totXP),this.kudos.text=Bi.commaSnob(this.player.kudos),this.matchNum.text=Bi.commaSnob(this.player.matches)+" Matches",this.wins.text=Bi.commaSnob(this.player.wins)+" Wins",this.skinner.colour=this.player.colour,this.skinner.colour2=this.player.colour2,this.skinner.headType=this.player.headType,this.skinner.handType=this.player.handType,Bt.colourMe(this.backdrop,this.player.colour),Bt.colourMe(this.side,this.player.colour2),this.skinner.fuel()}},{key:"updateKudos",value:function(t){this.kudosRound=this.kudosRound+t,this.kudosThisRound.text="+"+this.kudosRound}},{key:"updateXP",value:function(t){this.xpRound=this.xpRound+t,this.xpThisRound.text=Bi.commaSnob(this.xpRound)+" XP"}}]),n}(it.flash.display.MovieClip);var Ii=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"init",value:function(t,e){this.levelNum.text=String(t),this.levelStr.text=String(e),this.okayButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(it.flash.display.MovieClip);var ji=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var Ui=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).newXP=0,t.oldLevel=0,t.timeToGo=5,t.newLevel=0,t.returning=!1,t.oldXP=0,t.players=new Array,t.bars=new Array,t.ranking=new Array,t.timer=new Ee,t.addFrameScript(0,t.frame1),t}return T()(n,[{key:"addBar",value:function(){var t=new ji;this.addChild(t),this.bars.push(t),t.kudosButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.giveKudo,!1,0,!0),t.kudosButton.visible=!1,this.levelUpWindow&&this.contains(this.levelUpWindow)&&this.addChild(this.levelUpWindow)}},{key:"backTo",value:function(t){this.dispatchEvent(new Ft(Ft.GOTO,"Lobby","Back"))}},{key:"exchangeKudos",value:function(t,e){for(var r=0;r<this.players.length;r++)if(this.players[r].userName==t)return this.bars[r].boxy.giveKudo.play(),this.bars[r].boxy.updateXP(25),this.bars[r].boxy.updateKudos(1),void(this.players[r].isPlayer&&(this.bars[r].boxy.kudosRound>=5&&this.dispatchEvent(new kt(kt.SEND,34)),this.bars[r].boxy.kudosRound>=7&&this.dispatchEvent(new kt(kt.SEND,35))))}},{key:"frame1",value:function(){this.stop(),this.dispatchEvent(new Ft(Ft.SEND,"Results","Init"))}},{key:"giveKudo",value:function(t){for(var e=NaN,r=0;r<this.bars.length;r++)if(this.bars[r]==t.currentTarget.parent&&this.tubes.sendMessage("kudokudo"+this.players[r].userName),this.players[r].isPlayer&&(this.players[r].kudosToGive--,this.kudosLeft.text="Kudos To Give: "+this.players[r].kudosToGive,this.players[r].kudosToGive<=0)){for(e=0;e<this.bars.length;e++)this.bars[e].kudosButton.visible=!1;this.kudosLeft.text="Kudos To Give: 0"}}},{key:"init",value:function(t){this.tubes=t,this.backToMenuButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.backTo,!1,0,!0),this.sendButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.sendMessage,!1,0,!0),this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(it.flash.events.MouseEvent.CLICK,this.mouseClick,!1,0,!0),this.stage.focus=this.texter,this.texter.text="",this.players=this.tubes.players,this.initPlayers()}},{key:"initPlayers",value:function(){for(var t=0;t<this.players.length;t++)this.addBar(),this.updateBar(t),this.bars[t].kudosButton.visible=!1}},{key:"kill",value:function(){this.sendButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.sendMessage),this.backToMenuButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.backTo),this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(it.flash.events.MouseEvent.CLICK,this.mouseClick)}},{key:"mouseClick",value:function(){for(var t=0;t<this.bars.length;t++)if(this.bars[t].sMute.hitTestPoint(this.mouseX,this.mouseY))return this.tubes.isPlayerMuted(this.players[t].userName)?(this.tubes.unMutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(1)):(this.tubes.mutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(2))}},{key:"ping",value:function(){je.isDown(it.flash.ui.Keyboard.ENTER)&&this.sendMessage(),this.players.length>1?this.nextInfo.text="Next game will start in "+this.timeToGo+" second(s)":this.nextInfo.text="Waiting for more players...",this.sortPlayers(),this.tubes.ping(),this.xpDisp.text=Bi.commaSnob(this.tubes.playerObject.xp)+" XP";var t=this.parent.getLevelByXP(this.tubes.playerObject.xp),e=this.parent.getRankByXP(this.tubes.playerObject.xp),r=this.parent.ranks[t+1],i=this.parent.ranks[t],n=r-this.tubes.playerObject.xp;this.xpAndLevel.text=String(t),this.xpTill.text=Bi.commaSnob(n)+" XP until the next Level",this.xpBar.barIn.scaleX=Bt.ease(this.xpBar.barIn.scaleX,(this.tubes.playerObject.xp-i)/(r-i),.3),this.levelRank.text=e}},{key:"removeBar",value:function(t){this.bars[t].kudosButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.giveKudo),this.removeChild(this.bars[t]),this.bars[t]=null,this.bars.splice(t,1)}},{key:"reRank",value:function(){}},{key:"returnFromGame",value:function(){this.returning=!0,this.tubes.timeToGo=this.tubes.timeToGoStart;for(var t=0;t<this.players.length;t++)this.players[t].matches++,this.players[t].isPlayer?(this.oldXP=this.tubes.playerObject.xp,this.oldLevel=this.parent.getLevelByXP(this.tubes.playerObject.xp),this.players[t].host&&(this.tubes.setRoomVariable("state","Lobby"),this.tubes.resetTimeToGo()),this.tubes.playerObject.matches++,this.dispatchEvent(new kt(kt.SEND,15)),this.bars[t].kudosButton.visible=!1):this.bars[t].kudosButton.visible=!0,0==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+3,this.players[t].xp=this.players[t].xp+250,this.players[t].wins++,this.updateBar(t),this.bars[t].boxy.updateXP(250),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+250,this.tubes.playerObject.wins++,this.tubes.playerObject.wins>=1&&this.dispatchEvent(new kt(kt.SEND,24)),this.tubes.playerObject.wins>=10&&this.dispatchEvent(new kt(kt.SEND,25)),this.tubes.playerObject.wins>=100&&this.dispatchEvent(new kt(kt.SEND,26)))):1==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+2,this.players[t].xp=this.players[t].xp+150,this.updateBar(t),this.bars[t].boxy.updateXP(150),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+150)):2==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+1,this.players[t].xp=this.players[t].xp+100,this.updateBar(t),this.bars[t].boxy.updateXP(100),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+100)):(this.players[t].kudosToGive=this.players[t].kudosToGive+0,this.players[t].xp=this.players[t].xp+25,this.tubes.playerObject.xp=this.tubes.playerObject.xp+25,this.updateBar(t),this.bars[t].boxy.updateXP(25),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+25));this.tubes.chooseUserLevel();var e=this.parent.getRankByXP(this.tubes.playerObject.xp),r=this.parent.getLevelByXP(this.tubes.playerObject.xp);if(r>this.oldLevel){for(this.levelUpWindow=new Ii,this.levelUpWindow.init(r,e),this.addChild(this.levelUpWindow),t=0;t<this.players[t];t++)this.players[t].isPlayer&&this.updateBar(t);this.tubes.sendMessage("LVX"+this.tubes.playerObject.userName+" has just leveled up to Level "+r+": "+e)}this.dispatchEvent(new Ft(Ft.GOTO,"SaveGame"));var i=this.tubes.playerObject.matches;i>=5&&this.dispatchEvent(new kt(kt.SEND,30)),i>=25&&this.dispatchEvent(new kt(kt.SEND,31)),i>=100&&this.dispatchEvent(new kt(kt.SEND,32)),i>=250&&this.dispatchEvent(new kt(kt.SEND,33)),r>=3&&this.dispatchEvent(new kt(kt.SEND,36)),r>=5&&this.dispatchEvent(new kt(kt.SEND,37)),r>=8&&this.dispatchEvent(new kt(kt.SEND,38)),r>=10&&this.dispatchEvent(new kt(kt.SEND,39)),r>=15&&this.dispatchEvent(new kt(kt.SEND,40)),r>=20&&this.dispatchEvent(new kt(kt.SEND,41)),r>=25&&this.dispatchEvent(new kt(kt.SEND,42)),r>=30&&this.dispatchEvent(new kt(kt.SEND,43)),r>=35&&this.dispatchEvent(new kt(kt.SEND,44)),r>=38&&this.dispatchEvent(new kt(kt.SEND,45)),r>=39&&this.dispatchEvent(new kt(kt.SEND,46)),r>=40&&this.dispatchEvent(new kt(kt.SEND,47))}},{key:"sendMessage",value:function(){if(""==this.texter.text||" "==this.texter.text||"\n"==this.texter.text||" \n"==this.texter.text||this.texter.text.length<=1)return this.texter.text="",void(this.stage.focus=this.texter);je.isDown(it.flash.ui.Keyboard.ENTER)?this.texter.text=this.texter.text.substr(0,this.texter.text.length-1):this.texter.text=this.texter.text.substr(0,this.texter.text.length),this.tubes.sendMessage("!!"+this.texter.text),this.texter.text="",this.stage.focus=this.texter}},{key:"sortPlayers",value:function(){for(var t=NaN,e=0;e<this.players.length;e++)for(this.bars[e].x=50,t=0;t<this.tubes.finalList.length;t++)this.tubes.finalList[t]==this.players[e]&&(this.bars[e].y=Bt.ease(this.bars[e].y,100+50*t,.3))}},{key:"updateBar",value:function(t){var e=t,r=this.bars[e],i=this.players[e];r&&i&&(r.x=50,r.boxy.init(i),r.placingNum.text=String(i.placing+1),i.completedLevel?r.timeDisp.text=this.timer.getRealTime(i.time):this.returning?(r.timeDisp.text="No Finish",r.boxy.kudoImage.visible=!0):(r.timeDisp.text="New!",r.boxy.xpThisRound.text=" ",r.boxy.kudosThisRound.text=" ",r.boxy.kudoImage.visible=!1),1==i.isPlayer?(r.playerBorder.visible=!0,r.kudosButton.visible=!1,i.kudosToGive>0&&(this.kudosLeft.text="Kudos To Give: "+i.kudosToGive),r.sMute.visible=!1):r.playerBorder.visible=!1,this.tubes.isPlayerMuted(i.userName)?r.sMute.gotoAndStop(2):r.sMute.gotoAndStop(1),r.boxy.updateBox())}},{key:"updateKudosToGive",value:function(){for(var t=0;t<this.players.length;t++){if(this.players[t].isPlayer)return void(this.players[t].kudosToGive>0?this.kudosLeft.text="Kudos To Give: "+this.players[t].kudosToGive:this.kudosLeft.text="Kudos To Give: 0");this.bars[t].kudosButton.visible=!0}}}]),n}(it.flash.display.MovieClip);var Vi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.noThankYou)}},{key:"noThankYou",value:function(t){this.okayButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.noThankYou),this.parent&&this.parent.removeChild(this)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.noThankYou),this.dispatchEvent(new Ft(Ft.GOTO,"ExitPathLink")),this.parent&&this.parent.removeChild(this)}}]),n}(it.flash.display.MovieClip);var Gi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C()(this,n),(t=i.call(this)).agDomain=!1,t.mpButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.mpButtonHandler,!1,0,!0),t.spButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.spButtonHandler,!1,0,!0),t.fButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.fButtonHandler,!1,0,!0),t.mButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.mButtonHandler,!1,0,!0),t.twitterButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.tButtonHandler,!1,0,!0),t.facebookButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.fbButtonHandler,!1,0,!0),t.armorGamesButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.agButtonHandler,!1,0,!0),t.gogogo.addEventListener(it.flash.events.MouseEvent.CLICK,t.goHandler,!1,0,!0),t.muteButton.addEventListener(it.flash.events.MouseEvent.CLICK,t.muteOut,!1,0,!0),t.agDomain=e,t}return T()(n,[{key:"agButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"ArmorGames"))}},{key:"fbButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"Facebook"))}},{key:"fButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"MainMenu","Flair"))}},{key:"goHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"DeleteAllData"))}},{key:"kill",value:function(){this.mpButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.mpButtonHandler),this.spButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.spButtonHandler),this.fButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.fButtonHandler),this.mButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.mButtonHandler),this.twitterButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.tButtonHandler),this.facebookButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.fbButtonHandler),this.armorGamesButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.agButtonHandler),this.gogogo.removeEventListener(it.flash.events.MouseEvent.CLICK,this.goHandler),this.muteButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.muteOut),this.parent.killAGISaver()}},{key:"mButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"MainMenu","CharacterEdit"))}},{key:"mpButtonHandler",value:function(){this.agDomain?this.dispatchEvent(new Ft(Ft.GOTO,"MainMenu","Multiplayer")):(this.warning=new Vi,this.addChild(this.warning),this.warning.init())}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"spButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"MainMenu","SinglePlayer"))}},{key:"tButtonHandler",value:function(){this.dispatchEvent(new Ft(Ft.GOTO,"Twitter"))}}]),n}(it.flash.display.MovieClip);var Hi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Ki=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var zi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"buttons",value:function(t){switch(t.currentTarget){case this.qp:this.dispatchEvent(new Ft(Ft.GOTO,"MultiplayerMenu","QuickPlay"));break;case this.backToMenuButton:this.dispatchEvent(new Ft(Ft.GOTO,"MultiplayerMenu","Back"))}}},{key:"customGo",value:function(t){this.dispatchEvent(new Ft(Ft.GOTO,"MultiplayerMenu","CharacterSelection"))}},{key:"init",value:function(t){this.playerObject=t,this.qp.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToMenuButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.customGo,!1,0,!0),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerInfo.xpDisp.text=Bi.commaSnob(this.playerObject.xp)+" XP",this.playerInfo.kudosDisp.text=Bi.commaSnob(this.playerObject.kudos)+" Kudos",this.playerInfo.winDisp.text=Bi.commaSnob(this.playerObject.wins)+" Wins",this.playerInfo.matchDisp.text=Bi.commaSnob(this.playerObject.matches)+" Matches";var e=this.parent.getLevelByXP(this.playerObject.xp),r=this.parent.getRankByXP(this.playerObject.xp),i=this.parent.ranks[e+1],n=this.parent.ranks[e],s=i-this.playerObject.xp;this.playerInfo.xpAndLevel.text=e+" "+r,this.playerInfo.xpTill.text=Bi.commaSnob(s)+" XP until the next Level",this.playerInfo.xpBar.barIn.scaleX=(this.playerObject.xp-n)/(i-n),this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}},{key:"kill",value:function(){this.qp.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.backToMenuButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.customGo)}}]),n}(it.flash.display.MovieClip);var Xi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"addListeners",value:function(){this.playButt.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.viewButt.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.eraseButt.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.yesButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.noButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.userLevelButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0)}},{key:"buttons",value:function(t){switch(t.currentTarget){case this.playButt:this.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","StartGame"));break;case this.viewButt:this.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","ViewHighscores"));break;case this.eraseButt:this.deleteSure.visible=!0;break;case this.backToButton:this.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","BackButton"));break;case this.customizeButton:this.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","CharacterSelection"));break;case this.userLevelButton:this.dispatchEvent(new ct({type:"sp-user-level"}));break;case this.deleteSure.yesButton:this.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","Delete"));break;case this.deleteSure.noButton:this.deleteSure.visible=!1}}},{key:"init",value:function(t){this.playerObject=t,this.addListeners(),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerObject.bestTime<=9999999?this.bestTime.text=Ee.translateTime(this.playerObject.bestTime):this.bestTime.text="No Run",0==this.playerObject.gameLevel?this.currentProgress.text="Not Started":this.currentProgress.text="Level "+(1+this.playerObject.gameLevel);for(var e=0,r=0;r<this.playerObject.signs.length;r++)1==this.playerObject.signs[r]&&e++;this.signsCollected.text=e+"/30",this.deleteSure.visible=!1,this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}},{key:"kill",value:function(){this.playButt.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.viewButt.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.eraseButt.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.backToButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.yesButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.noButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons)}}]),n}(it.flash.display.MovieClip);var qi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).completedLevel=!1,t.isMain=!0,t.level=15,t.oldX=0,t.placing=-1,t.hostTime=0,t.wins=295,t.oldY=0,t.id=0,t.kudos=10,t.yPos=250,t.host=!1,t.isPlayer=!1,t.curCheck=0,t.xScale=1,t.matches=1254,t.xPos=250,t.toX=0,t.toY=0,t.headType=3,t.tCounterGoal=0,t.handType=3,t.colour=16777215,t.time=0,t.xV=0,t.colour2=16777215,t.tCounter=0,t.kudosToGive=0,t.fr=1,t.userName="bob",t.xp=1500,t.yV=0,t.ping=re.random(400),t.timer=new Ee,t}return T()(n,[{key:"init",value:function(){}}]),n}(it.flash.display.MovieClip);var Yi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"connect",value:function(t){}},{key:"createRoom",value:function(t){}},{key:"disconnect",value:function(){}},{key:"getActiveRoom",value:function(){return null}},{key:"getAllRooms",value:function(){return[]}},{key:"getRoomList",value:function(){}},{key:"joinRoom",value:function(t){}},{key:"login",value:function(t,e,r){}},{key:"roundTripBench",value:function(){}},{key:"sendPrivateMessage",value:function(t,e){}},{key:"sendPublicMessage",value:function(t){}},{key:"setRoomVariables",value:function(t){}},{key:"setUserVariables",value:function(t){}}]),n}(it.flash.events.EventDispatcher);var Wi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e){var r;return C()(this,n),(r=i.call(this,t)).params=e,r}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.params)}},{key:"toString",value:function(){return this.formatToString("SFSEvent","type","bubbles","cancelable","eventPhase","params")}}]),n}(it.flash.events.Event);P()(Wi,"onAdminMessage","onAdminMessage"),P()(Wi,"onBuddyList","onBuddyList"),P()(Wi,"onBuddyListError","onBuddyListError"),P()(Wi,"onBuddyListUpdate","onBuddyListUpdate"),P()(Wi,"onBuddyPermissionRequest","onBuddyPermissionRequest"),P()(Wi,"onBuddyRoom","onBuddyRoom"),P()(Wi,"onConfigLoadFailure","onConfigLoadFailure"),P()(Wi,"onConfigLoadSuccess","onConfigLoadSuccess"),P()(Wi,"onConnection","onConnection"),P()(Wi,"onConnectionLost","onConnectionLost"),P()(Wi,"onCreateRoomError","onCreateRoomError"),P()(Wi,"onDebugMessage","onDebugMessage"),P()(Wi,"onExtensionResponse","onExtensionResponse"),P()(Wi,"onJoinRoom","onJoinRoom"),P()(Wi,"onJoinRoomError","onJoinRoomError"),P()(Wi,"onLogin","onLogin"),P()(Wi,"onLogout","onLogout"),P()(Wi,"onModeratorMessage","onModMessage"),P()(Wi,"onObjectReceived","onObjectReceived"),P()(Wi,"onPlayerSwitched","onPlayerSwitched"),P()(Wi,"onPrivateMessage","onPrivateMessage"),P()(Wi,"onPublicMessage","onPublicMessage"),P()(Wi,"onRandomKey","onRandomKey"),P()(Wi,"onRoomAdded","onRoomAdded"),P()(Wi,"onRoomDeleted","onRoomDeleted"),P()(Wi,"onRoomLeft","onRoomLeft"),P()(Wi,"onRoomListUpdate","onRoomListUpdate"),P()(Wi,"onRoomVariablesUpdate","onRoomVariablesUpdate"),P()(Wi,"onRoundTripResponse","onRoundTripResponse"),P()(Wi,"onSpectatorSwitched","onSpectatorSwitched"),P()(Wi,"onUserCountChange","onUserCountChange"),P()(Wi,"onUserEnterRoom","onUserEnterRoom"),P()(Wi,"onUserLeaveRoom","onUserLeaveRoom"),P()(Wi,"onUserVariablesUpdate","onUserVariablesUpdate");var Ji=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).minPlayers=2,t.timeToGoStart=25,t.startedGame=!1,t.tCounterGoal=6,t.pingCounter=0,t.timeToGo=25,t.allAlone=!1,t.locate="QPL",t.levelStarted=!1,t.allAloneCounter=0,t.timeCounter=0,t.NEWLINE="\n",t.timerUpdateRate=20,t.timeOutCounter=0,t.firstTimeIn=!0,t.timeToGoCounter=0,t.maxPlayers=5,t.inLimbo=!1,t.pingCount=0,t.totalPingTime=0,t.firstTimeSend=!1,t.tCounter=0,t.mpLevels=new Array(100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119),t.myNextLevel=100+re.random(10),t.timer=new it.flash.utils.Timer(200),t.hostTimer=new it.flash.utils.Timer(1e3),t.muteList=new Array,t.updaters=new Object,t.players=new Array,t.finalList=new Array,t.currentPing=re.random(1e4),t}return T()(n,[{key:"addPlayer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new qi;i.userName=e,i.id=t,i.isPlayer=r,i.placing=this.players.length,this.players.push(i),this.finalList.push(i),r||"QPL"!=this.locate&&"Lobby"==this.locate&&this.parent.lobby&&this.parent&&this.parent.lobby.addBar(),r&&(i.level=this.playerObject.level,i.xp=this.playerObject.xp,i.kudos=this.playerObject.kudos,i.wins=this.playerObject.wins,i.matches=this.playerObject.matches,i.time=0,i.colour=this.playerObject.colour,i.colour2=this.playerObject.colour2,i.headType=this.playerObject.headType,i.handType=this.playerObject.handType,i.ping=this.playerObject.ping,this.player=i)}},{key:"broadcastPlayerPing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,r=!1,i=null,n=0;this.tCounter=6,this.tCounterGoal=6,this.player&&this.tCounter==this.tCounterGoal&&(this.tCounter=0,e=new Object,r=!1,i="QD",this.updaters.ping!=this.currentPing&&(this.updaters.ping=this.currentPing,e.ping=this.currentPing),this.player.host&&this.updaters.hostTime!=this.player.hostTime&&(this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime),this.updaters.xScale!=this.player.xScale&&(this.updaters.xScale=this.player.xScale,e.scX=this.player.xScale),this.updaters.colour!=this.player.colour&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour),this.updaters.colour2!=this.player.colour2&&(this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2),this.updaters.headType!=this.player.headType&&(this.updaters.headType=this.player.headType,e.pH=this.player.headType),this.updaters.handType!=this.player.handType&&(this.updaters.handType=this.player.handType,e.pI=this.player.handType),this.updaters.xp!=this.player.xp&&(this.updaters.xp=this.player.xp,e.xp=this.player.xp),this.updaters.wins!=this.player.wins&&(this.updaters.wins=this.player.wins,e.wins=this.player.wins),this.updaters.matches!=this.player.matches&&(this.updaters.matches=this.player.matches,e.matches=this.player.matches),this.updaters.kudos!=this.player.kudos&&(this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos),this.updaters.host!=this.player.host&&(this.updaters.host=this.player.host,e.host=this.player.host),i+="x",this.updaters.xPos!=Math.floor(this.player.xPos)&&(this.updaters.xPos=Math.floor(this.player.xPos),i+=String(Math.floor(this.player.xPos)),r=!0),i+="y",this.updaters.yPos!=Math.floor(this.player.yPos)&&(this.updaters.yPos=Math.floor(this.player.yPos),i+=String(Math.floor(this.player.yPos)),r=!0),i+="f",this.updaters.fr!=this.player.fr&&(this.updaters.fr=this.player.fr,i+=String(this.player.fr),r=!0),i+="q",this.updaters.time!=this.player.time&&(this.updaters.time=this.player.time,e.time=this.player.time),t&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour,this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2,this.updaters.headType=this.player.headType,e.pH=this.player.headType,this.updaters.handType=this.player.handType,e.pI=this.player.handType,this.updaters.xp=this.player.xp,e.xp=this.player.xp,this.updaters.wins=this.player.wins,e.wins=this.player.wins,this.updaters.ping=this.currentPing,e.ping=this.currentPing,this.updaters.matches=this.player.matches,e.matches=this.player.matches,this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos,this.updaters.host=this.player.host,e.host=this.player.host,this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime,this.updaters.xPos=this.player.xPos,e.xPos=this.player.xPos,this.updaters.yPos=this.player.yPos,e.yPos=this.player.yPos),n=Object.keys(e).length,r&&(r=!1,this.sendMessage(i)),0!=n&&this.setUserVariables(e))}},{key:"chooseUserLevel",value:function(){this.myNextLevel=this.myNextLevel+(re.random(2)+1),this.myNextLevel>119&&(this.myNextLevel=100),this.myNextLevel<100&&(this.myNextLevel=100),this.setRoomVariable("level",String(this.myNextLevel))}},{key:"colourPlayer",value:function(t){return"<FONT COLOR='#"+re.toHex(t.colour)+"'>"+t.userName+"</FONT>"}},{key:"createRoom",value:function(){for(var t=null,e=!1,r=null,i=null,n=null,s=null,a=new Object,o=!1,l=this.sfs.getAllRooms();!o;){for(s in e=!1,r=this.randomAnimal(),i=this.randomRoadType(),n=re.random(1e4)+" "+r+" "+i,l)if(l[s].getName()==n){e=!0;break}e||(t=n,o=!0)}a.name=t,a.isGame=!0,a.maxUsers=this.maxPlayers;var u=new Array;u.push({name:"host",val:this.playerObject.userName,persistent:!0}),a.vars=u,this.sfs.createRoom(a)}},{key:"debugTrace",value:function(t){this.debuggy.txt.htmlText=this.debuggy.txt.htmlText+t}},{key:"disconnect",value:function(){this.sfs.disconnect()}},{key:"getMyID",value:function(){return this.sfs.myUserId}},{key:"getMyName",value:function(){return this.sfs.myUserName}},{key:"getMyRoom",value:function(){return this.sfs.myUserName}},{key:"getRoomCount",value:function(){return this.players.length}},{key:"getRoomMax",value:function(){return this.maxPlayers}},{key:"getVariable",value:function(t){return this.sfs.getActiveRoom().getVariable(t)}},{key:"giveFinalList",value:function(t){var e=NaN;this.finalList=new Array;for(var r=0;r<t.length;r++)for(e=0;e<this.players.length;e++)if(t[r].player.userName==this.players[e].userName){this.finalList.push(this.players[e]),this.players[e].placing=r;break}this.timeToGo=this.timeToGoStart}},{key:"hostDuty",value:function(){}},{key:"init",value:function(t){this.timer.addEventListener("timer",this.timerHandler),this.timer.start(),this.hostTimer.addEventListener("timer",this.timerHandler2),this.hostTimer.start(),this.playerObject=t,this.inLimbo=!1,this.firstTimeIn=!0,this.sfs=new Yi(!0),this.sfs.addEventListener(Wi.onConnection,this.onConnection),this.sfs.addEventListener(Wi.onConnectionLost,this.onConnectionLost),this.sfs.addEventListener(Wi.onLogin,this.onLogin),this.sfs.addEventListener(Wi.onRoomListUpdate,this.onRoomListUpdate),this.sfs.addEventListener(Wi.onJoinRoom,this.onJoinRoom),this.sfs.addEventListener(Wi.onJoinRoomError,this.onJoinRoomError),this.sfs.addEventListener(Wi.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.addEventListener(Wi.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.addEventListener(Wi.onPublicMessage,this.onPublicMessageHandler),this.sfs.addEventListener(Wi.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.addEventListener(Wi.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.addEventListener(Wi.onRoomAdded,this.onRoomAddedHandler),this.sfs.addEventListener(Wi.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.addEventListener(Wi.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.addEventListener(Wi.onAdminMessage,this.onAdminMessageHandler),this.sfs.addEventListener(it.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.addEventListener(it.flash.events.IOErrorEvent.IO_ERROR,this.onIOError),this.sfs.debug=!1,this.sfs.isConnected?this.debugTrace("You are already connected!"):this.sfs.connect("multiplayer.armorgames.com",9339)}},{key:"isPlayerMuted",value:function(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return!0;return!1}},{key:"joinRoom",value:function(t){this.sfs.joinRoom(t)}},{key:"kill",value:function(){this.timer.removeEventListener("timer",this.timerHandler),this.timer.stop(),this.timer=null,this.hostTimer.removeEventListener("timer",this.timerHandler2),this.hostTimer.stop(),this.hostTimer=null,this.sfs.removeEventListener(Wi.onConnection,this.onConnection),this.sfs.removeEventListener(Wi.onConnectionLost,this.onConnectionLost),this.sfs.removeEventListener(Wi.onLogin,this.onLogin),this.sfs.removeEventListener(Wi.onRoomListUpdate,this.onRoomListUpdate),this.sfs.removeEventListener(Wi.onJoinRoom,this.onJoinRoom),this.sfs.removeEventListener(Wi.onJoinRoomError,this.onJoinRoomError),this.sfs.removeEventListener(Wi.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.removeEventListener(Wi.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.removeEventListener(Wi.onPublicMessage,this.onPublicMessageHandler),this.sfs.removeEventListener(Wi.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.removeEventListener(Wi.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.removeEventListener(Wi.onRoomAdded,this.onRoomAddedHandler),this.sfs.removeEventListener(Wi.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.removeEventListener(Wi.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.removeEventListener(Wi.onAdminMessage,this.onAdminMessageHandler),this.sfs.removeEventListener(it.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.removeEventListener(it.flash.events.IOErrorEvent.IO_ERROR,this.onIOError)}},{key:"mutePlayer",value:function(t){this.muteList.push(t),this.debugTrace(t+" has been muted, you will no longer see this user's messages.")}},{key:"onAdminMessageHandler",value:function(t){this.debugTrace("<FONT COLOR='#"+re.toHex(16711680)+"'><B>Admin Overlord Message:</B> "+t.params.message+"</FONT>")}},{key:"onConnection",value:function(t){t.params.success?(this.debugTrace("Connection successful!"),this.parent.step(1),this.sfs.login("ExitGame",this.playerObject.userName,"")):this.debugTrace("Connection failed!")}},{key:"onConnectionLost",value:function(t){this.debugTrace("Connection lost!")}},{key:"onIOError",value:function(t){this.debugTrace("I/O Error: "+t.text)}},{key:"onJoinRoom",value:function(t){var e=null,r=null;if(this.debugTrace("Successfully arrived at "+t.params.room.getName()),"Party Room"!=t.params.room.getName()){this.parent.step(3);var i=t.params.room.getUserList();for(e in i)i[e].getName()==this.getMyName()?(this.addPlayer(i[e].getId(),i[e].getName(),!0),t.params.room.getVariable("host")==this.playerObject.userName&&(this.debugTrace("You have been made host of this address!"),this.setRoomVariable("state","Lobby"),this.chooseUserLevel(),this.resetTimeToGo(),this.player.host=!0,1==this.players.length&&this.startSingleRoomTimeOut())):this.addPlayer(i[e].getId(),i[e].getName());(r=this.sfs.getActiveRoom()).getUserCount()>=this.minPlayers&&this.parent.step(4),this.parent.updateUserCount(r.getUserCount(),r.getMaxUsers())}else this.sfs.getRoomList()}},{key:"onJoinRoomError",value:function(t){this.debugTrace("Room join error; the following error occurred: "+t.params.error),this.parent.step(1),this.sfs.joinRoom("Party Room")}},{key:"onLogin",value:function(t){t.params.success?this.debugTrace("Successfully logged in"):this.debugTrace("Login failed. Reason: "+t.params.error)}},{key:"onPrivateMessageHandler",value:function(t){for(var e=JSON.parse(t.params.message),r=0;r<this.players.length;r++)if(this.players[r].userName==t.params.sender.getName()&&this.players[r]!=this.player)return this.players[r].xp=e.xp,this.players[r].kudos=e.kudos,this.players[r].wins=e.wins,this.players[r].matches=e.matches,this.players[r].colour=e.colour,this.players[r].colour2=e.colour2,this.players[r].headType=e.headType,this.players[r].handType=e.handType,this.players[r].host=e.host,void("Lobby"==this.locate&&this.parent.lobby.updateBar(r))}},{key:"onPublicMessageHandler",value:function(t){var e=null,r=NaN,i=null,n=NaN,s=NaN;if("QD"!=t.params.message.substr(0,2)){if("kudokudo"!=t.params.message.substr(0,8)){if("TIME "==t.params.message.substr(0,5))return this.timeToGo=Number(t.params.message.substr(5,3)),"Lobby"==this.locate&&(this.parent.lobby.timeToGo=this.timeToGo),this.timeToGo<=5&&this.timeToGo>=0&&(qe.playSound("Boop1"),this.startedGame=!1),void(this.parent.game&&"Game"==this.locate&&0==this.startedGame&&(-4==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(20),-5==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(36),-6==this.timeToGo&&(this.parent.game.levelStart.startBox.gotoAndPlay(55),this.startedGame=!0),this.timeToGo<=-7&&0==this.parent.game.goAhead&&0==this.parent.game.levelFinished&&(this.parent.game.goAhead=!0,this.startedGame=!0,this.timeToGo=-7)));if("!!"==t.params.message.substr(0,2))for(s=0;s<this.players.length;s++)if(this.players[s].userName==t.params.sender.getName()){if(this.isPlayerMuted(this.players[s].userName))return;return void this.debugTrace(this.colourPlayer(this.players[s])+": "+t.params.message.substr(2,t.params.message.length))}if("CHECK"!=t.params.message.substr(0,5)){if("LVX"==t.params.message.substr(0,3))return this.debugTrace("<FONT COLOR='#00CC00'>"+t.params.message.substr(3,t.params.message.length)+"</FONT>"),this.debugTrace("<FONT COLOR='#00CC00'>KudoBomb!  As celebration, all room members earn +2 kudos to give!</FONT>"),this.player.kudosToGive=this.player.kudosToGive+2,void("Lobby"==this.locate&&this.parent.lobby&&this.parent.lobby.updateKudosToGive());switch(t.params.message){case"die":"Game"==this.locate&&this.parent.game.tDie(t.params.sender.getId(),t.params.sender.getName());break;case"done":break;case"START":this.timeToGo=0,this.player.kudosToGive=0,qe.playSound("Boop2"),this.myNextLevel=Number(this.getVariable("level")),this.dispatchEvent(new Ft(Ft.GOTO,"Lobby","StartGame"));break;default:this.debugTrace(t.params.sender.getName()+": "+t.params.message)}}else t.params.sender.getName()!=this.player.userName&&this.parent.game.tCheck(t.params.sender.getName(),Number(t.params.message.substr(5,1)))}else if(e=t.params.message.substr(8,t.params.message.length),"Lobby"==this.locate&&this.parent.lobby.exchangeKudos(e,t.params.sender.getName()),e==this.player.userName){if(r=this.parent.getLevelByXP(this.playerObject.xp),qe.playSound("GetKudos"),this.debugTrace(t.params.sender.getName()+" has given you kudos!  You now have "+(this.playerObject.kudos+1)),this.player.kudos++,this.playerObject.kudos++,this.player.xp=this.player.xp+5,this.playerObject.xp=this.playerObject.xp+5,this.playerObject.kudos>=10&&this.dispatchEvent(new kt(kt.SEND,27)),this.playerObject.kudos>=100&&this.dispatchEvent(new kt(kt.SEND,28)),this.playerObject.kudos>=250&&this.dispatchEvent(new kt(kt.SEND,29)),"Lobby"==this.locate&&(i=this.parent.getRankByXP(this.playerObject.xp),(n=this.parent.getLevelByXP(this.playerObject.xp))>r))for(this.parent.lobby.levelUpWindow=new Ii,this.parent.lobby.levelUpWindow.init(n,i),this.parent.lobby.addChild(this.parent.lobby.levelUpWindow),this.sendMessage("LVX"+this.player.userName+" has just leveled up to Level "+n+": "+i),s=0;s<this.players[s];s++)this.players[s].isPlayer&&this.parent.lobby.updateBar(s);this.dispatchEvent(new Ft(Ft.GOTO,"SaveGame"))}}else this.parseDataString(t.params.sender.getName(),t.params.message.substr(2,t.params.message.length))}},{key:"onRoomAddedHandler",value:function(t){}},{key:"onRoomListUpdate",value:function(t){var e=null,r=null;if(this.firstTimeIn)return this.firstTimeIn=!1,void this.sfs.joinRoom("Party Room");for(e in this.parent.step(2),t.params.roomList)if("Party Room"!=(r=t.params.roomList[e]).getName()&&r.isGame()&&r.getUserCount()<r.getMaxUsers()&&"Lobby"==r.getVariable("state"))return void this.joinRoom(r.getName());this.debugTrace("No room found, creating room..."),this.createRoom()}},{key:"onRoomVariablesUpdateHandler",value:function(t){var e=null,r=t.params.changedVars;for(e in r)"level"==e&&(this.myNextLevel=Number(t.params.room.getVariable(e)))}},{key:"onRoundTripResponseHandler",value:function(t){var e=t.params.elapsed;this.totalPingTime=this.totalPingTime+e/2,this.pingCount++;var r=Math.round(this.totalPingTime/this.pingCount);this.currentPing=r,this.player&&(this.player.ping=this.currentPing,this.firstTimeSend&&0!=this.currentPing&&(this.firstTimeSend=!1)),"Game"==this.locate&&this.parent.game.updatePing(this.currentPing)}},{key:"onSecurityError",value:function(t){this.debugTrace("Security error: "+t.text)}},{key:"onUserEnterRoomHandler",value:function(t){var e=this.sfs.getActiveRoom();if("Party Room"!=e.getName()){this.debugTrace("User "+t.params.user.getName()+" entered the room"),this.addPlayer(t.params.user.getId(),t.params.user.getName()),this.allAlone&&(this.allAlone=!1),this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),e.getUserCount()>=this.minPlayers&&this.parent.step(4);var r=new Object;r.xp=this.player.xp,r.kudos=this.player.kudos,r.wins=this.player.wins,r.matches=this.player.matches,r.colour=this.player.colour,r.colour2=this.player.colour2,r.headType=this.player.headType,r.handType=this.player.handType,r.host=this.player.host,r.ping=this.player.ping;var i=JSON.stringify(r);this.sendPrivateMessage(i,t.params.user.getId())}}},{key:"onUserLeaveRoomHandler",value:function(t){var e=this.sfs.getActiveRoom();"Party Room"!=e.getName()&&(this.debugTrace("User "+t.params.userName+" left the room"),this.locate,this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),this.removePlayer(t.params.userID,t.params.userName),this.player.host&&1==this.players.length&&"Lobby"==this.locate&&this.setRoomVariable("state","Lobby"))}},{key:"onUserVariablesUpdateHandler",value:function(t){for(var e=t.params,r=e.changedVars,i=0;i<this.players.length;i++)if(this.players[i].userName==e.user.getName()){if(this.players[i].isPlayer)return;for(var n in r)switch(n){case"pX":this.players[i].toX=Number(e.user.getVariable("pX"));continue;case"pY":this.players[i].toY=Number(e.user.getVariable("pY"));continue;case"fr":this.players[i].fr=Number(e.user.getVariable("fr"));continue;case"pH":this.players[i].headType=Number(e.user.getVariable("pH"));continue;case"pI":this.players[i].handType=Number(e.user.getVariable("pI"));continue;case"scX":this.players[i].xScale=e.user.getVariable("scX");continue;case"colour":this.players[i].colour=e.user.getVariable("colour");continue;case"colour2":this.players[i].colour2=e.user.getVariable("colour2");continue;case"xp":this.players[i].xp=e.user.getVariable("xp");continue;case"kudos":this.players[i].kudos=e.user.getVariable("kudos");continue;case"wins":this.players[i].wins=e.user.getVariable("wins");continue;case"matches":this.players[i].matches=e.user.getVariable("matches");continue;case"host":this.players[i].host=e.user.getVariable("host");continue;case"hostTime":this.players[i].hostTime=e.user.getVariable("hostTime"),"Game"==this.locate&&this.parent.game&&this.parent.game.timer.setTime(this.players[i].hostTime);continue;case"ping":this.players[i].ping=e.user.getVariable("ping");continue;case"stopX":this.players[i].oldX=this.players[i].xPos;continue;case"stopY":this.players[i].oldY=this.players[i].yPos;continue;case"xPos":this.players[i].xPos=e.user.getVariable("xPos");continue;case"yPos":this.players[i].yPos=e.user.getVariable("yPos");continue;case"time":this.players[i].time=e.user.getVariable("time"),this.players[i].time>0&&(this.debugTrace(this.players[i].userName+" has just beat the level."),"Game"==this.locate&&this.parent.game.iAmDone(this.players[i].userName));continue;default:continue}return void("Lobby"==this.locate?this.parent.lobby.updateBar(i):this.locate)}}},{key:"parseDataString",value:function(t,e){var r=null,i=0;for(i=0;i<this.players.length;i++)if(this.players[i].userName==t){if(r=this.players[i],this.players[i].userName==this.player.userName)return;break}r.tCounter=0,r.oldX=r.xPos,r.oldY=r.yPos,r.xV=0,r.yV=0;var n=0,s=0,a=0,o=0;for(i=0;i<e.length;i++)"x"==e.substr(i,1)&&(n=Number(i)),"y"==e.substr(i,1)&&(s=Number(i)),"f"==e.substr(i,1)&&(a=Number(i)),"q"==e.substr(i,1)&&(o=Number(i));var l=!1,u=!1;s-n!=1&&(r.xPos=Number(e.substr(n+1,s-n-1)),l=!0),a-s!=1&&(r.yPos=Number(e.substr(s+1,a-s-1)),u=!0),o-a!=1&&(r.fr=Number(e.substr(a+1,o-a-1))),r.tCounterGoal=6+Math.floor(this.currentPing/1e3*30),l?r.xV=(r.xPos-r.oldX)/r.tCounterGoal:(r.xV=0,r.oldX=r.xPos),u?r.yV=(r.yPos-r.oldY)/r.tCounterGoal:(r.yV=0,r.oldY=r.yPos),"Lobby"==this.locate?this.parent.lobby.updateBar(i):this.locate}},{key:"ping",value:function(){this.pingCounter++,this.pingCounter>=90&&(this.pingCounter=0,this.sfs.roundTripBench()),this.hostDuty(),"Game"==this.locate&&this.talkToTheGame(),this.timeOutPlayer()}},{key:"randomAnimal",value:function(){var t=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish");return t[re.random(t.length-1)]}},{key:"randomNoun",value:function(){var t=new Array("Stadium","Farm","Factory","Park","Lake","Forest","Island","Market","Garden","Bunker");return t[re.random(t.length-1)]}},{key:"randomRoadType",value:function(){var t=new Array("Rd.","St.","Blvd.","Alley.","Ave.","Ct.","Ln.","Dr.");return t[re.random(t.length-1)]}},{key:"removePlayer",value:function(t,e){for(var r=NaN,i=!1,n=NaN,s=0;s<this.players.length;s++)if(this.players[s].userName==e){for(r=0;r<this.players.length;r++)if(this.finalList[r]==this.players[s]){this.finalList.splice(r,1);break}if(this.players[s].host){for(i=!1,n=0,r=0;r<this.players.length;r++)s!=r&&(i?(this.players[r].ping<this.players[n].ping||this.players[r].ping==this.players[n].ping&&this.players[r].id<this.players[n].id)&&(n=Number(r)):(i=!0,n=Number(r)));this.players[n].userName==this.player.userName?(this.player.host=!0,this.debugTrace("You have been made host of this address! (Ping:"+this.player.ping+")"),this.setRoomVariable("host",this.playerObject.userName),"Lobby"==this.locate?this.setRoomVariable("state","Lobby"):this.setRoomVariable("state","Game"),this.chooseUserLevel()):this.players[n].host=!0}return"Lobby"==this.locate&&this.parent.lobby.removeBar(s),"Game"==this.locate&&this.parent.game.tRemovePlayer(this.players[s].userName),this.players[s]=null,void this.players.splice(s,1)}}},{key:"resetTimeToGo",value:function(){this.timeToGo=this.timeToGoStart,this.timeToGoCounter=0}},{key:"sendMessage",value:function(t){this.sfs.sendPublicMessage(t)}},{key:"sendPrivateMessage",value:function(t,e){this.sfs.sendPrivateMessage(t,e)}},{key:"sendTime",value:function(){this.broadcastPlayerPing()}},{key:"setRoomVariable",value:function(t,e){var r=new Array;r.push({name:t,val:e,persistent:!0}),this.sfs.setRoomVariables(r)}},{key:"setUserVariables",value:function(t){this.sfs.setUserVariables(t)}},{key:"startSingleRoomTimeOut",value:function(){this.allAlone=!0,this.allAloneCounter=0}},{key:"talkToTheGame",value:function(){}},{key:"timeOutPlayer",value:function(){}},{key:"timerHandler",value:function(t){this.broadcastPlayerPing()}},{key:"timerHandler2",value:function(t){if(this.timeOutCounter++,this.timeOutCounter>120)return this.dispatchEvent(new Ft(Ft.GOTO,"Tubes","TimeOut")),void(this.timeOutCounter=0);if(this.allAlone&&this.allAloneCounter++,(je.isDown(je.LEFT)||je.isDown(je.RIGHT))&&(this.timeOutCounter=0),this.player){if(!this.player.host)return;return this.players.length>1&&!this.allAlone?(this.timeToGo--,this.timeToGo<-7&&(this.timeToGo=-7),this.timeToGo<0&&"Lobby"==this.locate&&(this.timeToGo=this.timeToGoStart),this.timeToGo>10&&"Game"==this.locate&&(this.timeToGo=-7),(this.timeToGo>25||this.timeToGo<-7)&&(this.timeToGo=25),isNaN(this.timeToGo)&&(this.timeToGo=25)):this.timeToGo=this.timeToGoStart,void(0==this.timeToGo?(this.sendMessage("START"),this.timeToGo=0,this.timeToGoCounter=-1e4):(this.timeToGoCounter=0,5==this.timeToGo&&this.player.host&&this.setRoomVariable("state","Game"),this.sendMessage("TIME "+this.timeToGo)))}}},{key:"unMutePlayer",value:function(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return this.muteList.splice(e,1),void this.debugTrace(t+" is now unmuted.")}}]),n}(it.flash.display.MovieClip);var Zi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).isSinglePlayer=!1,t.xpLevels=41,t.xpBase=125,t.ranks=new Array,t.levelNames=new Array("Novice","Walker","Jogger","Runner","Sprinter","Windwalker","Speedrunner","Marathoner","Earthrunner","Pacer","Drifter","Voyager","Nimble","Expeditive","Quick","Outlast","Spring","Survivor","Swift","Trekker","Tour","Grace","Agility","Fast","Zoom","Fervor","Rush","Fly","Momentum","Haste","Fleetness","Forge","Drive","Boost","Velocity","Swiftness","Accelerator","Impel","Breakneck","Run Master","Grandmaster","Grandmaster"),t}return T()(n,[{key:"getLevelByXP",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return e-1;return this.ranks.length-1}},{key:"getRankByXP",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.levelNames[e-1];return this.levelNames[this.ranks.length-1]}},{key:"getXPBetweenLevels",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.ranks[e]-this.ranks[e-1];return 99999999}},{key:"gotRoomList",value:function(){}},{key:"init",value:function(t){this.initRanks(),this.playerObject=t,this.multiplayerMenu=new zi,this.addChild(this.multiplayerMenu),this.multiplayerMenu.init(this.playerObject),this.isSinglePlayer=!0,this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"init2",value:function(t){this.playerObject=t,this.singlePlayerMenu=new Xi,this.addChild(this.singlePlayerMenu),this.singlePlayerMenu.init(this.playerObject),this.isSinglePlayer=!1}},{key:"initRanks",value:function(){for(var t=0;t<this.xpLevels;t++)0==t?this.ranks.push(0):this.ranks.push(this.ranks[t-1]+t*this.xpBase);this.ranks.push(this.ranks[this.ranks.length-1])}},{key:"ping",value:function(t){this.game&&this.game.tConnected&&this.tubes&&this.tubes.ping()}},{key:"quickJoinRoom",value:function(){this.startGame()}},{key:"rejoin",value:function(){this.step(3),this.updateUserCount(this.tubes.getRoomCount(),this.tubes.getRoomMax())}},{key:"startGame",value:function(){}},{key:"startQPM",value:function(){this.tubes=new Ji,this.tubes.init(this.playerObject),this.addChild(this.tubes)}},{key:"startRoom",value:function(){}},{key:"startSinglePlayer",value:function(){this.game=new vr,this.game.mode="SP",this.isSinglePlayer=!0,this.game.init(this.tubes,this.playerObject,this.playerObject.gameLevel),this.addChild(this.game),this.game.startSinglePlayer()}},{key:"step",value:function(t){this.quickPlayLobby&&(this.quickPlayLobby.step=t)}},{key:"updateUserCount",value:function(t,e){this.quickPlayLobby&&this.quickPlayLobby.updateUserCount(t,e)}}]),n}(it.flash.display.MovieClip);var Qi=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).id=0,t.userName="bob",t}return n}(it.flash.display.MovieClip);var $i=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(it.flash.display.MovieClip);var tn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(t,e){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return C()(this,n),(r=i.call(this,new it.flash.display.BitmapData(s>0?s:t.height,e,!0,0)))._mustRender=!1,r._texture=t,r._cameraHeight=e,r._cameraY=e,r._oldCamY=0,r._rect=new it.flash.geom.Rectangle(0,0,r._texture.width,r._texture.height),r._topIndex=0,r._bottomIndex=0,r._renderPoint=new it.flash.geom.Point,r.preRender(),r}return T()(n,[{key:"destroy",value:function(){this._texture.dispose(),this._texture=null,this.bitmapData.dispose(),this.bitmapData=null}},{key:"preRender",value:function(){for(this._renderHeight=this.bitmapData.height,this._renderPoint.y=0,this.bitmapData.lock();this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this._renderHeight=this._renderHeight-this._rect.height,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex=this._bottomIndex+this._rect.height,this._bottomIndex>=this._texture.height&&(this._bottomIndex=0);this.bitmapData.unlock()}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this._mustRender){var e=this._oldCamY-this._cameraY;if(this._oldCamY=this._cameraY,0!=e){if(e>this.bitmapData.height&&(e=this.bitmapData.height),this._renderHeight=Math.abs(e),this.bitmapData.lock(),this.bitmapData.scroll(0,e),e<0)for(this._renderPoint.y=this.bitmapData.height+e;this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex>=this._texture.height?this._bottomIndex=this._rect.height-(this._texture.height-this._bottomIndex):this._bottomIndex=this._bottomIndex+this._rect.height,this._topIndex>=this._texture.height?this._topIndex=this._rect.height-(this._texture.height-this._topIndex):this._topIndex=this._topIndex+this._rect.height;else for(;this._renderHeight>0;)this._renderHeight>this._texture.height-(this._texture.height-this._topIndex)?(this._rect.height=this._texture.height-(this._texture.height-this._topIndex),this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=e-this._rect.height):(this._rect.height=this._renderHeight,this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=0),this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y-this._rect.height,this._bottomIndex<=0?this._bottomIndex=this._texture.height-(this._rect.height-this._bottomIndex):this._bottomIndex=this._bottomIndex-this._rect.height,this._topIndex<=0?this._topIndex=this._texture.height-(this._rect.height-this._topIndex):this._topIndex=this._topIndex-this._rect.height;this.bitmapData.unlock(),this._mustRender=!1}}}},{key:"cameraHeight",get:function(){return this._cameraHeight},set:function(t){this._cameraHeight=t,this._mustRender=!0}},{key:"cameraY",get:function(){return this._cameraY},set:function(t){this._cameraY=t,this._mustRender=!0}}]),n}(it.flash.display.Bitmap);var en=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var rn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t.parent.createPlate(Pt()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var nn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).numPlayers=0,t.step=0,t.totalPlayers=1,t.gameReady=!1,t.startCounter=0,t}return T()(n,[{key:"buttons",value:function(t){switch(t.currentTarget){case this.backToMenuButton:this.dispatchEvent(new Ft(Ft.GOTO,"QuickPlayLobby","Back"))}}},{key:"init",value:function(){this.backToMenuButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.step=0,this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"kill",value:function(){this.backToMenuButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.buttons)}},{key:"ping",value:function(t){this.gameReady&&this.dispatchEvent(new Ft(Ft.GOTO,"QuickPlayLobby","OpenLobby")),0==this.step&&(this.connectionMeter.matcher.width=Bt.ease(this.connectionMeter.matcher.width,0,.3),this.playerCountText.text="Connecting..."),1==this.step&&(this.connectionMeter.matcher.width=Bt.ease(this.connectionMeter.matcher.width,20,.3),this.playerCountText.text="Poking Server..."),2==this.step&&(this.connectionMeter.matcher.width=Bt.ease(this.connectionMeter.matcher.width,182,.3),this.playerCountText.text="Finding Room..."),3==this.step&&(this.connectionMeter.matcher.width=Bt.ease(this.connectionMeter.matcher.width,345+166/this.totalPlayers*this.numPlayers,.3)),4==this.step&&(this.connectionMeter.matcher.width=Bt.ease(this.connectionMeter.matcher.width,511,.3),this.gameReady=!0)}},{key:"updateUserCount",value:function(t,e){this.playerCountText.text=t+"/"+e+" Players Found",this.numPlayers=t,this.totalPlayers=e,t>1&&(this.gameReady=!0,this.step=4)}}]),n}(it.flash.display.MovieClip);var sn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.display.MovieClip);var an=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).isMain=!1,t.playerXMax=8,t.l=!1,t.time=0,t.teleporting=!1,t.id=5,t.levelNum=0,t.d=!1,t.playerYMax=15,t.hitHalf=!1,t.r=!1,t.gameMode=0,t.u=!1,t.beltSpeed=2,t.userName="hello",t.colour=re.randomColour(),t.colour2=re.randomColour(),t}return T()(n,[{key:"doTheJump",value:function(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1)}},{key:"handleHalfTiles",value:function(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}},{key:"hitBlock",value:function(t){}},{key:"initPlayer",value:function(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8}},{key:"levelInteraction",value:function(){for(var t=0;t<this.curLevel.bouncers.length;t++)if(this.hitTestObject(this.curLevel.bouncers[t])&&1==this.curLevel.bouncers[t].currentFrame)return this.yVel=-20,this.playerJump=!0,this.jumpLevel=!1,this.yLove=1,void this.curLevel.bouncers[t].gotoAndPlay(2)}},{key:"movePlayer",value:function(){this.u?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),this.d?(this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown=!1,this.xF=.7,this.scaleY=1),this.l?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):this.r&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),this.l||this.r?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5}},{key:"ping",value:function(){this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.levelInteraction(),this.teleporterInteraction()}},{key:"teleporterInteraction",value:function(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),void this.parent.emitBeam(this.x-17,this.y,25)}},{key:"touchBlock",value:function(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}]),n}(ie);var on=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound),ln=function t(){C()(this,t)};P()(ln,"HORIZONTAL","horizontal"),P()(ln,"VERTICAL","vertical");var un=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this))._position=0,t._maxScrollPosition=1,t._thumbHeld=!1,t._oldPosition=0,t.addEventListener(it.flash.events.Event.ADDED_TO_STAGE,t.handleAddedToStage,!1,0,!0),t._position=0,t._maxScrollPosition=1,t}return T()(n,[{key:"handleAddedToStage",value:function(t){this.removeEventListener(it.flash.events.Event.ADDED_TO_STAGE,this.handleAddedToStage),this._position=0,this._maxScrollPosition=1,this.update(),this.thumb_mc.y=this.bar_mc.y,this.addEventListener(it.flash.events.MouseEvent.MOUSE_DOWN,this.handleMouseDown,!1,0,!0),this.stage.addEventListener(it.flash.events.MouseEvent.MOUSE_UP,this.handleMouseUp,!1,0,!0),this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.handleEnterFrame,!1,0,!0)}},{key:"handleEnterFrame",value:function(t){this._thumbHeld&&(this.thumb_mc.y=this.mouseY-this.thumb_mc.height/2,this.thumb_mc.y>this.bar_mc.height-this.thumb_mc.height&&(this.thumb_mc.y=this.bar_mc.height-this.thumb_mc.height),this.thumb_mc.y<this.bar_mc.y&&(this.thumb_mc.y=this.bar_mc.y),this._oldPosition=this._position,this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.dispatchEvent(new Ae(ln.VERTICAL,this._position-this._oldPosition,this._position)))}},{key:"handleMouseDown",value:function(t){this._thumbHeld=!0}},{key:"handleMouseUp",value:function(t){this._thumbHeld=!1}},{key:"update",value:function(){this.thumb_mc.y=this._position/this._maxScrollPosition*(this.bar_mc.height-this.thumb_mc.height),this.on=this._position!=this._maxScrollPosition}},{key:"height",get:function(){return this.bar_mc.height}},{key:"maxScrollPosition",get:function(){return this._maxScrollPosition},set:function(t){this._maxScrollPosition=t,this._maxScrollPosition<0&&(this._maxScrollPosition=0),this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.update()}},{key:"on",get:function(){return this.thumb_mc.visible},set:function(t){this.thumb_mc.visible=t,this.buttonMode=t}},{key:"percent",get:function(){return 0==this._maxScrollPosition?0:this._position/this._maxScrollPosition}},{key:"scrollPosition",get:function(){return this._position},set:function(t){this._position=t,this._position>this._maxScrollPosition&&(this._position=this._maxScrollPosition),this._position<0&&(this._position=0),this.update()}}]),n}(it.flash.display.MovieClip);var cn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(un);var hn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var fn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var dn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var pn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var yn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C()(this,n),(t=i.call(this)).setCounter=0,t.prevChar="A",t.characters=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"," ","!",",",".","_",":"),t.startingCharacter=2+re.random(t.characters.length-3),t.curCharacter=t.startingCharacter,t.prevCharacter=t.startingCharacter-1,t.goalCharacter=re.random(t.characters.length-1),t.curChar=t.characters[t.startingCharacter],t.goalCharacter=null==e?t.getPosition(t.name):t.getPosition(e),r&&(t.startingCharacter=t.goalCharacter),t}return T()(n,[{key:"checkLetters",value:function(){var t=this.goalCharacter-this.curCharacter;t<0&&(t+=this.characters.length),this.setCounter++,t>=3?(this.setCounter=0,this.swapLetters(),this.filters=new Array(new it.flash.filters.BlurFilter(0,8,1))):t>=2?(this.filters=new Array(new it.flash.filters.BlurFilter(0,5,1)),this.setCounter>3&&(this.setCounter=0,this.swapLetters())):t>=1?(this.filters=new Array,this.setCounter>5&&(this.setCounter=0,this.swapLetters())):0==t&&this.currentFrame==this.totalFrames&&(this.setCharacters(),this.stop())}},{key:"getPosition",value:function(t){for(var e=0;e<this.characters.length;e++)if(t==this.characters[e])return e;return 0}},{key:"newCharacter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.goalCharacter;"^"==t&&(t=this.characters[re.random(36)]),this.goalCharacter=this.getPosition(t),e&&(this.curCharacter=this.goalCharacter,this.prevCharacter=r,this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters(),this.gotoAndPlay(1))}},{key:"ping",value:function(){this.checkLetters()}},{key:"setCharacters",value:function(){this.above.let.text=this.prevChar,this.topBack.let.text=this.curChar,this.belowNow.let.text=this.curChar,this.bottomBack.let.text=this.prevChar}},{key:"swapLetters",value:function(){this.gotoAndPlay(1),this.prevCharacter=this.curCharacter,this.curCharacter++,this.curCharacter==this.characters.length&&(this.curCharacter=0),this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters()}}]),n}(it.flash.display.MovieClip);function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var mn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;C()(this,n);var r=null;(t=i.call(this)).tickers=new Array,t.word="",t.bg.visible=!1,null==e&&(e=t.name),t.word=e;for(var s=0;s<e.length;s++)(r=new yn(e.substr(s,1),!0)).x=s*r.width+2,r.y=0,t.addChild(r),t.tickers.push(r);return t}return T()(n,[{key:"changeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null;this.word=t;for(var i=0;i<this.tickers.length;i++)r=this.tickers[i],t.substr(i,1)!=r.characters[r.goalCharacter]&&r.newCharacter(t.substr(i,1),e);if(t.length>this.tickers.length)for(i=Number(this.tickers.length);i<t.length;i++)(r=new yn(t.substr(i,1),!0)).x=i*r.width+2,r.y=0,this.addChild(r),this.tickers.push(r);var n="";for(i=0;i<this.tickers.length;i++)n+=this.tickers[i].characters[this.tickers[i].goalCharacter];this.word=n}},{key:"ping",value:function(){var t,e=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return vn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(this.tickers);try{for(e.s();!(t=e.n()).done;)t.value.ping()}catch(t){e.e(t)}finally{e.f()}}}]),n}(it.flash.display.MovieClip);var gn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(it.flash.display.MovieClip);var bn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return T()(n,[{key:"ping",value:function(){this.cA.ping(),this.cB.ping()}}]),n}(it.flash.display.MovieClip);var _n=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var xn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){return C()(this,n),i.call(this)}return n}(it.flash.media.Sound);var Rn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,309,t.frame310),t}return T()(n,[{key:"frame1",value:function(){this.gotoAndPlay(2)}},{key:"frame310",value:function(){this.stop(),this.dispatchEvent(new Ft(Ft.GOTO,"endIntro"," "))}}]),n}(it.flash.display.MovieClip);var kn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var wn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(1,t.frame2),t}return T()(n,[{key:"frame2",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var En=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,19,t.frame20),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame20",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Sn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Cn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Ln=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Tn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Mn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Pn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,30,t.frame31),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame31",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var An=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Dn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var On=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Nn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Bn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(95,t.frame96),t}return T()(n,[{key:"frame96",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Fn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,62,t.frame63),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame63",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip),In=function t(){C()(this,t),P()(this,"userName",void 0),P()(this,"colour",void 0),P()(this,"colour2",void 0),P()(this,"headType",void 0),P()(this,"handType",void 0),P()(this,"xp",void 0),P()(this,"kudos",void 0),P()(this,"matches",void 0),P()(this,"wins",void 0),P()(this,"jumps",void 0),P()(this,"deaths",void 0),P()(this,"gameDeaths",void 0),P()(this,"gameLevel",void 0),P()(this,"gameName",void 0),P()(this,"gameTime",void 0),P()(this,"bestTime",void 0),P()(this,"ping",void 0),P()(this,"signs",void 0),P()(this,"achs",void 0)};var jn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),t=i.call(this),P()(Pt()(t),"userLevel",null),t.addFrameScript(0,t.frame1,1,t.frame2,2,t.frame3),t}return T()(n,[{key:"achCenter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=null;0==this.achievements[t.achNum].got&&(this.achievements[t.achNum].got=!0,this.playerObj.achs[t.achNum]=!0,e=new wt,this.addChild(e),qe.playSound("AchSound"),t.achNum>=24?(e.ach.box.handGear.gotoAndStop(t.achNum-23),e.ach.box.head.visible=!1,e.ach.box.head2.visible=!1):(e.ach.box.head.gotoAndStop(t.achNum+1),e.ach.box.handGear.visible=!1),e.ach.achTitle.text=this.achievements[t.achNum].achName)}},{key:"agiLoginPop",value:function(t){this.agi&&(this.agi.showLogin(this.loginPopCheck,this),this.agiLogin.hitA.removeEventListener(it.flash.events.MouseEvent.CLICK,this.agiLoginPop))}},{key:"checkDomain",value:function(){return!!this.agDomain}},{key:"closeHandler",value:function(){this.isHS?(this.multiplayer&&this.contains(this.multiplayer)&&this.multiplayer.singlePlayerMenu.addListeners(),this.isHS=!1):(this.isLoggedIn=this.agi.isLoggedIn(),qe.playSound("Cheer2"),this.isLoggedIn&&this.loadGame(),this.agiLogin.hitA.addEventListener(it.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.fixUpAgiLogin())}},{key:"deleteAllData",value:function(){var t=new Object;this.savedGame.data.saveObj=t,this.savedGame.data.hasSaved=!1,this.savedGame.flush(),this.loadGame(),this.saveGame()}},{key:"endMenus",value:function(){this.endUIBackground(),qe.stopAllSounds(),this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}},{key:"endUIBackground",value:function(){this.removeChild(this.uiBackground),this.uiBackground=null,this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.uiBG)}},{key:"fixUpAgiLogin",value:function(){this.agiLogin&&this.contains(this.agiLogin)&&(this.isLoggedIn?this.agiLogin.disp.htmlText="You are logged in as <FONT COLOR='#"+re.toHex(this.playerObj.colour)+"'>"+this.playerObj.userName+"</FONT>! [Click to Logout]":this.agiLogin.disp.htmlText="You are currently not logged in [Click to Login]")}},{key:"frame1",value:function(){this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.muteButton.addEventListener(it.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.stop(),this.url=this.stage.loaderInfo.url,this.urlStart=this.url.indexOf("://")+3,this.urlEnd=this.url.indexOf("/",this.urlStart),this.domain=this.url.substring(this.urlStart,this.urlEnd),this.LastDot=this.domain.lastIndexOf(".")-1,this.domEnd=this.domain.lastIndexOf(".",this.LastDot)+1,this.domain=this.domain.substring(this.domEnd,this.domain.length),this.currentDomain=this.domain,this.agDomain=!0}},{key:"frame2",value:function(){this.play()}},{key:"frame3",value:function(){je.initialize(this.stage,!0),this.stop(),this.myCountry="Other",this.achievements=new Array,this.achievements.push(new Rt("Underground","Finish the underground portion")),this.achievements.push(new Rt("Stadium","Finish the stadium portion")),this.achievements.push(new Rt("Lab","Complete the lab stages")),this.achievements.push(new Rt("Outside","Complete the escape sequence")),this.achievements.push(new Rt("Bridge","Complete the bridge")),this.achievements.push(new Rt("Limits","Reach the city limits and win")),this.achievements.push(new Rt("Jump","Jump 1,000 times")),this.achievements.push(new Rt("Fill","Fill FLOW to maximum")),this.achievements.push(new Rt("Burn","Burn a full FLOW bar")),this.achievements.push(new Rt("Slide","Slide for more than 8 blocks")),this.achievements.push(new Rt("Bounce","Bounce 10 times on a platform")),this.achievements.push(new Rt("Survive","Go 10 screens without dying")),this.achievements.push(new Rt("Rewind","Rewind for more than 5 seconds")),this.achievements.push(new Rt("Freewind","Don't die before level 11")),this.achievements.push(new Rt("Mindwind","Don't die before the extermination room level 16, then die")),this.achievements.push(new Rt("Signage","Collect a caution sign")),this.achievements.push(new Rt("SignEight","Collect 25% of caution signs")),this.achievements.push(new Rt("SignFifteen","Collect 50% of caution signs")),this.achievements.push(new Rt("SignTwentyFour","Collect 75% of caution signs")),this.achievements.push(new Rt("SignAll","Collect all caution signs")),this.achievements.push(new Rt("Fast","Beat single player in 15 minutes")),this.achievements.push(new Rt("Faster","Beat single player in 12 minutes")),this.achievements.push(new Rt("Fastest","Beat single player in 9 minutes")),this.achievements.push(new Rt("Perfect","Beat single player in 7 minutes")),this.achievements.push(new Rt("First","Win a multiplayer race")),this.achievements.push(new Rt("Ten","Win ten races")),this.achievements.push(new Rt("Hundred","Win one hundred races")),this.achievements.push(new Rt("Kudomonger","Earn 10 kudos")),this.achievements.push(new Rt("Kudomonster","Earn 100 kudos")),this.achievements.push(new Rt("Kudomaster","Earn 250 kudos")),this.achievements.push(new Rt("Matched","Run 5 Races")),this.achievements.push(new Rt("Matchy","Run 25 Races")),this.achievements.push(new Rt("Matchier","Run 100 Races")),this.achievements.push(new Rt("Matchiest","Run 250 Races")),this.achievements.push(new Rt("Reel","Earn 5 kudos in one race")),this.achievements.push(new Rt("Rack","Earn 7 kudos in one race")),this.achievements.push(new Rt("Runner","Reach Level 3")),this.achievements.push(new Rt("Windwalker","Reach Level 5")),this.achievements.push(new Rt("Earthrunner","Reach Level 8")),this.achievements.push(new Rt("Drifter","Reach Level 10")),this.achievements.push(new Rt("Outlast","Reach Level 15")),this.achievements.push(new Rt("Tour","Reach Level 20")),this.achievements.push(new Rt("Fervor","Reach Level 25")),this.achievements.push(new Rt("Fleetness","Reach Level 30")),this.achievements.push(new Rt("Swiftness","Reach Level 35")),this.achievements.push(new Rt("Breakneck","Reach Level 38")),this.achievements.push(new Rt("Runmaster","Reach Level 39")),this.achievements.push(new Rt("Grandmaster","Reach Level 40")),this.peopleNames=new Array("John","Tony","Dan","Fil","Ian","Mike","Larry","Krin","Con","Louissi","Justin"),this.titles=new Array("Rifle","Cannon","Frostbite","Wolf","Claws","Saw","Shock"),this.animals=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish"),this.playerObj=new In,this.playerObj.ping=0,this.savedGame=it.flash.net.SharedObject.getLocal("Exit-Path"),this.loadGame(),this.saveGame(),this.isLoggedIn=!1,this.multiplayer=new Zi,this.singlePlayer=!0,this.agIntro=new Lt,this.addChild(this.agIntro),this.agiLogin=new Ct,this.agiLogin.hitA.addEventListener(it.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0,this.twitterLink=new it.flash.net.URLRequest("http://twitter.com/armorgames/"),this.armorGamesLink=new it.flash.net.URLRequest("http://armorgames.com/"),this.exitPathLink=new it.flash.net.URLRequest("http://armorgames.com/play/5917/exit-path"),this.facebookLink=new it.flash.net.URLRequest("http://www.facebook.com/pages/Armor-Games/19522089061"),this.addEventListener(Ft.GOTO,this.hub,!1,0,!0),this.addEventListener(Ft.SEND,this.messageCenter,!1,0,!0),this.addEventListener(kt.SEND,this.achCenter,!1,0,!0),this.bitmapData=new it.flash.display.BitmapData(800,500),this.bitmapData.draw(this.multiplayer,null,null,null),this.rewind=new sn,this.psb=new tn(this.bitmapData,500,800),this.clearBitmap=new it.flash.display.BitmapData(800,500,!0,0)}},{key:"getAGIName",value:function(){return this.agi?this.agi.getUserProfile().username:this.getRandomName()}},{key:"getAGISaver",value:function(){this.agi&&this.contains(this.agi)}},{key:"getRandomName",value:function(){return"Guest_"+this.animals[re.random(this.animals.length)]+re.random(1e5)}},{key:"highscoresHandler",value:function(){}},{key:"highscoreSub",value:function(){}},{key:"hub",value:function(t){var e=NaN;if("Twitter"==t.sender&&it.flash.net.navigateToURL(this.twitterLink,"_blank"),"Facebook"==t.sender&&it.flash.net.navigateToURL(this.facebookLink,"_blank"),"ArmorGames"==t.sender&&it.flash.net.navigateToURL(this.armorGamesLink,"_blank"),"ExitPathLink"==t.sender&&it.flash.net.navigateToURL(this.exitPathLink,"_blank"),"endIntro"==t.sender)return this.mainMenu=new Gi(this.agDomain),this.startMenus(),this.addChild(this.mainMenu),void this.startMainMenu();if("SaveGame"==t.sender&&this.saveGame(),"DeleteAllData"==t.sender&&this.deleteAllData(),"LevelEnd"==t.sender&&(this.multiplayer.game.removeChild(this.multiplayer.game.levelEnd),this.multiplayer.game.levelEnd=null,this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startLowMenu(),this.multiplayer.lobby=new Ui,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.lobby.returnFromGame()),"MainMenu"==t.sender)switch(this.killAgiLogin(),t.msg){case"Multiplayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new Zi,this.addChild(this.multiplayer),this.multiplayer.init(this.playerObj),this.isLoggedIn||(this.notLoggedIn=new $i,this.addChild(this.notLoggedIn),this.notLoggedIn.init());break;case"SinglePlayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new Zi,this.addChild(this.multiplayer),this.multiplayer.init2(this.playerObj);break;case"Flair":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.flairMenu=new De,this.addChild(this.flairMenu),this.flairMenu.init(this.playerObj,this.achievements);break;case"CharacterEdit":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.characterSelection=new he(this.playerObj),this.addChild(this.characterSelection),this.charSelectFromMainMenu=!0}if("MultiplayerMenu"==t.sender)switch(t.msg){case"Back":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new Gi(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"QuickPlay":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.quickPlayLobby=new nn,this.multiplayer.quickPlayLobby.init(),this.multiplayer.addChild(this.multiplayer.quickPlayLobby),this.multiplayer.startQPM(),this.startLowMenu(),this.killAgiLogin();break;case"CharacterSelection":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.characterSelection=new he(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0}if("Tubes"==t.sender)switch(t.msg){case"TimeOut":switch(qe.stopAllSounds(),this.multiplayer.tubes.locate){case"Lobby":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null;break;case"Game":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null;break;case"QPL":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null}this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new zi,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.timeOutWindow=new gn,this.addChild(this.timeOutWindow),this.timeOutWindow.init()}if("FlairMenu"==t.sender)switch(t.msg){case"Back":this.flairMenu.kill(),this.removeChild(this.flairMenu),this.flairMenu=null,this.mainMenu=new Gi(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu()}if("SinglePlayerMenu"==t.sender)switch(t.msg){case"BackButton":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new Gi(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"Delete":this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameDeaths=0,this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"StartGame":this.endMenus(),this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.startSinglePlayer();break;case"ViewHighscores":this.highscoresHandler();break;case"CharacterSelection":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.characterSelection=new he(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!1}if("CharacterSelection"==t.sender)switch(t.msg){case"Back":if(this.charSelectFromMainMenu)return this.characterSelection.kill(),this.removeChild(this.characterSelection),this.characterSelection=null,this.mainMenu=new Gi(this.agDomain),this.addChild(this.mainMenu),void this.startMainMenu();this.multiplayer.characterSelection.kill(),this.multiplayer.removeChild(this.multiplayer.characterSelection),this.multiplayer.characterSelection=null,this.charSelectFromMulti?(this.multiplayer.multiplayerMenu=new zi,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj)):(this.multiplayer.singlePlayerMenu=new Xi,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj))}if("QuickPlayLobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.multiplayerMenu=new zi,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null;break;case"StartGame":this.endMenus(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.game.reset(),this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes);break;case"OpenLobby":this.endUIBackground(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.lobby=new Ui,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes)}if("Lobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null,this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new zi,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj);break;case"StartGame":this.multiplayer.tubes.locate="Game",this.multiplayer.contains(this.multiplayer.lobby)&&(this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill()),this.multiplayer.lobby=null,this.multiplayer.game=new vr,this.multiplayer.game.mode="MP",this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.init(this.multiplayer.tubes,this.playerObj,this.multiplayer.tubes.myNextLevel),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.game.initMP()}if("Game"==t.sender)switch(t.msg){case"SinglePlayerMenu":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new Xi,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"End":this.lastScore=this.multiplayer.game.timer.getTimeAsTotalSeconds(),(e=this.multiplayer.game.timer.timerCounter)<this.playerObj.bestTime&&(this.playerObj.bestTime=e),this.multiplayer.game.endFadeOut(),this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new Xi,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj),this.highscoreSub(),this.saveGame(),this.startLowMenu();break;case"EndPractice":this.multiplayer.game.endFadeOut(),this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.startLowMenu()}}},{key:"killAch",value:function(t){t.stop(),this.removeChild(t),t=null}},{key:"killAgiLogin",value:function(){this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}},{key:"killAGISaver",value:function(){this.agi&&this.contains(this.agi)}},{key:"loadGame",value:function(){this.isLoggedIn?this.agi.retrieveUserData(this.yumyum):0==this.savedGame.data.hasSaved||null==this.savedGame.data.hasSaved?this.newGame():this.loadGamez()}},{key:"loadGamez",value:function(){this.playerObj.userName=this.getRandomName(),this.playerObj.colour=Number(this.savedGame.data.saveObj.colour),this.playerObj.colour2=Number(this.savedGame.data.saveObj.colour2),this.playerObj.headType=Number(this.savedGame.data.saveObj.headType),this.playerObj.handType=Number(this.savedGame.data.saveObj.handType),this.playerObj.xp=Number(this.savedGame.data.saveObj.xp),this.playerObj.kudos=Number(this.savedGame.data.saveObj.kudos),this.playerObj.matches=Number(this.savedGame.data.saveObj.matches),this.playerObj.wins=Number(this.savedGame.data.saveObj.wins),this.playerObj.jumps=Number(this.savedGame.data.saveObj.jumps),this.playerObj.deaths=Number(this.savedGame.data.saveObj.deaths),this.playerObj.gameDeaths=Number(this.savedGame.data.saveObj.gameDeaths),this.playerObj.gameLevel=Number(this.savedGame.data.saveObj.gameLevel),this.playerObj.gameTime=Number(this.savedGame.data.saveObj.gameTime),null==this.savedGame.data.saveObj.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(this.savedGame.data.saveObj.gameName),this.playerObj.bestTime=Number(this.savedGame.data.saveObj.bestTime),this.playerObj.signs=this.savedGame.data.saveObj.signs,this.playerObj.achs=this.savedGame.data.saveObj.achs,this.playerObj.ping=0;for(var t=0;t<this.playerObj.achs.length;t++)this.achievements[t].got=this.playerObj.achs[t]}},{key:"loginPopCheck",value:function(t){t.success&&(this.playerObj.userName=t.username,this.fixUpAgiLogin())}},{key:"messageCenter",value:function(t){if("StartBox"==t.sender)switch(t.msg){case"go":this.multiplayer.game.countDownFinish()}if("EndCountdown"==t.sender)switch(t.msg){case"End":this.multiplayer.game.endCountdownFinish()}"StartJitter"==t.sender&&(this.addChild(this.psb),this.addChild(this.rewind),this.psb.cameraY=0,this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.something)),"EndJitter"==t.sender&&(this.removeChild(this.rewind),this.removeChild(this.psb),this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.something))}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"newGame",value:function(){this.playerObj.userName=this.getRandomName(),this.playerObj.colour=3394815,this.playerObj.colour2=16777215,this.playerObj.headType=1,this.playerObj.handType=1,this.playerObj.xp=0,this.playerObj.kudos=0,this.playerObj.matches=0,this.playerObj.wins=0,this.playerObj.jumps=0,this.playerObj.deaths=0,this.playerObj.gameDeaths=0,this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameName="01234567",this.playerObj.ping=0,this.playerObj.bestTime=9999999999,this.playerObj.signs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1),this.playerObj.achs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}},{key:"preload",value:function(t){var e=this.stage.loaderInfo.bytesTotal,r=this.stage.loaderInfo.bytesLoaded,i=r/e*100;this.preloader.l.text="Loading... "+Math.floor(i)+"%",this.preloader.bar.bar.scaleX=i/100,r>=e?(this.preloader.bar.bar.scaleX=1,this.removeEventListener(it.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.playB.addEventListener(it.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.playB.visible=!0):this.preloader.playB.visible=!1}},{key:"saveGame",value:function(){var t=new Object;t.colour=String(this.playerObj.colour),t.colour2=String(this.playerObj.colour2),t.headType=String(this.playerObj.headType),t.handType=String(this.playerObj.handType),t.xp=String(this.playerObj.xp),t.kudos=String(this.playerObj.kudos),t.matches=String(this.playerObj.matches),t.wins=String(this.playerObj.wins),t.jumps=String(this.playerObj.jumps),t.deaths=String(this.playerObj.deaths),t.gameDeaths=String(this.playerObj.gameDeaths),t.gameLevel=String(this.playerObj.gameLevel),t.gameName=String(this.playerObj.gameName),t.gameTime=String(this.playerObj.gameTime),t.bestTime=String(this.playerObj.bestTime),t.signs=this.playerObj.signs,t.achs=this.playerObj.achs,this.savedGame.data.hasSaved=!0,this.savedGame.data.saveObj=t,this.savedGame.flush(),this.isLoggedIn&&this.agi.submitUserDataObject(t)}},{key:"something",value:function(){this.psb._texture.copyPixels(this.clearBitmap,this.clearBitmap.rect,new it.flash.geom.Point),this.psb._texture.draw(this.multiplayer,null,null,null),this.psb.render(),this.psb.cameraY=this.psb.cameraY-(490+re.random(20))}},{key:"startAGILogin",value:function(){this.checkDomain()&&(this.addChild(this.agiLogin),this.fixUpAgiLogin())}},{key:"startIt",value:function(t){this.preloader.playB.removeEventListener(it.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.muteButton.removeEventListener(it.flash.events.MouseEvent.CLICK,this.muteOut),this.gotoAndStop("intro")}},{key:"startLowMenu",value:function(){qe.stopAllSounds(),qe.loopSound("MenuLow")}},{key:"startMainMenu",value:function(){this.getAGISaver(),this.startAGILogin()}},{key:"startMenus",value:function(){this.startUIBackground(),qe.stopAllSounds(),qe.loopSound("MainMenuSong")}},{key:"startUIBackground",value:function(){this.uiBackground=new bn,this.addChild(this.uiBackground),this.addEventListener(it.flash.events.Event.ENTER_FRAME,this.uiBG,!1,0,!0)}},{key:"uiBG",value:function(t){this.mainMenu&&this.uiBackground.ping()}},{key:"yumyum",value:function(t){var e=t.data;if(null!=e.colour){this.playerObj.userName=this.getAGIName(),this.playerObj.colour=Number(e.colour),this.playerObj.colour2=Number(e.colour2),this.playerObj.headType=Number(e.headType),this.playerObj.handType=Number(e.handType),this.playerObj.xp=Number(e.xp),this.playerObj.kudos=Number(e.kudos),this.playerObj.matches=Number(e.matches),this.playerObj.wins=Number(e.wins),this.playerObj.jumps=Number(e.jumps),this.playerObj.deaths=Number(e.deaths),this.playerObj.gameDeaths=Number(e.gameDeaths),null==e.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(e.gameName),this.playerObj.gameLevel=Number(e.gameLevel),this.playerObj.gameTime=Number(e.gameTime),this.playerObj.bestTime=Number(e.bestTime),this.playerObj.ping=0,this.playerObj.signs=e.signs,this.playerObj.achs=e.achs;for(var r=0;r<this.playerObj.achs.length;r++)this.achievements[r].got=this.playerObj.achs[r]}else this.saveGame()}},{key:"setUserLevel",value:function(t){this.userLevel=t}},{key:"startPracticeLevel",value:function(t){this.endMenus(),this.multiplayer.game=new vr,this.multiplayer.game.mode="PRACTICE",this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.init(null,this.playerObj,t),this.multiplayer.game.countdownStart(),this.multiplayer.game.initPractice()}},{key:"createLevel",value:function(t){return 999===t&&this.userLevel?new Ni(this.userLevel):new(it.flash.utils.getDefinitionByName("Level".concat(t)))}}]),n}(it.flash.display.MovieClip);var Un=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Vn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(5,t.frame6),t}return T()(n,[{key:"frame6",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Gn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Hn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(4,t.frame5),t}return T()(n,[{key:"frame5",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Kn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(5,t.frame6),t}return T()(n,[{key:"frame6",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var zn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1,24,t.frame25),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame25",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Xn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),t=i.call(this),P()(Pt()(t),"stopAtStep",!0),t.addFrameScript(18,t.frame19,24,t.frame25,43,t.frame44,55,t.frame56,82,t.frame83),t}return T()(n,[{key:"frame19",value:function(){this.stopAtStep&&this.stop()}},{key:"frame25",value:function(){this.stopAtStep&&this.stop()}},{key:"frame44",value:function(){this.stopAtStep&&this.stop()}},{key:"frame56",value:function(){this.dispatchEvent(new Ft(Ft.SEND,"StartBox","go"))}},{key:"frame83",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var qn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Yn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(it.flash.display.MovieClip);var Wn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t;return C()(this,n),(t=i.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.beacon.gotoAndPlay(Math.floor(10*Math.random()))}}]),n}(it.flash.display.MovieClip);var Jn=function(t){st()(n,t);var e,r,i=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ut()(e);if(r){var n=ut()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return ot()(this,t)});function n(){var t,e;return C()(this,n),t=i.call(this),P()(Pt()(t),"elem",((e=document.createElement("input")).type="color",e.style.setProperty("width","".concat(22,"px"),"important"),e.style.setProperty("height","".concat(22,"px"),"important"),e.style.setProperty("padding","0","important"),e.style.setProperty("margin","0","important"),e.style.setProperty("border","none","important"),e.style.setProperty("outline","none","important"),e.style.setProperty("position","absolute"),e)),P()(Pt()(t),"renderX",null),P()(Pt()(t),"renderY",null),P()(Pt()(t),"value",16777215),t.__node.setRenderObjects([],Float32Array.of(0,0,22,22)),t.elem.oninput=function(){var e=parseInt(t.elem.value.slice(1),16);t.value=e,t.dispatchEvent(new ce(ce.CHANGE,e))},t}return T()(n,[{key:"selectedColor",get:function(){return this.value},set:function(t){this.value=t,this.elem.value="#"+t.toString(16).padStart(6,"0")}}]),T()(n,[{key:"layout",value:function(){var t=this.getBounds(this.stage),e=t.x,r=t.y;this.renderX!==e&&(this.elem.style.setProperty("left","".concat(e,"px")),this.renderX=e),this.renderY!==r&&(this.elem.style.setProperty("top","".concat(r,"px")),this.renderY=r)}},{key:"__onRender",value:function(){Dt()(ut()(n.prototype),"__onRender",this).call(this),this.layout()}},{key:"__onAddedToStage",value:function(t){Dt()(ut()(n.prototype),"__onAddedToStage",this).call(this,t),this.layout(),t.__canvas.container.appendChild(this.elem)}},{key:"__onRemovedFromStage",value:function(t){this.elem.remove(),this.renderX=null,this.renderX=null,Dt()(ut()(n.prototype),"__onRemovedFromStage",this).call(this,t)}}]),n}(it.flash.display.DisplayObject),Zn=xt;it.__internal.ClassRegistry.instance.addClassRoot(b);var Qn=function(){function t(){var e=this;C()(this,t),P()(this,"loadPromise",null),P()(this,"value",null),P()(this,"loadProgress",0),P()(this,"loadError",""),P()(this,"reportProgress",(function(t){e.loadProgress=t})),P()(this,"onLoadCompleted",(function(t){e.loadPromise=null,e.loadProgress=1,e.value=t})),P()(this,"onLoadError",(function(t){e.loadPromise=null,e.loadError=String(t)})),(0,A.ky)(this)}return T()(t,[{key:"isLoading",get:function(){return!!this.loadPromise}}]),T()(t,[{key:"load",value:function(){this.isLoading||this.value||(this.loadProgress=0,this.loadError="",this.loadPromise=it.__internal.loadManifest(Zn,this.reportProgress),this.loadPromise.then(this.onLoadCompleted,this.onLoadError))}}]),t}();function $n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}var ts=function(){function t(e){C()(this,t),P()(this,"nextInstanceId",1),P()(this,"instances",[]),this.root=e,(0,A.ky)(this)}return T()(t,[{key:"present",value:function(t){var e=this.nextInstanceId++;return this.instances.push(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(r),!0).forEach((function(e){P()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({id:e},t)),e}},{key:"dismiss",value:function(t){var e=this.instances.findIndex((function(e){return e.id===t}));e<0||this.instances.splice(e,1)}}]),t}(),es=function(){function t(e){var r=this;C()(this,t),P()(this,"_mode",null),P()(this,"replayIndex",0),P()(this,"doReplay",!1),P()(this,"recording",[]),P()(this,"replayPositions",[]),P()(this,"exitFrame",(0,A.aD)((function(){switch(r._mode){case"recording":var t=0;(je.isDown(it.flash.ui.Keyboard.SPACE)||je.isDown(it.flash.ui.Keyboard.SHIFT))&&(t|=1),je.isDown(je.LEFT)&&(t|=2),je.isDown(je.RIGHT)&&(t|=4),je.isDown(je.UP)&&(t|=8),je.isDown(je.DOWN)&&(t|=16),r.recording.push(t);break;case"replaying":if(!r.doReplay)return;if(r.replayIndex>=r.recording.length)return je.keysDown={},void(r._mode=null);var e=r.recording[r.replayIndex++];je.keysDown={},1&e&&(je.keysDown[it.flash.ui.Keyboard.SPACE]=!0),2&e&&(je.keysDown[it.flash.ui.Keyboard.LEFT]=!0),4&e&&(je.keysDown[it.flash.ui.Keyboard.RIGHT]=!0),8&e&&(je.keysDown[it.flash.ui.Keyboard.UP]=!0),16&e&&(je.keysDown[it.flash.ui.Keyboard.DOWN]=!0),r.replayPositions.push([r.root.game.instance.multiplayer.game.player.x,r.root.game.instance.multiplayer.game.player.y])}}))),this.root=e,(0,A.ky)(this),(0,A.EH)((function(){var t=r.root.game.stage;if(t)return t.__withContext((function(){return t.addEventListener(it.flash.events.Event.ENTER_FRAME,r.exitFrame)}))(),t.__withContext((function(){return t.removeEventListener(it.flash.events.Event.ENTER_FRAME,r.exitFrame)}))}))}return T()(t,[{key:"mode",get:function(){return this._mode}}]),T()(t,[{key:"skipToSPMenu",value:function(){var t=this.root.game.instance,e=this.root.game.stage;t&&e&&e.__withContext((function(){t.gotoAndStop(3),t.removeChild(t.agIntro),t.dispatchEvent(new Ft(Ft.GOTO,"endIntro"," ")),t.dispatchEvent(new Ft(Ft.GOTO,"MainMenu","SinglePlayer"))}))()}},{key:"startSPGame",value:function(t){var e=this.root.game.instance,r=this.root.game.stage;e&&r&&(r.__withContext((function(){e.multiplayer.game&&e.dispatchEvent(new Ft(Ft.GOTO,"Game","SinglePlayerMenu")),e.playerObj.gameLevel=t,e.playerObj.gameTime=0,e.dispatchEvent(new Ft(Ft.GOTO,"SinglePlayerMenu","StartGame"))}))(),this.doReplay=!0)}},{key:"startRecord",value:function(){this.recording=[],this._mode="recording"}},{key:"stopRecord",value:function(){this._mode=null}},{key:"startReplay",value:function(){this.replayIndex=0,this.replayPositions=[],this._mode="replaying",this.doReplay=!1}},{key:"stopReplay",value:function(){je.keysDown={},this._mode=null}}]),t}(),rs=new Qn,is=function(){function t(){C()(this,t),P()(this,"library",rs),P()(this,"game",new ht(this)),P()(this,"modal",new ts(this)),P()(this,"recorder",new es(this)),P()(this,"controller",null),(0,A.ky)(this)}return T()(t,[{key:"dispose",value:function(){this.game.dispose()}}]),t}(),ns=r(4403),ss=r.n(ns),as=r(4923);var os=(0,as.Pi)((function(t){var e=E().game;return(0,R.useEffect)((function(){e.start()}),[e]),R.createElement("div",{className:ss()("_29p0fzQbWnS5kYeP40IRhK",t.className),ref:e.setContainer})}));function ls(){return(ls=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function us(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}const cs=!("undefined"==typeof window||!window.document||!window.document.createElement);var hs=!1,fs=!1;try{var ds={get passive(){return hs=!0},get once(){return fs=hs=!0}};cs&&(window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,!0))}catch(t){}const ps=function(t,e,r,i){if(i&&"boolean"!=typeof i&&!fs){var n=i.once,s=i.capture,a=r;!fs&&n&&(a=r.__once||function t(i){this.removeEventListener(e,t,s),r.call(this,i)},r.__once=a),t.addEventListener(e,a,hs?i:s)}t.addEventListener(e,r,i)};function ys(t){return t&&t.ownerDocument||document}const vs=function(t,e,r,i){var n=i&&"boolean"!=typeof i?i.capture:i;t.removeEventListener(e,r,n),r.__once&&t.removeEventListener(e,r.__once,n)};var ms;function gs(t){if((!ms&&0!==ms||t)&&cs){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ms=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ms}function bs(t){var e=function(t){var e=(0,R.useRef)(t);return(0,R.useEffect)((function(){e.current=t}),[t]),e}(t);return(0,R.useCallback)((function(){return e.current&&e.current.apply(e,arguments)}),[e])}function _s(t){var e,r,i=(e=t,(r=(0,R.useRef)(e)).current=e,r);(0,R.useEffect)((function(){return function(){return i.current()}}),[])}var xs=/([A-Z])/g,Rs=/^ms-/;function ks(t){return function(t){return t.replace(xs,"-$1").toLowerCase()}(t).replace(Rs,"-ms-")}var ws=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Es=function(t,e){var r="",i="";if("string"==typeof e)return t.style.getPropertyValue(ks(e))||function(t,e){return function(t){var e=ys(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(ks(e));Object.keys(e).forEach((function(n){var s=e[n];s||0===s?function(t){return!(!t||!ws.test(t))}(n)?i+=n+"("+s+") ":r+=ks(n)+": "+s+";":t.style.removeProperty(ks(n))})),i&&(r+="transform: "+i+";"),t.style.cssText+=";"+r},Ss=function(t,e,r,i){return ps(t,e,r,i),function(){vs(t,e,r,i)}};function Cs(t,e,r,i){var n,s;null==r&&(s=-1===(n=Es(t,"transitionDuration")||"").indexOf("ms")?1e3:1,r=parseFloat(n)*s||0);var a=function(t,e,r){void 0===r&&(r=5);var i=!1,n=setTimeout((function(){i||function(t){var e=document.createEvent("HTMLEvents");e.initEvent("transitionend",!0,!0),t.dispatchEvent(e)}(t)}),e+r),s=Ss(t,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(n),s()}}(t,r,i),o=Ss(t,"transitionend",e);return function(){a(),o()}}function Ls(t){void 0===t&&(t=ys());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Ts(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var Ms=r(2652),Ps=r.n(Ms),As=r(3961);function Ds(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Os(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ns(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=Os(t.className,e):t.setAttribute("class",Os(t.className&&t.className.baseVal||"",e))}function Bs(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function Fs(t){var e;return Bs(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=Bs(t)?ys():ys(t),r=Bs(t)||e.defaultView;return e.body.clientWidth<r.innerWidth}(t):t.scrollHeight>t.clientHeight}var Is=["template","script","style"],js=function(t,e,r){[].forEach.call(t.children,(function(t){var i,n,s;-1===e.indexOf(t)&&(n=(i=t).nodeType,s=i.tagName,1===n&&-1===Is.indexOf(s.toLowerCase()))&&r(t)}))};function Us(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}const Vs=function(){function t(t){var e=void 0===t?{}:t,r=e.hideSiblingNodes,i=void 0===r||r,n=e.handleContainerOverflow,s=void 0===n||n;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=i,this.handleContainerOverflow=s,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=gs()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return e=this.data,r=function(e){return-1!==e.modals.indexOf(t)},i=-1,e.some((function(t,e){return!!r(t)&&(i=e,!0)})),i;var e,r,i},e.setContainerStyle=function(t,e){var r={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(r.paddingRight=parseInt(Es(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Es(e,r)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,r){var i=this.modals.indexOf(t),n=this.containers.indexOf(e);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var r=e.dialog,i=e.backdrop;js(t,[r,i],(function(t){return Us(!0,t)}))}(e,t),-1!==n)return this.data[n].modals.push(t),i;var s={modals:[t],classes:r?r.split(/\s+/):[],overflowing:Fs(e)};return this.handleContainerOverflow&&this.setContainerStyle(s,e),s.classes.forEach(Ds.bind(null,e)),this.containers.push(e),this.data.push(s),i},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var r=this.containerIndexFromModal(t),i=this.data[r],n=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(e,1),0===i.modals.length)i.classes.forEach(Ns.bind(null,n)),this.handleContainerOverflow&&this.removeContainerStyle(i,n),this.hideSiblingNodes&&function(t,e){var r=e.dialog,i=e.backdrop;js(t,[r,i],(function(t){return Us(!1,t)}))}(n,t),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var s=i.modals[i.modals.length-1],a=s.backdrop;Us(!1,s.dialog),Us(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();var Gs,Hs=function(t){var e;return"undefined"==typeof document?null:null==t?ys().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),(null==(e=t)?void 0:e.nodeType)&&t||null)};var Ks=(0,R.forwardRef)((function(t,e){var r=t.show,i=void 0!==r&&r,n=t.role,s=void 0===n?"dialog":n,a=t.className,o=t.style,l=t.children,u=t.backdrop,c=void 0===u||u,h=t.keyboard,f=void 0===h||h,d=t.onBackdropClick,p=t.onEscapeKeyDown,y=t.transition,v=t.backdropTransition,m=t.autoFocus,g=void 0===m||m,b=t.enforceFocus,_=void 0===b||b,x=t.restoreFocus,k=void 0===x||x,w=t.restoreFocusOptions,E=t.renderDialog,S=t.renderBackdrop,C=void 0===S?function(t){return R.createElement("div",t)}:S,L=t.manager,T=t.container,M=t.containerClassName,P=t.onShow,A=t.onHide,D=void 0===A?function(){}:A,O=t.onExit,N=t.onExited,B=t.onExiting,F=t.onEnter,I=t.onEntering,j=t.onEntered,U=us(t,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),V=function(t,e){var r=(0,R.useState)((function(){return Hs(t)})),i=r[0],n=r[1];if(!i){var s=Hs(t);s&&n(s)}return(0,R.useEffect)((function(){}),[e,i]),(0,R.useEffect)((function(){var e=Hs(t);e!==i&&n(e)}),[t,i]),i}(T),G=function(t){var e=t||(Gs||(Gs=new Vs),Gs),r=(0,R.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(t,i){return e.add(r.current,t,i)},remove:function(){return e.remove(r.current)},isTopModal:function(){return e.isTopModal(r.current)},setDialogRef:(0,R.useCallback)((function(t){r.current.dialog=t}),[]),setBackdropRef:(0,R.useCallback)((function(t){r.current.backdrop=t}),[])})}(L),H=function(){var t=(0,R.useRef)(!0),e=(0,R.useRef)((function(){return t.current}));return(0,R.useEffect)((function(){return function(){t.current=!1}}),[]),e.current}(),K=function(t){var e=(0,R.useRef)(null);return(0,R.useEffect)((function(){e.current=t})),e.current}(i),z=(0,R.useState)(!i),X=z[0],q=z[1],Y=(0,R.useRef)(null);(0,R.useImperativeHandle)(e,(function(){return G}),[G]),cs&&!K&&i&&(Y.current=Ls()),y||i||X?i&&X&&q(!1):q(!0);var W=bs((function(){if(G.add(V,M),et.current=Ss(document,"keydown",$),tt.current=Ss(document,"focus",(function(){return setTimeout(Z)}),!0),P&&P(),g){var t=Ls(document);G.dialog&&t&&!Ts(G.dialog,t)&&(Y.current=t,G.dialog.focus())}})),J=bs((function(){var t;G.remove(),null==et.current||et.current(),null==tt.current||tt.current(),k&&(null==(t=Y.current)||null==t.focus||t.focus(w),Y.current=null)}));(0,R.useEffect)((function(){i&&V&&W()}),[i,V,W]),(0,R.useEffect)((function(){X&&J()}),[X,J]),_s((function(){J()}));var Z=bs((function(){if(_&&H()&&G.isTopModal()){var t=Ls();G.dialog&&t&&!Ts(G.dialog,t)&&G.dialog.focus()}})),Q=bs((function(t){t.target===t.currentTarget&&(null==d||d(t),!0===c&&D())})),$=bs((function(t){f&&27===t.keyCode&&G.isTopModal()&&(null==p||p(t),t.defaultPrevented||D())})),tt=(0,R.useRef)(),et=(0,R.useRef)(),rt=y;if(!V||!(i||rt&&!X))return null;var it=ls({role:s,ref:G.setDialogRef,"aria-modal":"dialog"===s||void 0},U,{style:o,className:a,tabIndex:-1}),nt=E?E(it):R.createElement("div",it,R.cloneElement(l,{role:"document"}));rt&&(nt=R.createElement(rt,{appear:!0,unmountOnExit:!0,in:!!i,onExit:O,onExiting:B,onExited:function(){q(!0);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];null==N||N.apply(void 0,e)},onEnter:F,onEntering:I,onEntered:j},nt));var st=null;if(c){var at=v;st=C({ref:G.setBackdropRef,onClick:Q}),at&&(st=R.createElement(at,{appear:!0,in:!!i},st))}return R.createElement(R.Fragment,null,As.createPortal(R.createElement(R.Fragment,null,st,nt),V))})),zs={show:Ps().bool,container:Ps().any,onShow:Ps().func,onHide:Ps().func,backdrop:Ps().oneOfType([Ps().bool,Ps().oneOf(["static"])]),renderDialog:Ps().func,renderBackdrop:Ps().func,onEscapeKeyDown:Ps().func,onBackdropClick:Ps().func,containerClassName:Ps().string,keyboard:Ps().bool,transition:Ps().elementType,backdropTransition:Ps().elementType,autoFocus:Ps().bool,enforceFocus:Ps().bool,restoreFocus:Ps().bool,restoreFocusOptions:Ps().shape({preventScroll:Ps().bool}),onEnter:Ps().func,onEntering:Ps().func,onEntered:Ps().func,onExit:Ps().func,onExiting:Ps().func,onExited:Ps().func,manager:Ps().instanceOf(Vs)};Ks.displayName="Modal",Ks.propTypes=zs;const Xs=Object.assign(Ks,{Manager:Vs});function qs(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}r(626);var Ys=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ws(t,e){return Ys(t.querySelectorAll(e))}var Js=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zs=".sticky-top",Qs=".navbar-toggler",$s=function(t){function e(){return t.apply(this,arguments)||this}qs(e,t);var r=e.prototype;return r.adjustAndStore=function(t,e,r){var i,n=e.style[t];e.dataset[t]=n,Es(e,((i={})[t]=parseFloat(Es(e,t))+r+"px",i))},r.restore=function(t,e){var r,i=e.dataset[t];void 0!==i&&(delete e.dataset[t],Es(e,((r={})[t]=i,r)))},r.setContainerStyle=function(e,r){var i=this;if(t.prototype.setContainerStyle.call(this,e,r),e.overflowing){var n=gs();Ws(r,Js).forEach((function(t){return i.adjustAndStore("paddingRight",t,n)})),Ws(r,Zs).forEach((function(t){return i.adjustAndStore("marginRight",t,-n)})),Ws(r,Qs).forEach((function(t){return i.adjustAndStore("marginRight",t,n)}))}},r.removeContainerStyle=function(e,r){var i=this;t.prototype.removeContainerStyle.call(this,e,r),Ws(r,Js).forEach((function(t){return i.restore("paddingRight",t)})),Ws(r,Zs).forEach((function(t){return i.restore("marginRight",t)})),Ws(r,Qs).forEach((function(t){return i.restore("marginRight",t)}))},e}(Vs);const ta=R.createContext(null);var ea="unmounted",ra="exited",ia="entering",na="entered",sa="exiting",aa=function(t){function e(e,r){var i;i=t.call(this,e,r)||this;var n,s=r&&!r.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?s?(n=ra,i.appearStatus=ia):n=na:n=e.unmountOnExit||e.mountOnEnter?ea:ra,i.state={status:n},i.nextCallback=null,i}qs(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===ea?{status:ra}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==ia&&r!==na&&(e=ia):r!==ia&&r!==na||(e=sa)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,r,i=this.props.timeout;return t=e=r=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,r=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:r}},r.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===ia?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===ra&&this.setState({status:ea})},r.performEnter=function(t){var e=this,r=this.props.enter,i=this.context?this.context.isMounting:t,n=this.props.nodeRef?[i]:[As.findDOMNode(this),i],s=n[0],a=n[1],o=this.getTimeouts(),l=i?o.appear:o.enter;t||r?(this.props.onEnter(s,a),this.safeSetState({status:ia},(function(){e.props.onEntering(s,a),e.onTransitionEnd(l,(function(){e.safeSetState({status:na},(function(){e.props.onEntered(s,a)}))}))}))):this.safeSetState({status:na},(function(){e.props.onEntered(s)}))},r.performExit=function(){var t=this,e=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:As.findDOMNode(this);e?(this.props.onExit(i),this.safeSetState({status:sa},(function(){t.props.onExiting(i),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:ra},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:ra},(function(){t.props.onExited(i)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var r=this.props.nodeRef?this.props.nodeRef.current:As.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],s=n[0],a=n[1];this.props.addEndListener(s,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===ea)return null;var e=this.props,r=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,us(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return R.createElement(ta.Provider,{value:null},"function"==typeof r?r(t,i):R.cloneElement(R.Children.only(r),i))},e}(R.Component);function oa(){}aa.contextType=ta,aa.propTypes={},aa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oa,onEntering:oa,onEntered:oa,onExit:oa,onExiting:oa,onExited:oa},aa.UNMOUNTED=ea,aa.EXITED=ra,aa.ENTERING=ia,aa.ENTERED=na,aa.EXITING=sa;const la=aa;var ua,ca=((ua={}).entering="show",ua.entered="show",ua),ha=R.forwardRef((function(t,e){var r=t.className,i=t.children,n=us(t,["className","children"]),s=(0,R.useCallback)((function(t){!function(t){t.offsetHeight}(t),n.onEnter&&n.onEnter(t)}),[n]);return R.createElement(la,ls({ref:e,addEndListener:Cs},n,{onEnter:s}),(function(t,e){return R.cloneElement(i,ls({},e,{className:ss()("fade",r,i.props.className,ca[t])}))}))}));ha.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ha.displayName="Fade";const fa=ha;var da=/-(.)/g,pa=R.createContext({});function ya(t,e){var r=(0,R.useContext)(pa);return t||r[e]||e}pa.Consumer,pa.Provider;function va(t,e){var r,i,n=void 0===e?{}:e,s=n.displayName,a=void 0===s?(r=t)[0].toUpperCase()+(i=r,i.replace(da,(function(t,e){return e.toUpperCase()}))).slice(1):s,o=n.Component,l=n.defaultProps,u=R.forwardRef((function(e,r){var i=e.className,n=e.bsPrefix,s=e.as,a=void 0===s?o||"div":s,l=us(e,["className","bsPrefix","as"]),u=ya(n,t);return R.createElement(a,ls({ref:r,className:ss()(i,u)},l))}));return u.defaultProps=l,u.displayName=a,u}const ma=va("modal-body"),ga=R.createContext({onHide:function(){}});var ba=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.className,n=t.contentClassName,s=t.centered,a=t.size,o=t.children,l=t.scrollable,u=us(t,["bsPrefix","className","contentClassName","centered","size","children","scrollable"]),c=(r=ya(r,"modal"))+"-dialog";return R.createElement("div",ls({},u,{ref:e,className:ss()(c,i,a&&r+"-"+a,s&&c+"-centered",l&&c+"-scrollable")}),R.createElement("div",{className:ss()(r+"-content",n)},o))}));ba.displayName="ModalDialog";const _a=ba,xa=va("modal-footer");var Ra={label:Ps().string.isRequired,onClick:Ps().func},ka=R.forwardRef((function(t,e){var r=t.label,i=t.onClick,n=t.className,s=us(t,["label","onClick","className"]);return R.createElement("button",ls({ref:e,type:"button",className:ss()("close",n),onClick:i},s),R.createElement("span",{"aria-hidden":"true"},"×"),R.createElement("span",{className:"sr-only"},r))}));ka.displayName="CloseButton",ka.propTypes=Ra,ka.defaultProps={label:"Close"};const wa=ka;var Ea=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.closeLabel,n=t.closeButton,s=t.onHide,a=t.className,o=t.children,l=us(t,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);r=ya(r,"modal-header");var u=(0,R.useContext)(ga),c=bs((function(){u&&u.onHide(),s&&s()}));return R.createElement("div",ls({ref:e},l,{className:ss()(a,r)}),o,n&&R.createElement(wa,{label:i,onClick:c}))}));Ea.displayName="ModalHeader",Ea.defaultProps={closeLabel:"Close",closeButton:!1};const Sa=Ea;const Ca=va("modal-title",{Component:("h4",R.forwardRef((function(t,e){return R.createElement("div",ls({},t,{ref:e,className:ss()(t.className,"h4")}))})))});var La,Ta={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:_a};function Ma(t){return R.createElement(fa,t)}function Pa(t){return R.createElement(fa,t)}var Aa=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.className,n=t.style,s=t.dialogClassName,a=t.contentClassName,o=t.children,l=t.dialogAs,u=t["aria-labelledby"],c=t.show,h=t.animation,f=t.backdrop,d=t.keyboard,p=t.onEscapeKeyDown,y=t.onShow,v=t.onHide,m=t.container,g=t.autoFocus,b=t.enforceFocus,_=t.restoreFocus,x=t.restoreFocusOptions,k=t.onEntered,w=t.onExit,E=t.onExiting,S=t.onEnter,C=t.onEntering,L=t.onExited,T=t.backdropClassName,M=t.manager,P=us(t,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),A=(0,R.useState)({}),D=A[0],O=A[1],N=(0,R.useState)(!1),B=N[0],F=N[1],I=(0,R.useRef)(!1),j=(0,R.useRef)(!1),U=(0,R.useRef)(null),V=(0,R.useState)(null),G=V[0],H=V[1],K=bs(v);r=ya(r,"modal"),(0,R.useImperativeHandle)(e,(function(){return{get _modal(){return G}}}),[G]);var z=(0,R.useMemo)((function(){return{onHide:K}}),[K]);function X(){return M||(La||(La=new $s),La)}function q(t){if(cs){var e=X().isContainerOverflowing(G),r=t.scrollHeight>ys(t).documentElement.clientHeight;O({paddingRight:e&&!r?gs():void 0,paddingLeft:!e&&r?gs():void 0})}}var Y=bs((function(){G&&q(G.dialog)}));_s((function(){vs(window,"resize",Y),U.current&&U.current()}));var W=function(){I.current=!0},J=function(t){I.current&&G&&t.target===G.dialog&&(j.current=!0),I.current=!1},Z=function(){F(!0),U.current=Cs(G.dialog,(function(){F(!1)}))},Q=function(t){"static"!==f?j.current||t.target!==t.currentTarget?j.current=!1:v():function(t){t.target===t.currentTarget&&Z()}(t)},$=(0,R.useCallback)((function(t){return R.createElement("div",ls({},t,{className:ss()(r+"-backdrop",T,!h&&"show")}))}),[h,T,r]),tt=ls({},n,{},D);return h||(tt.display="block"),R.createElement(ga.Provider,{value:z},R.createElement(Xs,{show:c,ref:H,backdrop:f,container:m,keyboard:!0,autoFocus:g,enforceFocus:b,restoreFocus:_,restoreFocusOptions:x,onEscapeKeyDown:function(t){d||"static"!==f?d&&p&&p(t):(t.preventDefault(),Z())},onShow:y,onHide:v,onEnter:function(t){t&&(t.style.display="block",q(t));for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];S&&S.apply(void 0,[t].concat(r))},onEntering:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];C&&C.apply(void 0,[t].concat(r)),ps(window,"resize",Y)},onEntered:k,onExit:function(t){U.current&&U.current();for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];w&&w.apply(void 0,[t].concat(r))},onExiting:E,onExited:function(t){t&&(t.style.display="");for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];L&&L.apply(void 0,r),vs(window,"resize",Y)},manager:X(),containerClassName:r+"-open",transition:h?Ma:void 0,backdropTransition:h?Pa:void 0,renderBackdrop:$,renderDialog:function(t){return R.createElement("div",ls({role:"dialog"},t,{style:tt,className:ss()(i,r,B&&r+"-static"),onClick:f?Q:void 0,onMouseUp:J,"aria-labelledby":u}),R.createElement(l,ls({},P,{role:"document",onMouseDown:W,className:s,contentClassName:a}),o))}}))}));Aa.displayName="Modal",Aa.defaultProps=Ta,Aa.Body=ma,Aa.Header=Sa,Aa.Title=Ca,Aa.Footer=xa,Aa.Dialog=_a,Aa.TRANSITION_DURATION=300,Aa.BACKDROP_TRANSITION_DURATION=150;const Da=Aa;r(4309);var Oa={type:Ps().string,tooltip:Ps().bool,as:Ps().elementType},Na=R.forwardRef((function(t,e){var r=t.as,i=void 0===r?"div":r,n=t.className,s=t.type,a=void 0===s?"valid":s,o=t.tooltip,l=void 0!==o&&o,u=us(t,["as","className","type","tooltip"]);return R.createElement(i,ls({},u,{ref:e,className:ss()(n,a+"-"+(l?"tooltip":"feedback"))}))}));Na.displayName="Feedback",Na.propTypes=Oa;const Ba=Na,Fa=R.createContext({controlId:void 0});var Ia=R.forwardRef((function(t,e){var r=t.id,i=t.bsPrefix,n=t.bsCustomPrefix,s=t.className,a=t.type,o=void 0===a?"checkbox":a,l=t.isValid,u=void 0!==l&&l,c=t.isInvalid,h=void 0!==c&&c,f=t.isStatic,d=t.as,p=void 0===d?"input":d,y=us(t,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),v=(0,R.useContext)(Fa),m=v.controlId,g=v.custom?[n,"custom-control-input"]:[i,"form-check-input"];return i=ya(g[0],g[1]),R.createElement(p,ls({},y,{ref:e,type:o,id:r||m,className:ss()(s,i,u&&"is-valid",h&&"is-invalid",f&&"position-static")}))}));Ia.displayName="FormCheckInput";const ja=Ia;var Ua=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.bsCustomPrefix,n=t.className,s=t.htmlFor,a=us(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=(0,R.useContext)(Fa),l=o.controlId,u=o.custom?[i,"custom-control-label"]:[r,"form-check-label"];return r=ya(u[0],u[1]),R.createElement("label",ls({},a,{ref:e,htmlFor:s||l,className:ss()(n,r)}))}));Ua.displayName="FormCheckLabel";const Va=Ua;var Ga=R.forwardRef((function(t,e){var r=t.id,i=t.bsPrefix,n=t.bsCustomPrefix,s=t.inline,a=void 0!==s&&s,o=t.disabled,l=void 0!==o&&o,u=t.isValid,c=void 0!==u&&u,h=t.isInvalid,f=void 0!==h&&h,d=t.feedbackTooltip,p=void 0!==d&&d,y=t.feedback,v=t.className,m=t.style,g=t.title,b=void 0===g?"":g,_=t.type,x=void 0===_?"checkbox":_,k=t.label,w=t.children,E=t.custom,S=t.as,C=void 0===S?"input":S,L=us(t,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),T="switch"===x||E,M=T?[n,"custom-control"]:[i,"form-check"];i=ya(M[0],M[1]);var P=(0,R.useContext)(Fa).controlId,A=(0,R.useMemo)((function(){return{controlId:r||P,custom:T}}),[P,T,r]),D=T||null!=k&&!1!==k&&!w,O=R.createElement(ja,ls({},L,{type:"switch"===x?"checkbox":x,ref:e,isValid:c,isInvalid:f,isStatic:!D,disabled:l,as:C}));return R.createElement(Fa.Provider,{value:A},R.createElement("div",{style:m,className:ss()(v,i,T&&"custom-"+x,a&&i+"-inline")},w||R.createElement(R.Fragment,null,O,D&&R.createElement(Va,{title:b},k),(c||f)&&R.createElement(Ba,{type:c?"valid":"invalid",tooltip:p},y))))}));Ga.displayName="FormCheck",Ga.Input=ja,Ga.Label=Va;const Ha=Ga;var Ka=R.forwardRef((function(t,e){var r=t.id,i=t.bsPrefix,n=t.bsCustomPrefix,s=t.className,a=t.isValid,o=t.isInvalid,l=t.lang,u=t.as,c=void 0===u?"input":u,h=us(t,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),f=(0,R.useContext)(Fa),d=f.controlId,p=f.custom?[n,"custom-file-input"]:[i,"form-control-file"];return i=ya(p[0],p[1]),R.createElement(c,ls({},h,{ref:e,id:r||d,type:"file",lang:l,className:ss()(s,i,a&&"is-valid",o&&"is-invalid")}))}));Ka.displayName="FormFileInput";const za=Ka;var Xa=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.bsCustomPrefix,n=t.className,s=t.htmlFor,a=us(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=(0,R.useContext)(Fa),l=o.controlId,u=o.custom?[i,"custom-file-label"]:[r,"form-file-label"];return r=ya(u[0],u[1]),R.createElement("label",ls({},a,{ref:e,htmlFor:s||l,className:ss()(n,r),"data-browse":a["data-browse"]}))}));Xa.displayName="FormFileLabel";const qa=Xa;var Ya=R.forwardRef((function(t,e){var r=t.id,i=t.bsPrefix,n=t.bsCustomPrefix,s=t.disabled,a=void 0!==s&&s,o=t.isValid,l=void 0!==o&&o,u=t.isInvalid,c=void 0!==u&&u,h=t.feedbackTooltip,f=void 0!==h&&h,d=t.feedback,p=t.className,y=t.style,v=t.label,m=t.children,g=t.custom,b=t.lang,_=t["data-browse"],x=t.as,k=void 0===x?"div":x,w=t.inputAs,E=void 0===w?"input":w,S=us(t,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),C=g?[n,"custom"]:[i,"form-file"];i=ya(C[0],C[1]);var L=(0,R.useContext)(Fa).controlId,T=(0,R.useMemo)((function(){return{controlId:r||L,custom:g}}),[L,g,r]),M=null!=v&&!1!==v&&!m,P=R.createElement(za,ls({},S,{ref:e,isValid:l,isInvalid:c,disabled:a,as:E,lang:b}));return R.createElement(Fa.Provider,{value:T},R.createElement(k,{style:y,className:ss()(p,i,g&&"custom-file")},m||R.createElement(R.Fragment,null,g?R.createElement(R.Fragment,null,P,M&&R.createElement(qa,{"data-browse":_},v)):R.createElement(R.Fragment,null,M&&R.createElement(qa,null,v),P),(l||c)&&R.createElement(Ba,{type:l?"valid":"invalid",tooltip:f},d))))}));Ya.displayName="FormFile",Ya.Input=za,Ya.Label=qa;const Wa=Ya;var Ja=R.forwardRef((function(t,e){var r,i,n=t.bsPrefix,s=t.bsCustomPrefix,a=t.type,o=t.size,l=t.htmlSize,u=t.id,c=t.className,h=t.isValid,f=void 0!==h&&h,d=t.isInvalid,p=void 0!==d&&d,y=t.plaintext,v=t.readOnly,m=t.custom,g=t.as,b=void 0===g?"input":g,_=us(t,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),x=(0,R.useContext)(Fa).controlId,k=m?[s,"custom"]:[n,"form-control"];if(n=ya(k[0],k[1]),y)(i={})[n+"-plaintext"]=!0,r=i;else if("file"===a){var w;(w={})[n+"-file"]=!0,r=w}else if("range"===a){var E;(E={})[n+"-range"]=!0,r=E}else if("select"===b&&m){var S;(S={})[n+"-select"]=!0,S[n+"-select-"+o]=o,r=S}else{var C;(C={})[n]=!0,C[n+"-"+o]=o,r=C}return R.createElement(b,ls({},_,{type:a,size:l,ref:e,readOnly:v,id:u||x,className:ss()(c,r,f&&"is-valid",p&&"is-invalid")}))}));Ja.displayName="FormControl";const Za=Object.assign(Ja,{Feedback:Ba});var Qa=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.className,n=t.children,s=t.controlId,a=t.as,o=void 0===a?"div":a,l=us(t,["bsPrefix","className","children","controlId","as"]);r=ya(r,"form-group");var u=(0,R.useMemo)((function(){return{controlId:s}}),[s]);return R.createElement(Fa.Provider,{value:u},R.createElement(o,ls({},l,{ref:e,className:ss()(i,r)}),n))}));Qa.displayName="FormGroup";const $a=Qa;var to=["xl","lg","md","sm","xs"],eo=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.className,n=t.as,s=void 0===n?"div":n,a=us(t,["bsPrefix","className","as"]),o=ya(r,"col"),l=[],u=[];return to.forEach((function(t){var e,r,i,n=a[t];if(delete a[t],"object"==typeof n&&null!=n){var s=n.span;e=void 0===s||s,r=n.offset,i=n.order}else e=n;var c="xs"!==t?"-"+t:"";e&&l.push(!0===e?""+o+c:""+o+c+"-"+e),null!=i&&u.push("order"+c+"-"+i),null!=r&&u.push("offset"+c+"-"+r)})),l.length||l.push(o),R.createElement(s,ls({},a,{ref:e,className:ss().apply(void 0,[i].concat(l,u))}))}));eo.displayName="Col";const ro=eo;var io=R.forwardRef((function(t,e){var r=t.as,i=void 0===r?"label":r,n=t.bsPrefix,s=t.column,a=t.srOnly,o=t.className,l=t.htmlFor,u=us(t,["as","bsPrefix","column","srOnly","className","htmlFor"]),c=(0,R.useContext)(Fa).controlId;n=ya(n,"form-label");var h="col-form-label";"string"==typeof s&&(h=h+" "+h+"-"+s);var f=ss()(o,n,a&&"sr-only",s&&h);return l=l||c,s?R.createElement(ro,ls({as:"label",className:f,htmlFor:l},u)):R.createElement(i,ls({ref:e,className:f,htmlFor:l},u))}));io.displayName="FormLabel",io.defaultProps={column:!1,srOnly:!1};const no=io;var so=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.className,n=t.as,s=void 0===n?"small":n,a=t.muted,o=us(t,["bsPrefix","className","as","muted"]);return r=ya(r,"form-text"),R.createElement(s,ls({},o,{ref:e,className:ss()(i,r,a&&"text-muted")}))}));so.displayName="FormText";const ao=so;var oo=R.forwardRef((function(t,e){return R.createElement(Ha,ls({},t,{ref:e,type:"switch"}))}));oo.displayName="Switch",oo.Input=Ha.Input,oo.Label=Ha.Label;const lo=oo;var uo=va("form-row"),co=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.inline,n=t.className,s=t.validated,a=t.as,o=void 0===a?"form":a,l=us(t,["bsPrefix","inline","className","validated","as"]);return r=ya(r,"form"),R.createElement(o,ls({},l,{ref:e,className:ss()(n,s&&"was-validated",i&&r+"-inline")}))}));co.displayName="Form",co.defaultProps={inline:!1},co.Row=uo,co.Group=$a,co.Control=Za,co.Check=Ha,co.File=Wa,co.Switch=lo,co.Label=no,co.Text=ao;const ho=co,fo=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i),e.apply(this,i)}}),null)};function po(t){return!t||"#"===t.trim()}var yo=R.forwardRef((function(t,e){var r=t.as,i=void 0===r?"a":r,n=t.disabled,s=t.onKeyDown,a=us(t,["as","disabled","onKeyDown"]),o=function(t){var e=a.href,r=a.onClick;(n||po(e))&&t.preventDefault(),n?t.stopPropagation():r&&r(t)};return po(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),n&&(a.tabIndex=-1,a["aria-disabled"]=!0),R.createElement(i,ls({ref:e},a,{onClick:o,onKeyDown:fo((function(t){" "===t.key&&(t.preventDefault(),o(t))}),s)}))}));yo.displayName="SafeAnchor";const vo=yo;var mo=R.forwardRef((function(t,e){var r=t.bsPrefix,i=t.variant,n=t.size,s=t.active,a=t.className,o=t.block,l=t.type,u=t.as,c=us(t,["bsPrefix","variant","size","active","className","block","type","as"]),h=ya(r,"btn"),f=ss()(a,h,s&&"active",i&&h+"-"+i,o&&h+"-block",n&&h+"-"+n);if(c.href)return R.createElement(vo,ls({},c,{as:u,ref:e,className:ss()(f,c.disabled&&"disabled")}));e&&(c.ref=e),l?c.type=l:u||(c.type="button");var d=u||"button";return R.createElement(d,ls({},c,{className:f}))}));mo.displayName="Button",mo.defaultProps={variant:"primary",active:!1,disabled:!1};const go=mo;var bo=t=>t instanceof HTMLElement;const _o="blur",xo="change",Ro="input",ko="onChange",wo="onSubmit",Eo="undefined",So="pattern",Co="required";var Lo=t=>null==t;const To=t=>"object"==typeof t;var Mo=t=>!Lo(t)&&!Array.isArray(t)&&To(t)&&!(t instanceof Date),Po=t=>!Array.isArray(t)&&(/^\w*$/.test(t)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(t)),Ao=t=>t.filter(Boolean),Do=t=>Ao(t.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function Oo(t,e,r){let i=-1;const n=Po(e)?[e]:Do(e),s=n.length,a=s-1;for(;++i<s;){const e=n[i];let s=r;if(i!==a){const r=t[e];s=Mo(r)||Array.isArray(r)?r:isNaN(+n[i+1])?{}:[]}t[e]=s,t=t[e]}return t}var No=(t,e={})=>{for(const r in t)Po(r)?e[r]=t[r]:Oo(e,r,t[r]);return e},Bo=t=>void 0===t,Fo=(t,e,r)=>{const i=Ao(e.split(/[,[\].]+?/)).reduce(((t,e)=>Lo(t)?t:t[e]),t);return Bo(i)||i===t?Bo(t[e])?r:t[e]:i},Io=(t,e)=>{bo(t)&&t.removeEventListener&&(t.removeEventListener(Ro,e),t.removeEventListener(xo,e),t.removeEventListener(_o,e))};const jo={isValid:!1,value:""};var Uo=t=>Array.isArray(t)?t.reduce(((t,e)=>e&&e.ref.checked?{isValid:!0,value:e.ref.value}:t),jo):jo,Vo=t=>"radio"===t.type,Go=t=>"file"===t.type,Ho=t=>"checkbox"===t.type,Ko=t=>"select-multiple"===t.type;const zo={value:!1,isValid:!1},Xo={value:!0,isValid:!0};var qo=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter((t=>t&&t.ref.checked)).map((({ref:{value:t}})=>t));return{value:e,isValid:!!e.length}}const{checked:e,value:r,attributes:i}=t[0].ref;return e?i&&!Bo(i.value)?Bo(r)||""===r?Xo:{value:r,isValid:!0}:Xo:zo}return zo};function Yo(t,e,r,i){const n=t.current[e];if(n){const{ref:{value:t,disabled:e},ref:r}=n;if(e&&i)return;return Go(r)?r.files:Vo(r)?Uo(n.options).value:Ko(r)?(t=>[...t].filter((({selected:t})=>t)).map((({value:t})=>t)))(r.options):Ho(r)?qo(n.options).value:t}if(r)return Fo(r.current,e)}function Wo(t){return!t||t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE&&Wo(t.parentNode)}var Jo=t=>Mo(t)&&!Object.keys(t).length,Zo=t=>"boolean"==typeof t;function Qo(t,e){const r=Po(e)?[e]:Do(e),i=1==r.length?t:function(t,e){const r=e.slice(0,-1).length;let i=0;for(;i<r;)t=Bo(t)?i++:t[e[i++]];return t}(t,r),n=r[r.length-1];let s=void 0;i&&delete i[n];for(let e=0;e<r.slice(0,-1).length;e++){let i=-1,n=void 0;const a=r.slice(0,-(e+1)),o=a.length-1;for(e>0&&(s=t);++i<a.length;){const e=a[i];n=n?n[e]:t[e],o===i&&(Mo(n)&&Jo(n)||Array.isArray(n)&&!n.filter((t=>Mo(t)&&!Jo(t)||Zo(t))).length)&&(s?delete s[e]:delete t[e]),s=n}}return t}const $o=(t,e)=>t&&t.ref===e;function tl(t,e,r,i,n){let s=-1;for(;++s<t.length;){for(const i in t[s])Array.isArray(t[s][i])?(!r[s]&&(r[s]={}),r[s][i]=[],tl(t[s][i],Fo(e[s]||{},i,[]),r[s][i],r[s],i)):Fo(e[s]||{},i)===t[s][i]?Oo(r[s]||{},i):r[s]=Object.assign(Object.assign({},r[s]),{[i]:!0});!r.length&&i&&delete i[n]}return r.length?r:void 0}var el=t=>"string"==typeof t,rl=t=>Lo(t)||!To(t);function il(t,e){if(rl(t)||rl(e))return e;for(const r in e){const i=t[r],n=e[r];try{t[r]=Mo(i)&&Mo(n)||Array.isArray(i)&&Array.isArray(n)?il(i,n):n}catch(t){}}return t}var nl=(t,e,r,i)=>{const n={};for(const e in t.current)(Bo(i)||(el(i)?e.startsWith(i):Array.isArray(i)&&i.find((t=>e.startsWith(t)))))&&(n[e]=Yo(t,e,void 0,r));return il(No(Object.assign({},(e||{}).current||{})),No(n))};function sl(t=[],e=[],r){const i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(const n of i)if(!r||!["ref","context"].includes(n)){const i=t[n],s=e[n];if((Mo(i)||Array.isArray(i))&&(Mo(s)||Array.isArray(s))?!sl(i,s,r):i!==s)return!1}return!0}var al=t=>t instanceof RegExp,ol=t=>{return Mo(e=t)&&!al(e)?t:{value:t,message:""};var e},ll=t=>"function"==typeof t,ul=t=>el(t)||Mo(t)&&(0,R.isValidElement)(t);function cl(t,e,r="validate"){if(ul(t)||Zo(t)&&!t)return{type:r,message:ul(t)?t:"",ref:e}}var hl=(t,e,r,i,n)=>{if(e){const e=r[t];return Object.assign(Object.assign({},e),{types:Object.assign(Object.assign({},e&&e.types?e.types:{}),{[i]:n||!0})})}return{}},fl=async(t,e,{ref:r,ref:{type:i,value:n},options:s,required:a,maxLength:o,minLength:l,min:u,max:c,pattern:h,validate:f},d)=>{const p=t.current,y=r.name,v={},m=Vo(r),g=Ho(r),b=m||g,_=""===n,x=hl.bind(null,y,e,v),R=(t,e,i,n="maxLength",s="minLength")=>{const a=t?e:i;v[y]=Object.assign({type:t?n:s,message:a,ref:r},x(t?n:s,a))};if(a&&(!m&&!g&&(_||Lo(n))||Zo(n)&&!n||g&&!qo(s).isValid||m&&!Uo(s).isValid)){const{value:t,message:i}=ul(a)?{value:!!a,message:a}:ol(a);if(t&&(v[y]=Object.assign({type:Co,message:i,ref:b?((p[y].options||[])[0]||{}).ref:r},x(Co,i)),!e))return v}if(!Lo(u)||!Lo(c)){let t,s;const{value:a,message:o}=ol(c),{value:l,message:h}=ol(u);if("number"===i||!i&&!isNaN(n)){const e=r.valueAsNumber||parseFloat(n);Lo(a)||(t=e>a),Lo(l)||(s=e<l)}else{const e=r.valueAsDate||new Date(n);el(a)&&(t=e>new Date(a)),el(l)&&(s=e<new Date(l))}if((t||s)&&(R(!!t,o,h,"max","min"),!e))return v}if(el(n)&&!_&&(o||l)){const{value:t,message:r}=ol(o),{value:i,message:s}=ol(l),a=n.toString().length,u=!Lo(t)&&a>t,c=!Lo(i)&&a<i;if((u||c)&&(R(!!u,r,s),!e))return v}if(h&&!_){const{value:t,message:i}=ol(h);if(al(t)&&!t.test(n)&&(v[y]=Object.assign({type:So,message:i,ref:r},x(So,i)),!e))return v}if(f){const i=Yo(t,y,d),n=b&&s?s[0].ref:r;if(ll(f)){const t=cl(await f(i),n);if(t&&(v[y]=Object.assign(Object.assign({},t),x("validate",t.message)),!e))return v}else if(Mo(f)){let t={};for(const[r,s]of Object.entries(f)){if(!Jo(t)&&!e)break;const a=cl(await s(i),n,r);a&&(t=Object.assign(Object.assign({},a),x(r,a.message)),e&&(v[y]=t))}if(!Jo(t)&&(v[y]=Object.assign({ref:n},t),!e))return v}}return v};const dl=(t,e)=>Object.entries(e).map((([r,i])=>((e,r,i)=>{const n=i?`${t}.${e}`:`${t}[${e}]`;return rl(r)?n:dl(n,r)})(r,i,Mo(e)))).flat(1/0);var pl=(t,e,r,i,n)=>{let s;return r.add(e),Jo(t)?s=void 0:(s=Fo(t,e),(Mo(s)||Array.isArray(s))&&dl(e,s).forEach((t=>r.add(t)))),Bo(s)?n?i:Fo(i,e):s},yl=t=>t.substring(0,t.indexOf("["));var vl=(t,e)=>[...t].some((t=>((t,e)=>RegExp(`^${e}[\\d+]`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(t))(e,t)));function ml(t,e){let r;if(rl(t)||e&&t instanceof File)return t;if(t instanceof Date)return r=new Date(t.getTime()),r;if(t instanceof Set){r=new Set;for(const e of t)r.add(e);return r}if(t instanceof Map){r=new Map;for(const i of t.keys())r.set(i,ml(t.get(i),e));return r}r=Array.isArray(t)?[]:{};for(const i in t)r[i]=ml(t[i],e);return r}var gl=t=>({isOnSubmit:!t||t===wo,isOnBlur:"onBlur"===t,isOnChange:t===ko,isOnAll:"all"===t,isOnTouch:"onTouched"===t}),bl=t=>Vo(t)||Ho(t);const _l=typeof window===Eo,xl=typeof document!==Eo&&!_l&&!Bo(window.HTMLElement),Rl=xl?"Proxy"in window:typeof Proxy!==Eo;function kl({mode:t="onSubmit",reValidateMode:e="onChange",resolver:r,context:i,defaultValues:n={},shouldFocusError:s=!0,shouldUnregister:a=!0,criteriaMode:o}={}){const l=(0,R.useRef)({}),u=(0,R.useRef)({}),c=(0,R.useRef)(new Set),h=(0,R.useRef)({}),f=(0,R.useRef)({}),d=(0,R.useRef)({}),p=(0,R.useRef)({}),y=(0,R.useRef)(n),v=(0,R.useRef)({}),m=(0,R.useRef)(!1),g=(0,R.useRef)(!1),b=(0,R.useRef)(),_=(0,R.useRef)(a?{}:ml(n,xl)),x=(0,R.useRef)({}),k=(0,R.useRef)(i),w=(0,R.useRef)(r),E=(0,R.useRef)(new Set),S=(0,R.useRef)(gl(t)),{isOnSubmit:C,isOnTouch:L}=S.current,T="all"===o,[M,P]=(0,R.useState)({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!C,errors:{}}),A=(0,R.useRef)({isDirty:!Rl,dirtyFields:!Rl,touched:!Rl||L,isSubmitting:!Rl,isValid:!Rl}),D=(0,R.useRef)(M),O=(0,R.useRef)(),{isOnBlur:N,isOnChange:B}=(0,R.useRef)(gl(e)).current;k.current=i,w.current=r,D.current=M;const F=(0,R.useCallback)(((t={})=>!m.current&&P(Object.assign(Object.assign({},D.current),t))),[]),I=(0,R.useCallback)(((t,e,r=!1,i={},n)=>{let s=r||function({errors:t,name:e,error:r,validFields:i,fieldsWithValidation:n}){const s=Bo(r),a=Fo(t,e);return s&&!!a||!s&&!sl(a,r,!0)||s&&Fo(n,e)&&!Fo(i,e)}({errors:D.current.errors,error:e,name:t,validFields:p.current,fieldsWithValidation:d.current});const a=Fo(D.current.errors,t);e?(Qo(p.current,t),s=s||!a||!sl(a,e,!0),Oo(D.current.errors,t,e)):((Fo(d.current,t)||w.current)&&(Oo(p.current,t,!0),s=s||a),Qo(D.current.errors,t)),(s&&!Lo(r)||!Jo(i))&&F(Object.assign(Object.assign(Object.assign({},i),{errors:D.current.errors}),w.current?{isValid:!!n}:{}))}),[]),j=(0,R.useCallback)(((t,e)=>{const{ref:r,options:i}=l.current[t],n=xl&&bo(r)&&Lo(e)?"":e;Vo(r)&&i?i.forEach((({ref:t})=>t.checked=t.value===n)):Go(r)&&!el(n)?r.files=n:Ko(r)?[...r.options].forEach((t=>t.selected=n.includes(t.value))):Ho(r)&&i?i.length>1?i.forEach((({ref:t})=>t.checked=Array.isArray(n)?!!n.find((e=>e===t.value)):n===t.value)):i[0].ref.checked=!!n:r.value=n}),[]),U=()=>!sl(J(),Jo(y.current)?v.current:y.current)||!Jo(D.current.dirtyFields),V=(0,R.useCallback)(((t,e=!0)=>{if(A.current.isDirty||A.current.dirtyFields){const r=Fo(v.current,t)!==Yo(l,t,_),i=Fo(D.current.dirtyFields,t),n=D.current.isDirty;r?Oo(D.current.dirtyFields,t,!0):Qo(D.current.dirtyFields,t);const s={isDirty:U(),dirtyFields:D.current.dirtyFields},a=A.current.isDirty&&n!==s.isDirty||A.current.dirtyFields&&i!==Fo(D.current.dirtyFields,t);return a&&e&&(D.current=Object.assign(Object.assign({},D.current),s),F(Object.assign({},s))),a?s:{}}return{}}),[]),G=(0,R.useCallback)((async(t,e)=>{if(l.current[t]){const r=(await fl(l,T,l.current[t],_))[t];return I(t,r,e),Bo(r)}return!1}),[I,T]),H=(0,R.useCallback)((async t=>{const{errors:e}=await w.current(J(),k.current,T),r=D.current.isValid;if(Array.isArray(t)){const r=t.map((t=>{const r=Fo(e,t);return r?Oo(D.current.errors,t,r):Qo(D.current.errors,t),!r})).every(Boolean);return F({isValid:Jo(e),errors:D.current.errors}),r}{const i=Fo(e,t);return I(t,i,r!==Jo(e),{},Jo(e)),!i}}),[I,T]),K=(0,R.useCallback)((async t=>{const e=t||Object.keys(l.current);if(w.current)return H(e);if(Array.isArray(e)){const t=await Promise.all(e.map((async t=>await G(t,null))));return F(),t.every(Boolean)}return await G(e,A.current.isValid)}),[H,G]),z=(0,R.useCallback)(((t,e,{shouldDirty:r,shouldValidate:i})=>{const n={};Oo(n,t,e);for(const s of dl(t,e))l.current[s]&&(j(s,Fo(n,s)),r&&V(s),i&&K(s))}),[K,j,V]),X=(0,R.useCallback)(((t,e,r={})=>{l.current[t]?(j(t,e),r.shouldDirty&&V(t)):rl(e)||(z(t,e,r),E.current.has(t)&&(u.current[t]=e,x.current[t]({[t]:e}),(A.current.isDirty||A.current.dirtyFields)&&r.shouldDirty&&(Oo(D.current.dirtyFields,t,tl(e,Fo(y.current,t,[]),Fo(D.current.dirtyFields,t,[]))),F({isDirty:!sl(Object.assign(Object.assign({},J()),{[t]:e}),y.current),dirtyFields:D.current.dirtyFields})))),!a&&Oo(_.current,t,e)}),[V,j,z]),q=t=>g.current||c.current.has(t)||c.current.has((t.match(/\w+/)||[])[0]),Y=(t,e=!0)=>{if(!Jo(h.current))for(const r in h.current)t&&h.current[r].size&&!h.current[r].has(t)&&!h.current[r].has(yl(t))||(f.current[r](),e=!1);return e};function W(t){if(!a){let e=ml(t,xl);for(const t of E.current)Po(t)&&!e[t]&&(e=Object.assign(Object.assign({},e),{[t]:[]}));return e}return t}function J(t){if(el(t))return Yo(l,t,_);if(Array.isArray(t)){const e={};for(const r of t)Oo(e,r,Yo(l,r,_));return e}return W(nl(l,_))}b.current=b.current?b.current:async({type:t,target:e})=>{const r=e.name,i=l.current[r];let n,s;if(i){const e=t===_o,a=(({isOnBlur:t,isOnChange:e,isOnTouch:r,isTouched:i,isReValidateOnBlur:n,isReValidateOnChange:s,isBlurEvent:a,isSubmitted:o,isOnAll:l})=>!l&&(!o&&r?!(i||a):(o?n:t)?!a:!(o?s:e)||a))(Object.assign({isBlurEvent:e,isReValidateOnChange:B,isReValidateOnBlur:N,isTouched:!!Fo(D.current.touched,r),isSubmitted:D.current.isSubmitted},S.current));let o=V(r,!1),u=!Jo(o)||q(r);if(e&&!Fo(D.current.touched,r)&&A.current.touched&&(Oo(D.current.touched,r,!0),o=Object.assign(Object.assign({},o),{touched:D.current.touched})),a)return Y(r),(!Jo(o)||u&&Jo(o))&&F(o);if(w.current){const{errors:t}=await w.current(J(),k.current,T),e=D.current.isValid;n=Fo(t,r),s=Jo(t),e!==s&&(u=!0)}else n=(await fl(l,T,i,_))[r];Y(r),I(r,n,u,o,s)}};const Z=(0,R.useCallback)((async(t={})=>{const{errors:e}=await w.current(Object.assign(Object.assign(Object.assign({},y.current),J()),t),k.current,T),r=Jo(e);D.current.isValid!==r&&F({isValid:r})}),[T]),Q=(0,R.useCallback)(((t,e)=>function(t,e,r,i,n,s){const{ref:a,ref:{name:o,type:l}}=r,u=t.current[o];if(!n){const e=Yo(t,o,i);Bo(e)||Oo(i.current,o,e)}if(l)if((Vo(a)||Ho(a))&&u){const{options:r}=u;Array.isArray(r)&&r.length?(Ao(r).forEach(((t,i)=>{const{ref:n}=t;(n&&Wo(n)&&$o(t,n)||s)&&(Io(n,e),Qo(r,`[${i}]`))})),r&&!Ao(r).length&&delete t.current[o]):delete t.current[o]}else(Wo(a)&&$o(u,a)||s)&&(Io(a,e),delete t.current[o]);else delete t.current[o]}(l,b.current,t,_,a,e)),[a]),$=t=>{if(g.current)F();else if(c){let e=!0;for(const r of c.current)if(r.startsWith(t)){F(),e=!1;break}e&&Y(t)}},tt=(0,R.useCallback)(((t,e)=>{t&&(Q(t,e),a&&!Ao(t.options||[]).length&&(Qo(v.current,t.ref.name),Qo(p.current,t.ref.name),Qo(d.current,t.ref.name),Qo(D.current.errors,t.ref.name),Oo(D.current.dirtyFields,t.ref.name,!0),F({errors:D.current.errors,isDirty:U(),dirtyFields:D.current.dirtyFields}),A.current.isValid&&w.current&&Z(),$(t.ref.name)))}),[Z,Q]),et=(0,R.useCallback)(((t,e,r)=>{const i=r?h.current[r]:c.current,n=Bo(e)?y.current:e,s=nl(l,_,!1,t);return el(t)?pl(s,t,i,Bo(e)?Fo(n,t):e,!0):Array.isArray(t)?t.reduce(((t,e)=>Object.assign(Object.assign({},t),{[e]:pl(s,e,i,n)})),{}):(g.current=Bo(r),No(!Jo(s)&&s||n))}),[]);function rt(t,e={}){const{name:r,type:i,value:n}=t,s=Object.assign({ref:t},e),a=l.current,o=bl(t),u=vl(E.current,r),c=e=>xl&&(!bo(t)||e===t);let h,f=a[r],m=!0;if(f&&(o?Array.isArray(f.options)&&Ao(f.options).find((t=>n===t.ref.value&&c(t.ref))):c(f.ref)))return void(a[r]=Object.assign(Object.assign({},f),e));f=i?o?Object.assign({options:[...Ao(f&&f.options||[]),{ref:t}],ref:{type:i,name:r}},e):Object.assign({},s):s,a[r]=f;const g=Bo(Fo(_.current,r));if(Jo(y.current)&&g||(h=Fo(g?y.current:_.current,r),m=Bo(h),m||u||j(r,h)),Jo(e)||(Oo(d.current,r,!0),!C&&A.current.isValid&&fl(l,T,f,_).then((t=>{const e=D.current.isValid;Jo(t)?Oo(p.current,r,!0):Qo(p.current,r),e!==Jo(t)&&F()}))),!(v.current[r]||u&&m)){const t=Yo(l,r,_);Oo(v.current,r,m?Mo(t)?Object.assign({},t):t:h),!u&&Qo(D.current.dirtyFields,r)}i&&function({ref:t},e,r){bo(t)&&r&&(t.addEventListener(e?xo:Ro,r),t.addEventListener(_o,r))}(o&&f.options?f.options[f.options.length-1]:f,o||"select-one"===t.type,b.current)}const it=(0,R.useCallback)(((t,e)=>async r=>{r&&r.preventDefault&&(r.preventDefault(),r.persist());let i={},n=W(nl(l,_,!0));A.current.isSubmitting&&F({isSubmitting:!0});try{if(w.current){const{errors:t,values:e}=await w.current(n,k.current,T);D.current.errors=i=t,n=e}else for(const t of Object.values(l.current))if(t){const{ref:{name:e}}=t,r=await fl(l,T,t,_);r[e]?(Oo(i,e,r[e]),Qo(p.current,e)):Fo(d.current,e)&&(Qo(D.current.errors,e),Oo(p.current,e,!0))}Jo(i)&&Object.keys(D.current.errors).every((t=>t in l.current))?(F({errors:{},isSubmitting:!0}),await t(n,r)):(D.current.errors=Object.assign(Object.assign({},D.current.errors),i),e&&await e(D.current.errors,r),s&&((t,e)=>{for(const r in t)if(Fo(e,r)){const e=t[r];if(e){if(e.ref.focus){e.ref.focus();break}if(e.options){e.options[0].ref.focus();break}}}})(l.current,D.current.errors))}finally{F({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jo(D.current.errors),errors:D.current.errors,submitCount:D.current.submitCount+1})}}),[s,T]);(0,R.useEffect)((()=>(m.current=!1,r&&A.current.isValid&&Z(),O.current=O.current||!xl?O.current:function(t,e){const r=new MutationObserver((()=>{for(const r of Object.values(t.current))if(r&&r.options)for(const t of r.options)t&&t.ref&&Wo(t.ref)&&e(r);else r&&Wo(r.ref)&&e(r)}));return r.observe(window.document,{childList:!0,subtree:!0}),r}(l,tt),()=>{m.current=!0,O.current&&O.current.disconnect(),_.current={},Object.values(l.current).forEach((t=>tt(t,!0)))})),[tt]),!r&&A.current.isValid&&(M.isValid=sl(p.current,d.current)&&Jo(D.current.errors));const nt={trigger:K,setValue:(0,R.useCallback)((function(t,e,r){X(t,e,r),q(t)&&F(),Y(t),(r||{}).shouldValidate&&K(t)}),[X,K]),getValues:(0,R.useCallback)(J,[]),register:(0,R.useCallback)((function(t,e){if(!_l)if(el(t))rt({name:t},e);else{if(!Mo(t)||!("name"in t))return e=>e&&rt(e,t);rt(t,e)}}),[y.current]),unregister:(0,R.useCallback)((function(t){for(const e of Array.isArray(t)?t:[t])tt(l.current[e],!0)}),[])},st=Object.assign({updateWatchedValue:$,shouldUnregister:a,removeFieldEventListener:Q,watchInternal:et,mode:S.current,reValidateMode:{isReValidateOnBlur:N,isReValidateOnChange:B},fieldsRef:l,resetFieldArrayFunctionRef:x,useWatchFieldsRef:h,useWatchRenderFunctionsRef:f,fieldArrayDefaultValuesRef:u,validFieldsRef:p,fieldsWithValidationRef:d,fieldArrayNamesRef:E,readFormStateRef:A,formStateRef:D,defaultValuesRef:y,shallowFieldsStateRef:_,updateFormState:F,validateResolver:r?Z:void 0},nt);return Object.assign({watch:function(t,e){return et(t,e)},control:st,formState:Rl?new Proxy(M,{get:(t,e)=>{if(e in t)return A.current[e]=!0,t[e]}}):M,handleSubmit:it,reset:(0,R.useCallback)(((t,e={})=>{if(xl)for(const t of Object.values(l.current))if(t){const{ref:e,options:r}=t,i=bl(e)&&Array.isArray(r)?r[0].ref:e;if(bo(i))try{i.closest("form").reset();break}catch(t){}}l.current={},y.current=ml(t||y.current,xl),t&&Y(""),Object.values(x.current).forEach((t=>ll(t)&&t())),_.current=a?{}:ml(t,xl)||{},(({errors:t,isDirty:e,isSubmitted:r,touched:i,isValid:n,submitCount:s,dirtyFields:a})=>{n||(p.current={},d.current={}),v.current={},u.current={},c.current=new Set,g.current=!1,F({submitCount:s?D.current.submitCount:0,isDirty:!!e&&D.current.isDirty,isSubmitted:!!r&&D.current.isSubmitted,isValid:!!n&&D.current.isValid,dirtyFields:a?D.current.dirtyFields:{},touched:i?D.current.touched:{},errors:t?D.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(e)}),[]),clearErrors:(0,R.useCallback)((function(t){t&&(Array.isArray(t)?t:[t]).forEach((t=>l.current[t]?Po(t)?delete D.current.errors[t]:Oo(D.current.errors,t,void 0):Qo(D.current.errors,t))),F({errors:t?D.current.errors:{}})}),[]),setError:(0,R.useCallback)((function(t,e){const r=(l.current[t]||{}).ref;Oo(D.current.errors,t,Object.assign(Object.assign({},e),{ref:r})),F({isValid:!1,errors:D.current.errors}),e.shouldFocus&&r&&r.focus&&r.focus()}),[]),errors:M.errors},nt)}(0,R.createContext)(null).displayName="RHFContext";var wl=/^\s*(!custom)?|\s*$|\r|\n/g,El=(0,as.Pi)((function(t){var e,r=t.modalId,i=t.onEnterLevel,n=E().modal,s=kl(),a=s.register,o=s.handleSubmit,l=s.errors,u=s.formState,c=(0,R.useCallback)((function(t){n.dismiss(r),i($t(t.levelCode.replace(wl,"")))}),[n,r,i]),h=(0,R.useCallback)((function(){n.dismiss(r)}),[n,r]),f=(0,R.useCallback)((function(t){try{return $t(t.replace(wl,"")),!0}catch(t){return String(t)}}),[]);return R.createElement(Da.Dialog,{className:ss()("_1bkTRSi10J1XX81P7KqzgE",t.className)},R.createElement(Da.Header,{closeButton:!0,onHide:h},R.createElement(Da.Title,null,"User Level")),R.createElement(Da.Body,null,R.createElement(ho,{id:"levelCode",className:"_3YIFNcvkvOXJlzJS2tDvo4",noValidate:!0,onSubmit:o(c)},R.createElement(ho.Control,{name:"levelCode",className:"_1HX7VDBc6B1gXwN1cPLFSd",size:"sm",as:"textarea",placeholder:"Level Code",spellCheck:!1,isValid:u.isSubmitted&&!l.levelCode,isInvalid:u.isSubmitted&&!!l.levelCode,ref:a({required:!0,validate:f})}))),R.createElement(Da.Footer,null,R.createElement(ho.Control.Feedback,{type:"invalid",className:l.levelCode&&"_1oP3LSlQD6k119DBeG-evy"},null===(e=l.levelCode)||void 0===e?void 0:e.message),R.createElement(go,{variant:"primary",type:"submit",form:"levelCode"},"Enter")))}));var Sl=(0,as.Pi)((function(t){var e=E().modal;return R.createElement("div",{className:ss()(t.className,"_1YO6ijDzaZegJFy3KSkWD3")},t.children,e.instances.map((function(t){return R.createElement(Cl,{key:t.id,modal:t})})))})),Cl=(0,as.Pi)((function(t){var e;switch(t.modal.type){case"enter-user-level":e=R.createElement(El,{className:"XDM1IjdKaqtg7GEyMOkfj",modalId:t.modal.id,onEnterLevel:t.modal.onEnterLevel})}return R.createElement("div",{className:"jHhg1Xn916RQQwZ0s7s_2"},e)}));var Ll=(0,as.Pi)((function(t){var e=t.controller,r=E(),i=r.library;(0,R.useEffect)((function(){i.load()}),[i]),(0,R.useEffect)((function(){if(e)return(0,A.aD)((function(){e.setRoot(r),r.controller=e}))(),(0,A.aD)((function(){r.controller=null,e.setRoot(null)}))}),[e,r]);var n=null;if(i.loadError)n=R.createElement("p",{className:"LCAupop7dIgTl9XRpoYFV"},i.loadError);else if(!i.value){var s="".concat((100*i.loadProgress).toFixed(0),"%");n=R.createElement("p",{className:"_2evwQHL3dV90YzfurLal93"},"Loading ",s,"...")}return n?R.createElement("div",{className:ss()("_2SHScRcpk4tJfW1ZQK4Hh",t.className)},n):R.createElement("div",{className:ss()("_2Zaciy3Lvjru2RM0r3QBnH",t.className)},R.createElement(Sl,null,R.createElement(os,null)))}));const Tl=function(t){var e=(0,R.useState)(null),r=x()(e,2),i=r[0],n=r[1];return(0,R.useEffect)((function(){var t=new is;return n(t),function(){return t.dispose()}}),[]),i?R.createElement(w,{value:i},R.createElement(Ll,t)):null}},1588:(t,e,r)=>{var i=r(3720);t.exports=function(t){if(Array.isArray(t))return i(t)}},9168:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},8183:(t,e,r)=>{var i=r(4624);function n(e,r,s){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=n=Reflect.get:t.exports=n=function(t,e,r){var n=i(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(r):s.value}},n(e,r,s||e)}t.exports=n},2094:t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e},8914:(t,e,r)=>{var i=r(4307);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},1325:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},333:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},2164:(t,e,r)=>{var i=r(8630),n=r(9168);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?n(t):e}},4307:t=>{function e(r,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,i)}t.exports=e},4624:(t,e,r)=>{var i=r(2094);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},8669:(t,e,r)=>{var i=r(1588),n=r(1325),s=r(7698),a=r(333);t.exports=function(t){return i(t)||n(t)||s(t)||a()}},8630:t=>{function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e},5034:()=>{},5350:(t,e,r)=>{"use strict";r.d(e,{j:()=>B,U:()=>N});var i=r(2738),n=r(2120),s=r(6300),a=r(3855),o=r(3441),l=r(2389),u=r(23);class c{constructor(t,e){this.id=t,this.image=e}}class h{constructor(t,e){this.id=t,this.audio=e}}var f,d,p=r(2526),y=r(1645);function v(t,e,r){return Math.round(e+(r-e)*t)}!function(t){t[t.Pad=0]="Pad"}(f||(f={})),function(t){t[t.SolidColor=0]="SolidColor",t[t.LinearGradient=1]="LinearGradient",t[t.RadicalGradient=2]="RadicalGradient",t[t.ClippedBitmap=3]="ClippedBitmap"}(d||(d={}));var m=r(8671),g=r(5355);function b(t,e){const r=new Float32Array(t.vertices),i=new Uint16Array(t.indices);let n=1/0,s=1/0,a=-1/0,o=-1/0;for(let e=0;e<t.vertices.length;e+=2){const t=r[e+0],i=r[e+1];n=Math.min(n,t),s=Math.min(s,i),a=Math.max(a,t),o=Math.max(o,i)}const l=m.J.fromValues(n,s,a-n,o-s);let u=null,c=4294967295;const h=p.yR(p.Ue());switch(t.fill.kind){case d.SolidColor:c=(0,g.u_)(t.fill.color);break;case d.LinearGradient:case d.RadicalGradient:const r=`${(f=t.fill.gradient).mode};${f.points.map((([t,e])=>`${t}:${e}`)).join(";")}`;u=e.gradientCache.get(r),u||(u=function(t){const e=document.createElement("canvas");e.width=256,e.height=1;const r=e.getContext("2d"),i=new Uint8ClampedArray(1024);for(let e=0;e<256;e++){let r,n=t.points.findIndex((([t,r])=>t>=e));-1===n?(r=t.points.length-1,n=t.points.length-1):r=0===n?0:n-1;const[s,a]=t.points[r],[o,l]=t.points[n],u=s===o?1:(e-s)/(o-s);i[4*e+3]=v(u,a>>>24&255,l>>>24&255),i[4*e+0]=v(u,a>>>16&255,l>>>16&255),i[4*e+1]=v(u,a>>>8&255,l>>>8&255),i[4*e+2]=v(u,a>>>0&255,l>>>0&255)}return r.putImageData(new ImageData(i,256,1),0,0),e}(t.fill.gradient),e.gradientCache.set(r,u)),p.t8(h,...t.fill.matrix),_(h,32768,32768,.5);break;case d.ClippedBitmap:u=e.resolveImage(t.fill.characterId),p.t8(h,...t.fill.matrix),_(h,u.width,u.height,0)}var f;const b=new Uint32Array(r.length/2);return b.fill(c),new y.r("shape",r,b,i,h,u,t.fill.kind,l)}function _(t,e,r,i){p.U_(t,t),p.bA(t,t,[1/e,1/r]),t[4]=t[4]/e+i,t[5]=t[5]/r+i}class x{constructor(t,e,r){this.id=t,this.renderObjects=e.contours.map((t=>b(t,r))),this.bounds=m.J.create();for(const t of this.renderObjects)m.J.union(this.bounds,this.bounds,t.bounds)}applyTo(t){t.__node.setRenderObjects(this.renderObjects,this.bounds)}}class R{constructor(t,e,r){this.id=t,this.frames=new Map;for(const[t,i]of e.frames){const e=i.contours.map((t=>b(t,r))),n=m.J.create();for(const t of e)m.J.union(n,n,t.bounds);this.frames.set(t,{renderObjects:e,bounds:n})}}applyTo(t){const e=this.frames.get(t.__ratio);e?t.__node.setRenderObjects(e.renderObjects,e.bounds):console.warn(`no ratio frame #${t.__ratio} for morph shape #${this.id}`)}}var k=r(5950),w=r(843);class E{constructor(t,e,r){this.id=t,this.library=r,this.numFrames=e.numFrames,this.frames=e.frames}applyTo(t,e,r){const i=new Map,n=[],s=t=>{const e=this.frames.find((e=>e.frame===t));if(e){n.length=0;for(const t of e.actions){if(t.kind===k.z.StartSound){n.push(t);continue}const e=i.get(t.depth);e&&e.kind===t.kind?e.kind===k.z.PlaceObject&&i.set(t.depth,{...e,...t}):i.set(t.depth,t)}}};if(r>=e)for(let t=e;t<=r;t++)s(t);else{for(const e of t.__children)e.__depth>=0&&i.set(e.__depth,{kind:k.z.RemoveObject,depth:e.__depth});for(let t=1;t<=r;t++)s(t)}for(const e of i.values())switch(e.kind){case k.z.PlaceObject:(0,w.WO)(this.library,t,e);break;case k.z.RemoveObject:(0,w.Ff)(t,e)}for(const e of n)(0,w.jf)(this.library,t.__soundContext,e);(0,w.PU)(t)}}class S{constructor(t,e,r){this.id=t,this.font=e,this.charMap=new Map,this.glyphs=e.glyphs.map((t=>{const e=t.shape.contours.map((t=>b(t,r)));return{renderObjects:y.r.merge("text",e.map((t=>({renderObject:t,transform:p.yR(p.Ue())}))))}}));for(let t=0;t<e.glyphs.length;t++){const r=e.glyphs[t].char;r&&this.charMap.set(r,t)}this.layout=e.layout&&{ascent:e.layout.ascent/1024,descent:e.layout.descent/1024,leading:e.layout.ascent/1024,advances:e.layout.advances.map((t=>t/1024))}}}class C{constructor(t,e,r){this.id=t,this.renderObjects=[],this.bounds=m.J.fromValues(...e.bounds);const i=p.al(...e.matrix),n=[];for(const t of e.glyphs){const e=r.resolveFont(t.fontId).glyphs[t.index],s=p.Ue();p.Iu(s,i,[t.x,t.y]),p.bA(s,s,[t.size/1024/20,t.size/1024/20]);const a=(0,g.u_)(t.color);for(const t of e.renderObjects)n.push({renderObject:t,color:a,transform:s})}this.renderObjects=y.r.merge("text",n)}applyTo(t){t.__node.setRenderObjects(this.renderObjects,this.bounds)}}class L{constructor(t,e,r){this.id=t,this.lib=r,this.def={...e,fontHeight:e.fontHeight&&e.fontHeight/20,leftMargin:e.leftMargin&&e.leftMargin/20,rightMargin:e.rightMargin&&e.rightMargin/20,indent:e.indent&&e.indent/20,leading:e.leading&&e.leading/20},this.layoutBounds=m.J.fromValues(...e.bounds)}applyTo(t){var e,r;switch(t.wordWrap=this.def.isWordWrap,t.multiline=this.def.isMultiline,t.type=this.def.isReadonly?l.TextFieldType.DYNAMIC:l.TextFieldType.INPUT,t.selectable=!this.def.noSelect,m.J.copy(t.__container.layoutBounds,this.layoutBounds),this.def.align){case 0:t.defaultTextFormat.align=l.TextFormatAlign.LEFT;break;case 1:t.defaultTextFormat.align=l.TextFormatAlign.RIGHT;break;case 2:t.defaultTextFormat.align=l.TextFormatAlign.CENTER;break;case 3:t.defaultTextFormat.align=l.TextFormatAlign.JUSTIFY}null!=this.def.textColor&&(t.defaultTextFormat.color=this.def.textColor),null!=this.def.fontID&&(t.defaultTextFormat.font=this.lib.resolveFont(this.def.fontID).font.name),null!=this.def.fontHeight&&(t.defaultTextFormat.size=this.def.fontHeight),null!=this.def.leading&&(t.defaultTextFormat.leading=this.def.leading),this.def.isHTML?t.htmlText=null!==(e=this.def.initialText)&&void 0!==e?e:"":t.text=null!==(r=this.def.initialText)&&void 0!==r?r:""}}var T=r(2166),M=r(6217),P=r(7760),A=r(5351),D=r(6375);async function O(t,e,r){r(0,e);const i=(await fetch(t)).body.getReader(),n=[];let s=0;for(;;){const t=await i.read();if(t.done)break;n.push(t.value),s+=t.value.length,r(s,e)}const a=new Uint8Array(s);let o=0;for(const t of n)a.set(t,o),o+=t.length;return r(s,s),a}async function N(t,e){const r=new Map;for(const[e,{size:i}]of Object.entries(t.assets))r.set(e,[0,i]);const i=t=>(i,n)=>{r.set(t,[i,n]);let s=0,a=0;for(const[t,e]of r.values())s+=t,a+=e;null==e||e(s/a)},n=t.assets[t.data],s=await O(n.url.toString(),n.size,i(t.data)),a=JSON.parse((new TextDecoder).decode(s)),o=new B(t.properties);await Promise.all([...Array.from(Object.entries(a.images)).map((async([e,{id:r}])=>{const n=t.assets[r],s=await new Promise(((t,e)=>{const s=i(r);s(0,n.size);let a=0;const o=new Image;o.onload=()=>{s(a,a),t(o)},o.onerror=t=>e(t),o.onprogress=t=>{a=t.loaded,s(a,n.size)},o.src=n.url.toString()}));o.images.set(Number(e),new c(Number(e),s))})),...Array.from(Object.entries(a.sounds)).map((async([e,{id:r}])=>{const n=t.assets[r],s=await O(n.url.toString(),n.size,i(r)),a=await(0,D.k)(s.buffer);o.sounds.set(Number(e),new h(Number(e),a))}))]);for(const[t,e]of Object.entries(a.shapes)){const r=Number(t);o.shapes.set(r,new x(r,e,o))}for(const[t,e]of Object.entries(a.morphShapes)){const r=Number(t),i=new R(r,e,o);o.morphShapes.set(r,i)}for(const[t,e]of Object.entries(a.sprites)){const r=Number(t);o.sprites.set(r,new E(r,e,o))}for(const[t,e]of Object.entries(a.fonts)){const r=Number(t),i=new S(r,e,o);o.fonts.set(r,i),M.t.instance.registerFont(i)}for(const[t,e]of Object.entries(a.staticTexts)){const r=Number(t),i=new C(r,e,o);o.staticTexts.set(r,i)}for(const[t,e]of Object.entries(a.editTexts)){const r=Number(t),i=new L(r,e,o);o.editTexts.set(r,i)}for(const[t,e]of Object.entries(a.buttons)){const r=Number(t),i=new T.p(r,e,o);o.buttons.set(r,i)}for(const[t,e]of Object.entries(a.linkages)){const r=A.Z.instance.classes.get(e);if(!r)throw new Error(`Linked class ${e} not found`);const i=Number(t);o.linkedClasses.set(i,r)}return o.linkCharacters(),o}class B{constructor(t){this.properties=t,this.images=new Map,this.sounds=new Map,this.shapes=new Map,this.morphShapes=new Map,this.sprites=new Map,this.fonts=new Map,this.staticTexts=new Map,this.editTexts=new Map,this.buttons=new Map,this.linkedClasses=new Map,this.gradientCache=new Map}resolveImage(t){const e=this.images.get(t);if(!e)throw new Error(`Image character #${t} not found`);return e.image}resolveFont(t){const e=this.fonts.get(t);if(!e)throw new Error(`Font character #${t} not found`);return e}linkCharacters(){const t=(t,e)=>{for(const[r,i]of t){let t=this.linkedClasses.get(r);if(!t){const n="Character"+r;t=class extends(e(i)){},Object.defineProperty(t,"name",{value:n}),this.linkedClasses.set(r,t)}Object.assign(t,{__character:i})}};t(this.sounds,(()=>u.Sound)),t(this.shapes,(()=>i.b)),t(this.morphShapes,(()=>n.W)),t(this.sprites,(t=>t.numFrames>1?a.K:s.j)),t(this.staticTexts,(()=>o.V)),t(this.editTexts,(()=>l.TextField)),t(this.buttons,(()=>P.SimpleButton))}instantiateCharacter(t){const e=this.linkedClasses.get(t);if(!e)throw new Error(`Character ${t} not found`);return new e}}},5351:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});class i{constructor(){this.classes=new Map}addClassRoot(t){const e=(t,r)=>{for(const[i,n]of Object.entries(r)){const r=""===t?i:`${t}.${i}`;"function"==typeof n?this.classes.set(r,n):"object"==typeof n&&e(r,n)}};e("",t)}}i.instance=new i},6217:(t,e,r)=>{"use strict";r.d(e,{t:()=>i});class i{constructor(){this.fonts=new Map}registerFont(t){const e=this.fonts.get(t.font.name)||[];e.push(t),this.fonts.set(t.font.name,e)}resolve(t,e,r){const i=this.fonts.get(t)||[];for(const t of i)if(t.font.isItalic===e&&t.font.isBold===r)return t;return null}}i.instance=new i},1455:()=>{},5030:()=>{},7964:(t,e,r)=>{"use strict";r.d(e,{i:()=>n});const i=new WeakMap;class n{constructor(){let t=Reflect.getPrototypeOf(this),e=i.get(t);if(!e){const r=new Map;for(;t&&t!==n.prototype;){for(const e of Reflect.ownKeys(t)){if(r.has(e))continue;const i=Reflect.getOwnPropertyDescriptor(t,e);i&&"function"==typeof i.value&&r.set(e,i.value)}t=Reflect.getPrototypeOf(t)}r.delete("constructor"),e=Array.from(r.entries()),i.set(Reflect.getPrototypeOf(this),e)}for(const[t,r]of e)this[t]=r.bind(this);this.__preInit()}__preInit(){}}},3919:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AVMObject:()=>a.i,Class:()=>s,Runtime:()=>i,XML:()=>n});class i{static trace(...t){console.log(...t)}static uint(t){return(0|t)>>>0}static int(t){return 0|t}static isInterface(t,e){return e.__IMPL in t}}class n{}const s=Function;var a=r(7964)},3349:()=>{},489:(t,e,r)=>{"use strict";var i;r.d(e,{P:()=>i}),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(i||(i={}))},4539:()=>{},6305:()=>{},5400:()=>{},4834:()=>{},214:()=>{},5950:(t,e,r)=>{"use strict";var i;r.d(e,{z:()=>i}),function(t){t[t.PlaceObject=0]="PlaceObject",t[t.RemoveObject=1]="RemoveObject",t[t.StartSound=2]="StartSound"}(i||(i={}))},2573:()=>{},8454:(t,e,r)=>{"use strict";r.r(e),r.d(e,{FrameActionKind:()=>l.z,TextAlign:()=>h.P});var i=r(6305),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);r.d(e,n);var s=r(214);n={};for(const t in s)"default"!==t&&(n[t]=()=>s[t]);r.d(e,n);var a=r(4834);n={};for(const t in a)"default"!==t&&(n[t]=()=>a[t]);r.d(e,n);var o=r(5400);n={};for(const t in o)"default"!==t&&(n[t]=()=>o[t]);r.d(e,n);var l=r(5950),u=r(4539);n={};for(const t in u)["default","FrameActionKind"].indexOf(t)<0&&(n[t]=()=>u[t]);r.d(e,n);var c=r(2573);n={};for(const t in c)["default","FrameActionKind"].indexOf(t)<0&&(n[t]=()=>c[t]);r.d(e,n);var h=r(489),f=r(3349);n={};for(const t in f)["default","FrameActionKind","TextAlign"].indexOf(t)<0&&(n[t]=()=>f[t]);r.d(e,n)},94:(t,e,r)=>{"use strict";r.r(e),r.d(e,{character:()=>i,text:()=>n,avm2:()=>s,AssetLibrary:()=>a.j,loadManifest:()=>a.U,FontRegistry:()=>h.t,ClassRegistry:()=>f.Z});var i=r(8454),n=r(1759),s=r(3919),a=r(5350),o=r(5030),l={};for(const t in o)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>o[t]);r.d(e,l);var u=r(5034);l={};for(const t in u)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>u[t]);r.d(e,l);var c=r(1455);l={};for(const t in c)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>c[t]);r.d(e,l);var h=r(6217),f=r(5351)},9956:(t,e,r)=>{"use strict";r.d(e,{W:()=>u});var i=r(7264),n=r(2389),s=r(4674),a=r(8671);const o=new DOMParser,l=a.J.create();class u{constructor(t){this.node=t,this.segments=[],this.htmlRoot=o.parseFromString("<root />","text/xml").documentElement,this.defaultTextFormat=new i.S,this.wordWrap=!1,this.multiline=!1,this.layoutBounds=a.J.create(),this.layoutScale=1,this.__text="",this.__htmlText=""}get text(){return this.__text}set text(t){this.__text!==t&&(this.htmlRoot.textContent=t,this.parseHTML())}get htmlText(){return this.__htmlText}set htmlText(t){if(this.__htmlText!==t){try{this.htmlRoot.innerHTML=t}catch(t){}this.parseHTML()}}parseHTML(){var t;const e=this.htmlRoot.ownerDocument.createTreeWalker(this.htmlRoot,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let r={format:this.defaultTextFormat.__clone(),text:""};const i=[r],s=[],a=t=>{const e=r.format.__clone();let a="";switch(t.tagName.toLowerCase()){case"b":e.bold=!0;break;case"br":a="\n";break;case"font":for(let r=0;r<t.attributes.length;r++){const i=t.attributes[r];switch(i.name.toLowerCase()){case"color":/^#[0-9a-fA-F]{6}$/.test(i.value)&&(e.color=parseInt(i.value.slice(1),16)+4278190080);break;case"face":e.font=i.value;break;case"size":/^\d+$/.test(i.value)&&(e.size=Number(i.value))}}break;case"i":e.italic=!0;break;case"p":for(let r=0;r<t.attributes.length;r++){const i=t.attributes[r];switch(i.name.toLowerCase()){case"align":switch(i.value){case"left":e.align=n.TextFormatAlign.LEFT;break;case"right":e.align=n.TextFormatAlign.RIGHT;break;case"justify":e.align=n.TextFormatAlign.JUSTIFY;break;case"center":e.align=n.TextFormatAlign.CENTER}}break}}r={format:e,text:a},i.push(r),s.push(r)},o=t=>{i.pop(),r=i[i.length-1]};let l=e.root;for(;l;){let t;if(l instanceof Text?(u=l,r.text+=u.textContent):l instanceof Element&&a(l),t=e.firstChild())l=t;else if(t=e.nextSibling())l=t;else{for(;(t=e.parentNode())&&(t instanceof Element&&o(),!(t=e.nextSibling())););!t&&l instanceof Element&&o(),l=t}}var u;this.segments=s.filter((t=>t.text.length>0)),this.__text=null!==(t=this.htmlRoot.textContent)&&void 0!==t?t:"",this.__htmlText=this.htmlRoot.innerHTML,this.layout()}layout(){a.J.copy(l,this.layoutBounds),l[2]*=this.layoutScale;const t=(0,s.b)(this.segments,l,this.wordWrap,this.multiline);this.node.setRenderObjects(t.renderObjects,t.bounds)}}},1271:()=>{},1759:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Container:()=>i.W,layout:()=>a.b});var i=r(9956),n=r(1271),s={};for(const t in n)["default","Container"].indexOf(t)<0&&(s[t]=()=>n[t]);r.d(e,s);var a=r(4674)},4674:(t,e,r)=>{"use strict";r.d(e,{b:()=>c});var i=r(5543),n=r(2526),s=r(2389),a=r(1645),o=r(5355),l=r(8671),u=r(6217);function c(t,e,r,i){const n=function(t,e,r,i){let n=null;const s=[];for(const{format:e,text:r}of t)for(const t of r){const r=/\s/.test(t);n&&n.isSpace===r||(n={isSpace:r,text:"",glyphs:[],width:0},s.push(n));const i=d(e,t),a=i.advance;n.glyphs.push(i),n.width+=a}let a=0,o={runs:[],isWrapped:!1};const l=[o];for(const t of s)/\n/.test(t.text)?(a=0,o={runs:[],isWrapped:!1},l.push(o)):(r&&a+t.width>e[2]&&o.runs.length>0&&(a=0,o={runs:[],isWrapped:!0},l.push(o)),a+=t.width,o.runs.push(t));return l.map((t=>{let e=t.runs,r=e.length;for(;r>0&&e[r-1].isSpace;)r--;if(e=e.slice(0,r),t.isWrapped){let t=0;for(;t<e.length&&e[t].isSpace;)t++;e=e.slice(t)}const i=[];let n=0;for(const t of e)i.push(...t.glyphs),n+=t.width;return{glyphs:i,width:n}}))}(t,e,r),s=l.J.create(),a=[];let o=0;for(const t of n){const r=p(t,o,e);a.push(...r.renderObjects),l.J.union(s,s,r.bounds),o+=r.bounds[3]}return{bounds:s,renderObjects:a}}function h(t){return Math.min(127,t.size)}function f(t){return{renderObjects:[],color:t.color,align:t.align,size:h(t),leading:t.leading,advance:h(t),ascent:h(t),descent:0}}function d(t,e){var r,i,n,s,a,o;const l=u.t.instance.resolve(t.font,t.italic,t.bold);if(!l)return f(t);const c=l.charMap.get(e);return null==c?f(t):{renderObjects:l.glyphs[c].renderObjects,color:t.color,align:t.align,size:h(t),leading:t.leading,advance:(null!==(i=null===(r=l.layout)||void 0===r?void 0:r.advances[c])&&void 0!==i?i:0)*h(t),ascent:null!==(s=null===(n=l.layout)||void 0===n?void 0:n.ascent)&&void 0!==s?s:0,descent:null!==(o=null===(a=l.layout)||void 0===a?void 0:a.descent)&&void 0!==o?o:0}}function p(t,e,r){if(0===t.glyphs.length)return{bounds:l.J.create(),renderObjects:[]};const u=r[0]+2,c=r[2]-4;let h,f;switch(t.glyphs[0].align){case s.TextFormatAlign.RIGHT:h=0,f=u+c-t.width;break;case s.TextFormatAlign.CENTER:h=0,f=u+(c-t.width)/2;break;case s.TextFormatAlign.JUSTIFY:h=t.glyphs.length>0?u+(c-t.width)/(t.glyphs.length-1):0,f=0;break;default:h=0,f=u}const d=[];let p=0,y=0;for(const e of t.glyphs)p=Math.max(p,e.ascent*e.size);for(const e of t.glyphs)y=Math.max(y,p+e.descent*e.size+e.leading);i.Ue();for(const r of t.glyphs){const t=n.Ue();n.vc(t,[f,e+p]),n.bA(t,t,[r.size/1024,r.size/1024]);const i=(0,o.u_)(r.color);for(const e of r.renderObjects)d.push({renderObject:e,color:i,transform:t});f+=r.advance+h}return{bounds:l.J.fromValues(0,e,f,y),renderObjects:a.r.merge("text",d)}}},2640:(t,e,r)=>{"use strict";r.d(e,{s:()=>y});var i=r(5543),n=r(8671),s=r(570),a=r(8281),o=r(8745),l=r(7069),u=r(2942),c=r(230),h=r(8513),f=r(2550);n.J.create();const d=i.Ue();let p=null;class y extends s.p{constructor(){const t=p;p=null,super(),this.__scaleSkews={scaleX:1,scaleY:1,skewX:0,skewY:0},null==t||t.fn(this)}static __initChar(t,e){return p={fn:e},t()}__preInit(){this.__character=null,this.__depth=-1,this.__clipDepth=-1,this.__parent=null,this.name="",this.__mask=null,this.__maskRefs=0,this.__filters=[],this.__node=new c.B(this),this.transform=new o.w,this.transform.__setNode(this.__node),super.__preInit()}get visible(){return this.__node.visible}set visible(t){this.__node.visible=t}get parent(){return this.__parent}set parent(t){const e=this.stage;this.__parent=t;const r=this.stage;r!==e&&(r?(r.__displayListDirty=!0,this.__onAddedToStage(r)):e&&this.__onRemovedFromStage(e)),this.__setEventParent(this.parent)}get stage(){var t,e;return null!==(e=null===(t=this.parent)||void 0===t?void 0:t.stage)&&void 0!==e?e:null}get mask(){return this.__mask}set mask(t){var e;this.__mask&&(this.__mask.__maskRefs--,this.__mask.__node.isMask=this.__mask.__maskRefs>0),this.__mask=t,this.__node.mask=null!==(e=null==t?void 0:t.__node)&&void 0!==e?e:null,this.__node.markRenderDirty(),this.__mask&&(this.__mask.__maskRefs++,this.__mask.__node.isMask=this.__mask.__maskRefs>0)}get filters(){return this.__filters}set filters(t){this.__filters=t,this.__node.filters=t.map((t=>t.__filter)).filter((t=>t.filter.isEffective(t))),this.__node.markRenderDirty()}get cacheAsBitmap(){return this.__node.cacheAsBitmap||this.__node.filters.length>0}set cacheAsBitmap(t){this.__node.cacheAsBitmap=t}get x(){return(0,h.Sh)(this.__node.transformLocal[4])}set x(t){t=(0,h.E_)(t),this.__node.transformLocal[4]!==t&&(this.__node.transformLocal[4]=t,this.__node.markLayoutDirty())}get y(){return(0,h.Sh)(this.__node.transformLocal[5])}set y(t){t=(0,h.E_)(t),this.__node.transformLocal[5]!==t&&(this.__node.transformLocal[5]=t,this.__node.markLayoutDirty())}get scaleX(){return this.__scaleSkews.scaleX}set scaleX(t){this.__scaleSkews.scaleX=t,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&this.__node.markLayoutDirty()}get scaleY(){return this.__scaleSkews.scaleY}set scaleY(t){this.__scaleSkews.scaleY=t,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&this.__node.markLayoutDirty()}get rotation(){return(0,f.lS)(180*this.__scaleSkews.skewY/Math.PI)}set rotation(t){const e=t/180*Math.PI-this.__scaleSkews.skewY;this.__scaleSkews.skewX+=e,this.__scaleSkews.skewY+=e,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&this.__node.markLayoutDirty()}get width(){return this.__node.ensureLayout(),Math.abs((0,h.Sh)(this.__node.boundsLocal[2])*this.__scaleSkews.scaleX)}set width(t){if(t<0)return;this.__node.ensureLayout();let e=0===this.__node.boundsLocal[2]?1:t/(0,h.Sh)(this.__node.boundsLocal[2]);0!==this.__scaleSkews.scaleX&&(e*=Math.sign(this.__scaleSkews.scaleX)),this.__scaleSkews.scaleX=e,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&this.__node.markLayoutDirty()}get height(){return this.__node.ensureLayout(),Math.abs((0,h.Sh)(this.__node.boundsLocal[3])*this.__scaleSkews.scaleY)}set height(t){if(t<0)return;this.__node.ensureLayout();let e=0===this.__node.boundsLocal[3]?1:t/(0,h.Sh)(this.__node.boundsLocal[3]);0!==this.__scaleSkews.scaleY&&(e*=Math.sign(this.__scaleSkews.scaleY)),this.__scaleSkews.scaleY=e,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&this.__node.markLayoutDirty()}get mouseX(){const t=this.stage;return t?(this.__globalToLocal(d,t.__mousePosition,!0),d[0]):0}get mouseY(){const t=this.stage;return t?(this.__globalToLocal(d,t.__mousePosition,!0),d[1]):0}__globalToLocal(t,e,r){r&&this.__node.ensureLayout(),t[0]=(0,h.E_)(e[0]),t[1]=(0,h.E_)(e[1]),i.iu(t,t,this.__node.transformWorldInvert),t[0]=(0,h.Sh)(t[0]),t[1]=(0,h.Sh)(t[1])}globalToLocal(t){const e=new l.E;return this.__globalToLocal(e.__value,t.__value,!0),e}hitTestPoint(t,e,r=!1){return!!this.visible&&(this.__node.ensureLayout(),i.t8(d,t,e),this.__node.hitTest(d,r))}hitTestObject(t){return this.__node.ensureLayout(),t.__node.ensureLayout(),n.J.intersects(t.__node.boundsWorld,this.__node.boundsWorld)}getBounds(t){this.__node.ensureLayout(),t.__node.ensureLayout();const e=new u.A;return n.J.apply(e.__rect,this.__node.boundsWorld,t.__node.transformWorldInvert),n.J.scale(e.__rect,e.__rect,1/h.JN),e}__initFrame(t){}__onRender(){}__onAddedToStage(t){this.dispatchEvent(new a.j(a.j.ADDED_TO_STAGE,!1,!1))}__onRemovedFromStage(t){this.dispatchEvent(new a.j(a.j.REMOVED_FROM_STAGE,!1,!1))}}},581:(t,e,r)=>{"use strict";r.d(e,{_:()=>n});var i=r(8077);class n extends i.D{__preInit(){this.__children=[],super.__preInit()}get numChildren(){return this.__children.length}addChild(t){var e;return null===(e=t.parent)||void 0===e||e.removeChild(t),this.__children.push(t),t.parent=this,t.__node.setParent(this.__node,this.__node.children.length),t}addChildAt(t,e){var r;return null===(r=t.parent)||void 0===r||r.removeChild(t),this.__children.splice(e,0,t),t.parent=this,t.__node.setParent(this.__node,e),t}getChildByName(t){var e;return null!==(e=this.__children.find((e=>e.name===t)))&&void 0!==e?e:null}getChildAt(t){var e;return null!==(e=this.__children[t])&&void 0!==e?e:null}removeChild(t){const e=this.__children.indexOf(t);return e<0?null:(this.__children.splice(e,1),t.parent=null,t.__node.setParent(null,0),t)}removeChildAt(t){var e;const r=null!==(e=this.__children.splice(t,1)[0])&&void 0!==e?e:null;return r&&(r.parent=null,r.__node.setParent(null,0)),r}removeChildren(t=0,e=this.__children.length){const r=this.__children.splice(t,e-t);for(const t of r)t.parent=null,t.__node.setParent(null,0)}contains(t){return this.__children.includes(t)}__onAddedToStage(t){for(const e of this.__children)e.__onAddedToStage(t);super.__onAddedToStage(t)}__onRemovedFromStage(t){super.__onRemovedFromStage(t);for(const e of this.__children)e.__onRemovedFromStage(t)}__onRender(){super.__onRender();for(const t of this.__children)t.__onRender()}}},9838:(t,e,r)=>{"use strict";r.d(e,{T:()=>l});var i=r(7964),n=r(5355),s=r(1645),a=r(8671),o=r(8513);class l extends i.i{constructor(t){super(),this.__node=t,this.__x=0,this.__y=0,this.__lineThickness=-1,this.__lineColor=4278190080,this.__bounds=a.J.create(),this.__renderObjects=[]}clear(){this.__x=0,this.__y=0,this.__lineThickness=-1,this.__lineColor=4278190080,a.J.clear(this.__bounds),this.__renderObjects.length=0,this.__node.setRenderObjects([],this.__bounds)}lineStyle(t=NaN,e=0,r=1){this.__lineThickness=isNaN(t)?-1:t,this.__lineColor=(0,n.u_)(e+16777216*Math.floor(255*r))}moveTo(t,e){this.__x=t,this.__y=e}lineTo(t,e){const r=s.r.line((0,o.E_)(this.__x),(0,o.E_)(this.__y),(0,o.E_)(t),(0,o.E_)(e),(0,o.E_)(this.__lineThickness),this.__lineColor);this.__renderObjects.push(r),a.J.union(this.__bounds,this.__bounds,r.bounds),this.__node.setRenderObjects(this.__renderObjects.slice(),this.__bounds),this.__x=t,this.__y=e}}},8077:(t,e,r)=>{"use strict";r.d(e,{D:()=>n});var i=r(2640);class n extends i.s{constructor(){super(),this.tabEnabled=!1,this.tabIndex=-1}get __isPointerCursor(){return!!this.parent&&this.parent.__isPointerCursor}}},2120:(t,e,r)=>{"use strict";r.d(e,{W:()=>n});var i=r(2640);class n extends i.s{constructor(){var t,e;super(),this.___ratio=0,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}get __ratio(){return this.___ratio}set __ratio(t){var e;this.___ratio=t,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},3855:(t,e,r)=>{"use strict";r.d(e,{K:()=>a});var i=r(6300),n=r(8433),s=r(5511);class a extends i.j{constructor(){super(),this.__lastConstructFrame=1,this.__lastInitFrame=1,this.__constructed=!1,this.__frameScripts=new Map,this.__scriptFrame=0,this.currentFrame=1,this.isPlaying=!0}get totalFrames(){var t,e;return null!==(e=null===(t=this.__character)||void 0===t?void 0:t.numFrames)&&void 0!==e?e:1}__initFrame(t){if(super.__initFrame(t),this.isPlaying&&this.__constructed&&this.__lastInitFrame===this.currentFrame){let e=this.currentFrame+1;(e>this.totalFrames||e<1)&&(e=1),this.currentFrame!==e&&(this.currentFrame=e,t.__constructionQueue.push(this))}else this.__constructed||t.__constructionQueue.push(this);this.__lastInitFrame=this.currentFrame}__constructFrame(){var t;this.__lastConstructFrame!==this.currentFrame&&(null===(t=this.__character)||void 0===t||t.applyTo(this,this.__lastConstructFrame,this.currentFrame),this.__lastConstructFrame=this.currentFrame),this.__constructed=!0,this.__scriptFrame!==this.currentFrame&&(0,n.s)((()=>this.__runFrameScript()))}__runFrameScript(){if(this.__scriptFrame!==this.currentFrame){this.__scriptFrame=this.currentFrame;const t=this.__frameScripts.get(this.__scriptFrame);null==t||t()}}addFrameScript(...t){for(let e=0;e<t.length;e+=2)this.__frameScripts.set(t[e]+1,t[e+1])}__resolveFrame(t){var e,r;const i=Number(t);if(!isNaN(i))return i;const n=null===(r=null===(e=this.__character)||void 0===e?void 0:e.frames)||void 0===r?void 0:r.find((e=>e.label===t));return n?n.frame:null}gotoAndPlay(t){var e;const r=this.__resolveFrame(t);r&&(this.currentFrame=r),this.isPlaying=!0;const i=null!==(e=this.stage)&&void 0!==e?e:s.H.__current;i&&(i.__constructionQueue.push(this),(0,n.E)(!1,i))}gotoAndStop(t){var e;const r=this.__resolveFrame(t);r&&(this.currentFrame=r),this.isPlaying=!1;const i=null!==(e=this.stage)&&void 0!==e?e:s.H.__current;i&&(i.__constructionQueue.push(this),(0,n.E)(!1,i))}play(){this.isPlaying=!0}stop(){this.isPlaying=!1}__onAddedToStage(t){super.__onAddedToStage(t),t.__constructionQueue.push(this)}}},2738:(t,e,r)=>{"use strict";r.d(e,{b:()=>s});var i=r(2640),n=r(9838);class s extends i.s{constructor(){var t,e;super(),this.graphics=new n.T(this.__node),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},6300:(t,e,r)=>{"use strict";r.d(e,{j:()=>a});var i=r(581),n=r(9838),s=r(1719);class a extends i._{constructor(){super(),this.buttonMode=!1,this.graphics=new n.T(this.__node)}__preInit(){var t,e;super.__preInit(),this.__soundContext=new s.$,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this,1,1)}get __isPointerCursor(){return this.buttonMode||super.__isPointerCursor}}},5511:(t,e,r)=>{"use strict";r.d(e,{H:()=>G});var i=r(5543),n=r(581),s=r(8077);class a{constructor(t,e){this.width=t,this.height=e,this.container=document.createElement("div"),this.element=document.createElement("canvas"),this.__cursor="",this.container.style.setProperty("width",t+"px"),this.container.style.setProperty("height",e+"px"),this.container.style.setProperty("position","relative"),this.element.tabIndex=0,this.element.style.setProperty("outline","none","important"),this.element.style.setProperty("position","absolute"),this.element.style.setProperty("width",t+"px"),this.element.style.setProperty("height",e+"px"),this.element.width=t*window.devicePixelRatio,this.element.height=e*window.devicePixelRatio,this.container.appendChild(this.element)}get cursor(){return this.__cursor}set cursor(t){t!==this.__cursor&&(this.element.style.cursor=t,this.__cursor=t)}resolveCoords(t,e,r){const i=this.element.getBoundingClientRect();t[0]=e-i.left,t[1]=r-i.top}}var o=r(2526),l=r(4945),u=r(8671),c=r(5355),h=r(8513);const f=l.al(1,1,1,1),d=l.al(0,0,0,0);class p{constructor(t){this.renders=[],this.transformStack=[],this.allTransforms=[],this.transformStack.push({view:o.yR(o.Ue()),colorMul:l.t8(l.Ue(),1,1,1,1),colorAdd:l.t8(l.Ue(),0,0,0,0),renderMask:null,useMask:[]}),this.allTransforms.push(this.transformStack[0]),this.viewport=t}get transform(){return this.transformStack[this.transformStack.length-1]}set transform(t){this.transformStack[this.transformStack.length-1]=t}get bounds(){const t=u.J.create(),e=u.J.create();for(const r of this.renders)"object"in r?u.J.apply(e,r.object.bounds,r.transform.view):"texture"in r?(u.J.copy(e,r.texture.bounds),e[0]-=r.texture.paddings[0],e[1]-=r.texture.paddings[1],e[2]+=2*r.texture.paddings[0],e[3]+=2*r.texture.paddings[1],u.J.apply(e,e,r.transform.view)):"filter"in r&&u.J.apply(e,r.filter.bounds,r.transform.view),u.J.union(t,t,e);return t}pushTransform(t,e){var r,i,n;const s=this.transformStack[this.transformStack.length-1],a={view:o.Ue(),colorAdd:l.Ue(),colorMul:l.Ue(),renderMask:null!==(r=null==e?void 0:e.renderMask)&&void 0!==r?r:s.renderMask,useMask:s.useMask.slice()};o.Jp(a.view,s.view,t),(0,c.fE)(a.colorMul,a.colorAdd,s.colorMul,s.colorAdd,null!==(i=null==e?void 0:e.colorMul)&&void 0!==i?i:f,null!==(n=null==e?void 0:e.colorAdd)&&void 0!==n?n:d),(null==e?void 0:e.useMask)&&a.useMask.push(e.useMask),this.transformStack.push(a),this.allTransforms.push(a)}dupTransform(){const t=this.transform,e={view:o.d9(t.view),colorAdd:l.d9(t.colorAdd),colorMul:l.d9(t.colorMul),renderMask:t.renderMask,useMask:t.useMask.slice()};this.transformStack.push(e),this.allTransforms.push(e)}popTransform(){this.transformStack.pop()}renderContext(t){const{view:e,colorMul:r,colorAdd:i}=this.transform;for(const n of t.allTransforms)o.Jp(n.view,e,n.view),(0,c.fE)(n.colorMul,n.colorAdd,r,i,n.colorMul,n.colorAdd),this.allTransforms.push(n);this.renders.push(...t.renders)}renderObject(t){this.renders.push({transform:this.transform,object:t})}renderCache(t,e,r,i){const n=o.U_(o.Ue(),r);o.Jp(n,n,this.transform.view),this.renders.push({transform:this.transform,cache:{view:n,texture:t,bounds:e,then:i}})}renderTexture(t,e,r,n){this.dupTransform();const s=this.transform.view;o.Iu(s,s,[t[0],t[1]]);const a=i.al(Math.abs(s[0]),Math.abs(s[3]));0!==a[0]&&0!==a[1]&&o.bA(s,s,[1/a[0],1/a[1]]),o.Iu(s,s,[-e[0],-e[1]]);const l=i.al((0,h.Sh)(s[4]),(0,h.Sh)(s[5]));s[4]=Math.floor(s[4]/h.JN)*h.JN,s[5]=Math.floor(s[5]/h.JN)*h.JN,this.renders.push({transform:this.transform,texture:{bounds:u.J.copy(u.J.create(),t),paddings:e,scale:a,translate:l,fn:r,then:n}}),this.popTransform()}renderFilter(t,e,r,i){this.renders.push({transform:this.transform,filter:{texture:t,bounds:e,instance:r,then:i}})}}class y{constructor(){this.listeners=[]}subscribe(t){this.listeners.push({disabled:!1,handler:t})}unsubscribe(t){for(const e of this.listeners)e.handler===t&&(e.disabled=!0);this.listeners=this.listeners.filter((t=>!t.disabled))}reset(){this.listeners=[]}emit(...t){for(const{disabled:e,handler:r}of this.listeners)e||r(...t)}}class v{constructor(t,e){this.canvas=t,this.attrs=e,this.resetRender=new y,this.maxTextures=1,this.textureLimit=16,this.maxSamples=0,this.sampleLimit=4,this.clearColor=l.al(NaN,NaN,NaN,NaN),this.viewport=l.al(NaN,NaN,NaN,NaN),this.bindings=new Map,this.textureUnits=new Map,this.activeTexture=NaN,this.vertexArray=null,this.program=null,this.capacity=NaN,this.blendEquation=[NaN,NaN],this.blendFuncs=[NaN,NaN,NaN,NaN],this.instances=new Map,this.onContextLost=t=>{t.preventDefault()},this.onContextRestored=t=>{t.preventDefault(),this.instances.clear(),this.resetRender.reset(),this.reset()};const r=t.getContext("webgl2",e);if(!r)throw new Error("Cannot create WebGL2 context");this.gl=r,t.addEventListener("webglcontextlost",this.onContextLost,!1),t.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.reset()}reset(){this.maxTextures=Math.min(this.textureLimit,this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)),this.maxSamples=Math.min(this.sampleLimit,this.gl.getParameter(this.gl.MAX_SAMPLES)),l.t8(this.clearColor,NaN,NaN,NaN,NaN),l.t8(this.viewport,NaN,NaN,NaN,NaN),this.bindings.clear(),this.textureUnits.clear(),this.activeTexture=NaN,this.vertexArray=null,this.program=null,this.capacity=NaN,this.blendEquation.fill(NaN),this.blendFuncs.fill(NaN)}dispose(){var t;this.resetRenderState(),null===(t=this.gl.getExtension("WEBGL_lose_context"))||void 0===t||t.loseContext(),this.canvas.removeEventListener("webglcontextlost",this.onContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.onContextRestored,!1)}resetRenderState(){this.reset(),this.resetRender.emit(this)}lookupInstance(t){return this.instances.get(t)}ensureInstance(t,e){let r=this.instances.get(t);return r||(r=e(this.gl),this.instances.set(t,r)),r}deleteInstance(t,e){let r=this.instances.get(t);r&&(e(this.gl,r),this.instances.delete(t))}bindTexture(t,e){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.textureUnits.set(t,e)}bindTextures(t){return t.map(((t,e)=>(this.bindTexture(e,t),e)))}bindBuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindBuffer(t,e),this.bindings.set(t,e))}bindVertexArray(t){this.vertexArray!==t&&(this.gl.bindVertexArray(t),this.vertexArray=t,this.bindings.clear())}bindRenderbuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindRenderbuffer(t,e),this.bindings.set(t,e))}bindFramebuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindFramebuffer(t,e),this.bindings.set(t,e),t===this.gl.FRAMEBUFFER?(this.bindings.set(this.gl.FRAMEBUFFER,e),this.bindings.set(this.gl.READ_FRAMEBUFFER,e),this.bindings.set(this.gl.DRAW_FRAMEBUFFER,e)):t===this.gl.READ_FRAMEBUFFER?(this.bindings.set(this.gl.FRAMEBUFFER,void 0),this.bindings.set(this.gl.READ_FRAMEBUFFER,e)):t===this.gl.DRAW_FRAMEBUFFER&&(this.bindings.set(this.gl.FRAMEBUFFER,void 0),this.bindings.set(this.gl.DRAW_FRAMEBUFFER,e)))}useProgram(t){this.program!==t&&(this.gl.useProgram(t),this.program=t)}setActiveTexture(t){this.activeTexture!==t&&(this.gl.activeTexture(t),this.activeTexture=t)}setClearColor(t,e,r,i){l.fS(this.clearColor,[t,e,r,i])||(this.gl.clearColor(t,e,r,i),l.t8(this.clearColor,t,e,r,i))}setViewport(t,e,r,i){l.fS(this.viewport,[t,e,r,i])||(this.gl.viewport(t,e,r,i),l.t8(this.viewport,t,e,r,i))}enable(t){(this.capacity|t)!==this.capacity&&(this.gl.enable(t),this.capacity|=t)}disable(t){(this.capacity&~t)!==this.capacity&&(this.gl.disable(t),this.capacity&=~t)}setBlendEquation(t,e=t){this.blendEquation[0]===t&&this.blendEquation[1]===e||(this.gl.blendEquationSeparate(t,e),this.blendEquation[0]=t,this.blendEquation[1]=e)}setBlendFunc(t,e,r=t,i=e){this.blendFuncs[0]===t&&this.blendFuncs[1]===e&&this.blendFuncs[2]===r&&this.blendFuncs[3]===i||(this.gl.blendFuncSeparate(t,e,r,i),this.blendFuncs[0]=t,this.blendFuncs[1]=e,this.blendFuncs[2]=r,this.blendFuncs[3]=i)}}var m=r(1552),g=r(970),b=r(7527),_=r(2106);class x{constructor(t,e,r,i=!0){this.type=r,this.allowMultisampling=i,this.onResetRender=t=>{this.delete(t)},this.width=t,this.height=e}ensure(t){return t.ensureInstance(this,(e=>{let r;switch(this.type){case"depth":r=e.DEPTH_COMPONENT16;break;case"rgba":r=e.RGBA8;break;case"rgb":r=e.RGB8}const i=e.createRenderbuffer();return t.bindRenderbuffer(e.RENDERBUFFER,i),t.maxSamples>0&&this.allowMultisampling?e.renderbufferStorageMultisample(e.RENDERBUFFER,t.maxSamples,r,this.width,this.height):e.renderbufferStorage(e.RENDERBUFFER,r,this.width,this.height),t.resetRender.subscribe(this.onResetRender),i}))}delete(t){t.deleteInstance(this,((e,r)=>{e.deleteRenderbuffer(r),t.resetRender.unsubscribe(this.onResetRender)}))}}class R{constructor(t){this.onResetRender=t=>{this.delete(t)},this.colorAttachment=t}ensure(t){return t.ensureInstance(this,(e=>{const r=this.colorAttachment.ensure(t),i=e.createFramebuffer();return t.bindFramebuffer(e.DRAW_FRAMEBUFFER,i),this.colorAttachment instanceof m.x?e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0):e.framebufferRenderbuffer(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r),t.resetRender.subscribe(this.onResetRender),i}))}delete(t){t.deleteInstance(this,((e,r)=>{e.deleteFramebuffer(r),t.resetRender.unsubscribe(this.onResetRender)}))}}class k{constructor(t){this.state=t,this.texturePool=new Map,this.renderbufferPool=new Map}takeTexture(t,e){const r=`${t}:${e}`,i=this.texturePool.get(r)||[];if(0===i.length){const r=m.x.size(t,e),n=new R(r);i.push({insertAt:+new Date,item:{texture:r,framebuffer:n}})}return i.pop().item}takeRenderbuffer(t,e){const r=`${t}:${e}`,i=this.renderbufferPool.get(r)||[];if(0===i.length){const r=new x(t,e,"rgba"),n=new R(r);i.push({insertAt:+new Date,item:{renderbuffer:r,framebuffer:n}})}return i.pop().item}returnTexture(t){const e=`${t.texture.width}:${t.texture.height}`,r=this.texturePool.get(e)||[];r.push({insertAt:+new Date,item:t}),this.texturePool.set(e,r)}returnRenderbuffer(t){const e=`${t.renderbuffer.width}:${t.renderbuffer.height}`,r=this.renderbufferPool.get(e)||[];r.push({insertAt:+new Date,item:t}),this.renderbufferPool.set(e,r)}cleanLRU(){const t=+new Date-6e4;for(const[e,r]of this.renderbufferPool){const i=r.filter((e=>e.insertAt<t));for(const{item:t}of i)t.renderbuffer.delete(this.state),t.framebuffer.delete(this.state);this.renderbufferPool.set(e,r.filter((t=>!i.includes(t))))}for(const[e,r]of this.texturePool){const i=r.filter((e=>e.insertAt<t));for(const{item:t}of i)t.texture.delete(this.state),t.framebuffer.delete(this.state);this.texturePool.set(e,r.filter((t=>!i.includes(t))))}}}class w{constructor(t,e){this.width=t,this.height=e,this.x=0,this.y=0,this.rowHeight=0}add(t,e){let r=this.x,i=this.y;return this.x+t>this.width&&(this.x=0,this.y+=this.rowHeight+1,this.rowHeight=0,r=this.x,i=this.y),this.x+=t,this.x>this.width?null:(this.x+=1,this.rowHeight=Math.max(this.rowHeight,e),this.y+this.rowHeight>this.height?null:u.J.fromValues(r,i,t,e))}}var E=r(2550),S=r(1645);class C{constructor(t,e,r,i){this.pool=t,this.target=e,this.view=r,this.bounds=i,this.returned=!1,this.renderObject=S.r.rect(i,e.texture,{scale:h.JN})}return(){this.returned||(this.pool.returnTexture(this.target),this.returned=!0)}}const L=524288,T=1024,M=u.J.create();function P(t){return t<128?128:t<256?256:t<512?512:t<1024?1024:Math.ceil(t)}o.Ue();class A{constructor(t){var e;this.canvas=t,this.textureMap=new Map,this.textureReturnBox=[],this.renderbufferReturnBox=[],this.indexData=new Uint16Array(L),this.attributeData=new ArrayBuffer(3670016),this.indices=g.l.index(this.indexData,"STREAM_DRAW"),this.attributes=g.l.vertex(new Uint32Array(this.attributeData),"STREAM_DRAW"),this.attrFloat=new Float32Array(this.attributeData,0),this.attrUint=new Uint32Array(this.attributeData,0),this.renderVertexArray=new _.F([{index:0,buffer:this.attributes,type:"float",components:4,offset:0,stride:56},{index:1,buffer:this.attributes,type:"byte",components:4,normalized:!0,offset:16,stride:56},{index:2,buffer:this.attributes,type:"float",components:4,offset:20,stride:56},{index:3,buffer:this.attributes,type:"float",components:4,offset:36,stride:56},{index:4,buffer:this.attributes,type:"byte",components:4,integer:!0,offset:52,stride:56}],this.indices),this.backgroundColor=0,this.glState=new v(t.element,{alpha:!1,premultipliedAlpha:!1,antialias:!1}),this.renderPool=new k(this.glState),this.renderProgram=new b.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aColor;\nlayout(location=2) in vec4 aColorMul;\nlayout(location=3) in vec4 aColorAdd;\nlayout(location=4) in uvec4 aMode;\n\nout vec2 vTextureCoords;\nout vec4 vColor;\nout vec4 vColorMul;\nout vec4 vColorAdd;\nflat out uvec4 vMode;\n\nvoid main(void) {\n    vec2 pos = aVertex.xy;\n    vec2 uv = aVertex.zw;\n    gl_Position = vec4(pos, 0.0, 1.0);\n\n    vTextureCoords = uv;\n    vColor = aColor;\n    vColorMul = aColorMul;\n    vColorAdd = aColorAdd;\n    vMode = aMode;\n}\n",`\n#version 300 es\nprecision highp float;\n\nin vec2 vTextureCoords;\nin vec4 vColor;\nin vec4 vColorMul;\nin vec4 vColorAdd;\nflat in uvec4 vMode;\nout vec4 fragColor;\n\nuniform sampler2D uTextures[${e=this.glState.maxTextures}];\n\nvec4 sampleTex(int id, vec2 coords) {\n  vec4 color;\n  ${new Array(e).fill(0).map(((t,e)=>`\n      if (id == ${e}) {\n        color = texture(uTextures[${e}], coords);\n      }\n      `)).join("\n")}\n  return color;\n}\n\nvec4 getTexel(int id, ivec2 coords) {\n  vec4 color;\n  ${new Array(e).fill(0).map(((t,e)=>`\n      if (id == ${e}) {\n        color = texelFetch(uTextures[${e}], coords, 0);\n      }\n      `)).join("\n")}\n  return color;\n}\n\nvoid main(void) {\n    int fillMode = int(vMode.x) % 4;\n    int texId = int(vMode.x) / 4;\n    int maskMode = int(vMode.y) % 4;\n    int maskTexId = int(vMode.y) / 4;\n    int maskID = int(vMode.z);\n\n    vec2 coords;\n    if (fillMode == 1) {\n        coords = vec2(vTextureCoords.x, 0.0);\n    } else if (fillMode == 2) {\n        coords = vec2(length(vTextureCoords * 2.0 - 1.0), 0.0);\n    } else {\n        coords = vTextureCoords;\n    }\n\n    vec4 tex = sampleTex(texId, coords);\n    vec4 color = (tex * vColor * vec4(vColorMul.rgb, 1.0)) * vColorMul.a;\n    color += vColorAdd * color.a;\n\n    if (maskMode == 1) {\n      color = vec4(float(maskID) / 255.0, 0.0, 0.0, 1.0);\n    } else if (maskMode == 2) {\n      vec4 mask = getTexel(maskTexId, ivec2(gl_FragCoord.xy));\n      if (maskID == int(mask.r * 255.0)) {\n        color = color * mask.a;\n      } else {\n        color = vec4(0.0);\n      }\n    }\n\n    color = trunc(color * 255.0) / 255.0;\n    fragColor = color;\n}\n`),this.textureUnits=new Int32Array(this.glState.maxTextures),this.renderProgram.ensure(this.glState),this.renderVertexArray.ensure(this.glState),this.defaultFramebuffer=new R(new x(t.element.width,t.element.height,"rgb")),this.resolvedFramebuffer=new R(new x(t.element.width,t.element.height,"rgb",!1))}renderFrame(t){const e=this.glState.gl,{width:r,height:i}=this.canvas;this.renderNode(t,this.defaultFramebuffer,r,i,(()=>{this.glState.setClearColor((this.backgroundColor>>>16&255)/255,(this.backgroundColor>>>8&255)/255,(this.backgroundColor>>>0&255)/255,1),e.clear(e.COLOR_BUFFER_BIT)}))}blitFrame(){if(this.glState.gl.isContextLost())return;const{width:t,height:e}=this.defaultFramebuffer.colorAttachment,r=this.glState.gl,i=this.defaultFramebuffer.ensure(this.glState),n=this.resolvedFramebuffer.ensure(this.glState);this.glState.bindFramebuffer(r.READ_FRAMEBUFFER,i),this.glState.bindFramebuffer(r.DRAW_FRAMEBUFFER,n),r.blitFramebuffer(0,0,t,e,0,0,t,e,r.COLOR_BUFFER_BIT,r.NEAREST),this.glState.bindFramebuffer(r.READ_FRAMEBUFFER,n),this.glState.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.blitFramebuffer(0,0,t,e,0,0,t,e,r.COLOR_BUFFER_BIT,r.NEAREST)}renderNode(t,e,r,i,n){if(this.glState.gl.isContextLost())return;const{width:s,height:a}=e.colorAttachment,l=u.J.fromValues(0,0,(0,h.E_)(s),(0,h.E_)(a)),c=new p(l);t.render(c);const f=(0,E.CJ)(o.Ue(),(0,h.E_)(r),(0,h.E_)(i),!0);this.textureReturnBox.length=0,this.renderbufferReturnBox.length=0;try{this.render(c.renders,e,f,n)}finally{for(const t of this.textureReturnBox)this.renderPool.returnTexture(t);for(const t of this.renderbufferReturnBox)this.renderPool.returnRenderbuffer(t);this.renderPool.cleanLRU()}}loadTexture(t){if(t instanceof m.x)return t;let e=this.textureMap.get(t);return e||(e=t?m.x.image(t):m.x.WHITE,this.textureMap.set(t,e)),e}render(t,e,r,i){const n=[],s=[],a=[],o=t=>{n.length=0,s.length=0,a.length=0;for(const e of t)"texture"in e?n.push(e):"filter"in e?s.push(e):"cache"in e&&a.push(e)};let l;o(t);do{for(l=!1;a.length>0;)this.renderCaches(t,a),l=!0,o(t);for(;n.length>0;)this.renderTextures(t,n),l=!0,o(t);for(;s.length>0;)this.renderFilters(t,s),l=!0,o(t)}while(l);this.renderObjects(t,e,r,i)}renderTextures(t,e){const r=this.glState.gl;let i=null,n=null;const s=new Map,a=()=>{if(!i||!n||0===s.size)return;const e=(0,E.CJ)(o.Ue(),(0,h.E_)(i.width),(0,h.E_)(i.height),!1),a=this.renderPool.takeTexture(i.width,i.height),l=this.renderPool.takeRenderbuffer(i.width,i.height);this.textureReturnBox.push(a),this.renderbufferReturnBox.push(l),this.render(n.renders,l.framebuffer,e,(()=>{this.glState.setClearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}));const u=l.framebuffer.ensure(this.glState),c=a.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(r.READ_FRAMEBUFFER,u),this.glState.bindFramebuffer(r.DRAW_FRAMEBUFFER,c),r.blitFramebuffer(0,0,i.width,i.height,0,0,i.width,i.height,r.COLOR_BUFFER_BIT,r.NEAREST);for(const[e,r]of s){const i=new p(null);i.transform=e.transform,e.texture.then(i,a.texture,r);const n=t.indexOf(e);t.splice(n,1,...i.renders)}};for(const t of e){const{bounds:e,paddings:r,scale:l,translate:u,fn:c}=t.texture,f=new p(null),d=o.vc(o.Ue(),[r[0]+(0,h.E_)(u[0]-Math.floor(u[0])),r[1]+(0,h.E_)(u[1]-Math.floor(u[1]))]);o.bA(d,d,l),o.Iu(d,d,[-e[0],-e[1]]),f.pushTransform(d),c(f),f.popTransform();const y=f.bounds,v=Math.ceil((0,h.Sh)(Math.abs(y[0])+y[2]+r[0])),m=Math.ceil((0,h.Sh)(Math.abs(y[1])+y[3]+r[1]));let g;i&&n&&(g=i.add(v,m))||(a(),i=new w(Math.max(T,P(v)),Math.max(T,P(m))),n=new p(null),s.clear(),g=i.add(v,m)),o.vc(d,[(0,h.E_)(g[0]),(0,h.E_)(g[1])]),n.pushTransform(d),n.renderContext(f),n.popTransform(),s.set(t,g)}a()}renderCaches(t,e){const r=this.glState.gl;for(const i of e){const{texture:e,bounds:n,view:s,then:a}=i.cache,o=P((0,h.Sh)(n[2])),l=P((0,h.Sh)(n[3])),c=this.renderPool.takeTexture(o,l),f=new R(e);try{const t=f.ensure(this.glState),e=c.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(r.READ_FRAMEBUFFER,t),this.glState.bindFramebuffer(r.DRAW_FRAMEBUFFER,e),r.blitFramebuffer(n[0],n[1],n[0]+n[2],n[1]+n[3],0,0,n[2],n[3],r.COLOR_BUFFER_BIT,r.NEAREST)}finally{f.delete(this.glState)}a(new C(this.renderPool,c,s,u.J.fromValues(0,0,n[2],n[3])));const d=t.indexOf(i);t.splice(d,1)}}renderFilters(t,e){let r=null,i=null;const n=new Map,s=()=>{if(!r||!i||0===n.size)return;const e=this.renderPool.takeTexture(r.width,r.height);this.textureReturnBox.push(e),i.apply(this,Array.from(n.values()),e);for(const[r,{outBounds:i}]of n){const n=new p(null);n.transform=r.transform,r.filter.then(n,e.texture,i);const s=t.indexOf(r);t.splice(s,1,...n.renders)}r=null,n.clear()},a=new Map;for(const t of e){const e=t.filter.instance.filter;let r=a.get(e);r||(r=[],a.set(e,r)),r.push(t)}for(const[t,e]of a){i=t;for(const t of e){const{texture:e,bounds:i,instance:a}=t.filter;let o;r&&(o=r.add(i[2],i[3]))||(s(),r=new w(Math.max(T,P(i[2])),Math.max(T,P(i[3]))),o=r.add(i[2],i[3]));const l={instance:a,texture:e,inBounds:i,outBounds:o};n.set(t,l)}s()}}renderObjects(t,e,r,i){var n,s;const a=this.glState.gl,{width:o,height:l}=e.colorAttachment;this.glState.setViewport(0,0,o,l);const c=[],h=[];try{const f=new Map,d=[];for(const e of t){if(!e.transform.renderMask){d.push(e);continue}const t=e.transform.renderMask,r=f.get(t);if(r)u.J.apply(M,e.object.bounds,e.transform.view),u.J.union(r.bounds,r.bounds,M),r.renders.push(e);else{const r=u.J.create();u.J.apply(r,e.object.bounds,e.transform.view),f.set(t,{renders:[e],bounds:r})}}const p=new Map,y=[];for(const[t,{bounds:e,renders:r}]of f){let i=null;for(const t of y){let r=!1;for(const i of t.bounds)if(u.J.intersects(i,e)){r=!0;break}if(!r&&t.nextID<256){i=t;break}}i||(i={target:this.renderPool.takeTexture(o,l),nextID:1,renders:[],bounds:[]},h.push(i.target),y.push(i));const n=i.nextID++;p.set(t,{texture:i.target.texture,id:n}),i.bounds.push(e);for(const t of r)i.renders.push({maskTex:null,maskID:n,render:t})}if(y.length>0){const t=this.renderPool.takeRenderbuffer(o,l);c.push(t);const e=t.framebuffer.ensure(this.glState);this.glState.setClearColor(0,0,0,0);for(const t of y){this.glState.bindFramebuffer(a.FRAMEBUFFER,e),a.clear(a.COLOR_BUFFER_BIT),this.doRenderObjects(t.renders,!0,r);const i=t.target.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(a.READ_FRAMEBUFFER,e),this.glState.bindFramebuffer(a.DRAW_FRAMEBUFFER,i),a.blitFramebuffer(0,0,o,l,0,0,o,l,a.COLOR_BUFFER_BIT,a.NEAREST)}}const v=e.ensure(this.glState);this.glState.bindFramebuffer(a.FRAMEBUFFER,v),i();const m=[];for(const t of d){const e=t.transform.useMask[t.transform.useMask.length-1],r=p.get(e);e&&!r||m.push({maskTex:null!==(n=null==r?void 0:r.texture)&&void 0!==n?n:null,maskID:null!==(s=null==r?void 0:r.id)&&void 0!==s?s:0,render:t})}this.doRenderObjects(m,!1,r)}finally{for(const t of c)this.renderPool.returnRenderbuffer(t);for(const t of h)this.renderPool.returnTexture(t)}}doRenderObjects(t,e,r){const i=this.glState.gl;this.glState.enable(i.BLEND),this.glState.setBlendEquation(i.FUNC_ADD),this.glState.setBlendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);const n=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5];let c=0,h=0;const f=[m.x.WHITE],d=()=>{if(0===h)return;this.indices.update(this.glState,0,h),this.attributes.update(this.glState,0,14*c);const t=this.glState.bindTextures(f.map((t=>t.ensure(this.glState))));this.textureUnits.fill(t[0]),this.textureUnits.set(t);const e=this.renderProgram.ensure(this.glState);this.renderProgram.uniform(this.glState,"uTextures[0]",this.textureUnits),this.glState.useProgram(e),this.renderVertexArray.bind(this.glState),i.drawElements(i.TRIANGLES,h,i.UNSIGNED_SHORT,0),c=0,h=0,f.length=1},p=this.indices.data,y=this.attrFloat,v=this.attrUint;for(const{render:r,maskTex:i,maskID:m}of t){const{kind:t,vertices:g,indices:b,uvMatrix:_,colors:x}=r.object,R=g.length/2,k=b.length;(c+R>=65536||h+k>=L)&&d();const{view:w,colorMul:E,colorAdd:S}=r.transform,C=this.loadTexture(r.object.texture);let T=f.indexOf(C),M=i?f.indexOf(i):-1;-1===T&&(f.length>=this.glState.maxTextures&&d(),T=f.push(C)-1),i&&-1===M&&(f.length>=this.glState.maxTextures&&(d(),T=f.push(C)-1),M=f.push(i)-1);for(let t=0;t<k;t++)p[h+t]=b[t]+c;const P=r.object.fillMode+4*T;let A=0;e?A=1:m>0&&(A=2+4*M);const D=65536*m+256*A+P,O="shape"===t,N=14*c,B=w[0],F=w[1],I=w[2],j=w[3],U=w[4],V=w[5],G=_[0],H=_[1],K=_[2],z=_[3],X=_[4],q=_[5],Y=E[0],W=E[1],J=E[2],Z=E[3],Q=S[0]/255,$=S[1]/255,tt=S[2]/255,et=S[3]/255;for(let t=0;t<R;t++){const e=g[2*t],r=g[2*t+1],i=x[t];let c=B*e+I*r+U,h=F*e+j*r+V;if(O){const t=Math.max(1,this.glState.maxSamples);c=Math.round(c*t)/t,h=Math.round(h*t)/t}y[N+14*t+0]=n*c+a*h+l,y[N+14*t+1]=s*c+o*h+u,y[N+14*t+2]=G*e+K*r+X,y[N+14*t+3]=H*e+z*r+q,v[N+14*t+4]=i,y[N+14*t+5]=Y,y[N+14*t+6]=W,y[N+14*t+7]=J,y[N+14*t+8]=Z,y[N+14*t+9]=Q,y[N+14*t+10]=$,y[N+14*t+11]=tt,y[N+14*t+12]=et,v[N+14*t+13]=D}c+=R,h+=k}d()}}class D{constructor(t){this.fps=t,this.onFrame=new y,this.onRender=new y,this.channel=new MessageChannel,this.lastTimestamp=0,this.needRender=!1,this._onFrame=()=>{try{this.onFrame.emit()}catch(t){console.error(t)}this.needRender=!0},this._onRender=t=>{const e=this.lastTimestamp;if(t-e>=this.targetMS&&(this.lastTimestamp=t-(t-e)%this.targetMS,this.channel.port2.postMessage(null)),this.needRender){try{this.onRender.emit()}catch(t){console.error(t)}this.needRender=!1}this.animationHandle=requestAnimationFrame(this._onRender)},this.targetMS=1e3/t}begin(){this.end(),this.channel.port1.onmessage=()=>{this._onFrame()},this.animationHandle=requestAnimationFrame(this._onRender)}end(){null!=this.animationHandle&&(cancelAnimationFrame(this.animationHandle),this.animationHandle=void 0),this.channel.port1.onmessage=null}}var O=r(6375),N=r(8281),B=r(570),F=r(1049),I=r(5723),j=r(8682),U=r(8433);const V=i.Ue();class G extends n._{constructor(t){super(),this.__audio=new O.e,this.__displayListDirty=!1,this.__displayList=[],this.__constructionQueue=[],this.__mousePosition=i.Ue(),this.__mouseOn=null,this.__mouseTrackTarget=null,this.focus=null,this.__quality="HIGH",this.__isDisposed=!1,this.__isActiveValue=!0,this.__onFrame=this.__withContext((()=>{this.__isActiveValue&&((0,U.E)(!0,this),this.__updateCursor())})),this.__doRender=this.__withContext((()=>{this.__isActiveValue&&(this.__onRender(),this.__renderer.renderFrame(this.__node),this.__renderer.blitFrame())})),this.__handleMouseEvent=this.__withContext((t=>{if(!this.__isActiveValue)return;this.__canvas.resolveCoords(this.__mousePosition,t.clientX,t.clientY);let e=this.__hitTestObject(this.__mousePosition);const r=(e,r)=>{if(!r)return;r.__globalToLocal(V,this.__mousePosition,!1);const i=new F.T(e,!0,!1);i.buttonDown=0!==t.buttons,i.localX=V[0],i.localY=V[1],i.stageX=this.__mousePosition[0],i.stageY=this.__mousePosition[1],r.dispatchEvent(i)};switch(this.__mouseTrackTarget&&(this.__mouseTrackTarget.stage!==this&&(this.__mouseTrackTarget=null),e=this.__mouseTrackTarget),"mouseleave"===t.type&&(e=null),this.__mouseOn!==e&&(r(F.T.MOUSE_OUT,this.__mouseOn),this.__mouseOn=e,r(F.T.MOUSE_OVER,this.__mouseOn)),t.type){case"mousemove":r(F.T.MOUSE_MOVE,this.__mouseOn);break;case"mousedown":r(F.T.MOUSE_DOWN,this.__mouseOn);break;case"mouseup":r(F.T.MOUSE_UP,this.__mouseOn);break;case"click":r(F.T.CLICK,this.__mouseOn)}})),this.__updateCursor=()=>{this.__mouseOn&&this.__isActiveValue?this.__canvas.cursor=this.__mouseOn.__isPointerCursor?"pointer":"default":this.__canvas.cursor="default"},this.__handleKeyboardEvent=this.__withContext((t=>{var e,r;if(!this.__isActiveValue)return;const i=null!==(e=j.N.codeMap[t.key])&&void 0!==e?e:j.N.codeMap[t.code];if(!i)return;let n;switch(t.type){case"keydown":n=new I._(I._.KEY_DOWN,!0,!1);break;case"keyup":n=new I._(I._.KEY_UP,!0,!1);break;default:return}n.keyCode=i,(null!==(r=this.focus)&&void 0!==r?r:this).dispatchEvent(n)})),this.__handleFocusEvent=this.__withContext((t=>{if(!this.__isActiveValue)return;let e;switch(t.type){case"blur":e=new N.j(N.j.DEACTIVATE,!0,!1);break;default:return}this.dispatchEvent(e)}));let e=60,r=0,n=600,s=400;t&&(({width:n,height:s,backgroundColor:r,fps:e}=t),n/=20,s/=20),this.__canvas=new a(n,s),this.__renderer=new A(this.__canvas),this.__renderer.backgroundColor=r,this.__ticker=new D(e),this.__ticker.onFrame.subscribe(this.__onFrame),this.__ticker.onRender.subscribe(this.__doRender),this.__ticker.begin();const o=this.__canvas.element;o.addEventListener("mouseenter",this.__handleMouseEvent),o.addEventListener("mousemove",this.__handleMouseEvent),o.addEventListener("mousedown",this.__handleMouseEvent),o.addEventListener("mouseup",this.__handleMouseEvent),o.addEventListener("mouseleave",this.__handleMouseEvent),o.addEventListener("click",this.__handleMouseEvent),o.addEventListener("keydown",this.__handleKeyboardEvent),o.addEventListener("keyup",this.__handleKeyboardEvent),o.addEventListener("blur",this.__handleFocusEvent)}get __isActive(){return this.__isActiveValue}set __isActive(t){if(this.__isDisposed)throw new Error("Stage is disposed");this.__isActiveValue!==t&&(this.__isActiveValue=t,t?this.__audio.context.resume():this.__audio.context.suspend(),this.__updateCursor())}get loaderInfo(){return{bytesTotal:100,bytesLoaded:100,url:window.location.href}}get stage(){return this}get quality(){return this.__quality}set quality(t){this.__quality!==t&&(this.__quality=t,"HIGH"===this.__quality?this.__renderer.glState.sampleLimit=4:this.__renderer.glState.sampleLimit=0,this.__renderer.glState.resetRenderState(),this.__onRender(),this.__renderer.renderFrame(this.__node))}__withContext(t){return(...e)=>{const r=G.__current,i=B.p.__eventContext;G.__current=this,B.p.__eventContext=this;try{return t(...e)}finally{G.__current=r,B.p.__eventContext=i}}}__dispose(){this.__isActive=!1,this.__audio.context.close(),this.__renderer.glState.dispose(),this.__ticker.end();const t=this.__canvas.element;t.removeEventListener("mouseenter",this.__handleMouseEvent),t.removeEventListener("mousemove",this.__handleMouseEvent),t.removeEventListener("mousedown",this.__handleMouseEvent),t.removeEventListener("mouseup",this.__handleMouseEvent),t.removeEventListener("mouseleave",this.__handleMouseEvent),t.removeEventListener("click",this.__handleMouseEvent),t.removeEventListener("keydown",this.__handleKeyboardEvent),t.removeEventListener("keyup",this.__handleKeyboardEvent),t.removeEventListener("blur",this.__handleFocusEvent),this.__isDisposed=!0}__hitTestObject(t){this.__node.ensureLayout();const e=r=>{if(!(r instanceof n._))return r;const i=r.__children;let a=!1;for(let r=i.length-1;r>=0;r--){const n=i[r];if(n.visible&&n.__node.hitTest(t,!1))if(n instanceof s.D){const t=e(n);if(t)return t}else a=!0}return a?r:null};return e(this)}__ensureDisplayList(){if(!this.__displayListDirty)return;this.__displayList.length=1,this.__displayList[0]=this;let t=0;for(;t<this.__displayList.length;){const e=this.__displayList[t].__node.children;for(let t=0;t<e.length;t++)e[t].object&&this.__displayList.push(e[t].object);t++}this.__displayListDirty=!1}}G.__current=null},8433:(t,e,r)=>{"use strict";r.d(e,{s:()=>a,E:()=>o});var i=r(8281),n=r(570);const s=[];function a(t){s.push(t)}function o(t,e){if(t){e.__ensureDisplayList();for(const t of e.__displayList.slice())t.__initFrame(e);n.p.__broadcastDispatcher.dispatchEvent(new i.j(i.j.ENTER_FRAME,!1,!1))}for(;e.__constructionQueue.length>0;){const t=e.__constructionQueue.slice();e.__constructionQueue.length=0;for(const e of t)e.__constructFrame()}const r=s.slice();s.length=0;for(const t of r)t()}},7760:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Bitmap:()=>E,BitmapData:()=>k,DisplayObject:()=>i.s,DisplayObjectContainer:()=>n._,InteractiveObject:()=>s.D,Loader:()=>S,MorphShape:()=>o.W,MovieClip:()=>u.K,Shape:()=>a.b,SimpleButton:()=>p,Sprite:()=>l.j,Stage:()=>c.H});var i=r(2640),n=r(581),s=r(8077),a=r(2738),o=r(2120),l=r(6300),u=r(3855),c=r(5511),h=r(2166),f=r(2741),d=r(1719);class p extends s.D{constructor(){var t,e;super(),this.__soundContext=new d.$,this.__state=h.B.Up,this.trackAsMenu=!1,this.useHandCursor=!0,this.__handleMouseEvent=t=>{var e,r;let i=this.__state,n=t.type!==f.MouseEvent.MOUSE_OUT&&t.buttonDown;i=t.type===f.MouseEvent.MOUSE_OUT?h.B.Up:t.buttonDown&&this.hitTestPoint(t.stageX,t.stageY)?h.B.Down:h.B.Over;const s=this.stage;if(this.__state!==i){const t=this.__state;this.__state=i,this.__node.buttonState=i,null===(e=this.__character)||void 0===e||e.instantiateState(this,i),null===(r=this.__character)||void 0===r||r.stateTransition(this,t,i),s&&(s.__displayListDirty=!0)}!this.trackAsMenu&&s&&(n?s.__mouseTrackTarget=this:s.__mouseTrackTarget===this&&(s.__mouseTrackTarget=null))},this.__state=h.B.Up,this.__states=[new i.s,new i.s,new i.s,new i.s];for(const t of this.__states)t.__node.setParent(this.__node,this.__node.children.length);this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this),this.__node.buttonState=this.__state,this.addEventListener(f.MouseEvent.MOUSE_OVER,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_OUT,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_DOWN,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_UP,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_MOVE,this.__handleMouseEvent)}get __activeState(){switch(this.__state){case h.B.Up:return this.upState;case h.B.Over:return this.overState;case h.B.Down:return this.downState}}get upState(){return this.__states[h.B.Up]}set upState(t){this.__states[h.B.Up].__node.setParent(null,0),this.__states[h.B.Up]=t,t.__node.setParent(this.__node,h.B.Up)}get overState(){return this.__states[h.B.Over]}set overState(t){this.__states[h.B.Over].__node.setParent(null,0),this.__states[h.B.Over]=t,t.__node.setParent(this.__node,h.B.Over)}get downState(){return this.__states[h.B.Down]}set downState(t){this.__states[h.B.Down].__node.setParent(null,0),this.__states[h.B.Down]=t,t.__node.setParent(this.__node,h.B.Down)}get hitTestState(){return this.__states[h.B.HitTest]}set hitTestState(t){this.__states[h.B.HitTest].__node.setParent(null,0),this.__states[h.B.HitTest]=t,t.__node.setParent(this.__node,h.B.HitTest)}get __isPointerCursor(){return this.useHandCursor||super.__isPointerCursor}}var y=r(2526),v=r(4945),m=r(7964),g=r(2942),b=r(230),_=r(8671),x=r(1645),R=r(8513);class k extends m.i{constructor(t,e,r=!0,i=4294967295){super(),this.width=t,this.height=e,this.transparent=r,this.fillColor=i,this.__root=new b.B(null),this.__needRender=!1,this.__needPixel=!1,this.__pixels=null,this.__target=null,this.__renderer=null,this.rect=new g.A(0,0,t,e)}draw(t,e,r,i){const n=t.__node.clone();n.visible=!0,e?y.JG(n.transformLocal,e.__value):y.yR(n.transformLocal),r?(v.JG(n.colorTransformLocalMul,r.__mul),v.JG(n.colorTransformLocalAdd,r.__add)):(v.t8(n.colorTransformLocalMul,1,1,1,1),v.t8(n.colorTransformLocalAdd,0,0,0,0)),n.setParent(this.__root,this.__root.children.length),this.__needRender=!0}colorTransform(t,e){this.__render();const r=this.__target;this.__target=null;try{const[i,n,s,a]=t.__rect,o=(t,i)=>{if(t[2]<=0||t[3]<=0)return;const n=new b.B(null);n.setRenderObjects([x.r.rect(t,r.texture,{invertY:!0,scale:R.JN})],_.J.fromValues(0,0,(0,R.E_)(t[2]),(0,R.E_)(t[3]))),y.vc(n.transformLocal,[(0,R.E_)(t[0]),(0,R.E_)(t[1])]),i&&(v.JG(n.colorTransformLocalMul,e.__mul),v.JG(n.colorTransformLocalAdd,e.__add)),n.setParent(this.__root,this.__root.children.length)};o(_.J.fromValues(0,0,this.width,n),!1),o(_.J.fromValues(0,n,i,a),!1),o(_.J.fromValues(i,n,s,a),!0),o(_.J.fromValues(i+s,n,this.width-(i+s),a),!1),o(_.J.fromValues(0,n+a,this.width,this.height-(n+a)),!1),this.__render()}finally{this.__renderer.renderPool.returnTexture(r)}}getPixel32(t,e){if(this.__render(),this.__needPixel||!this.__pixels){this.__pixels||(this.__pixels=new Uint32Array(this.width*this.height));const t=this.__renderer.glState,e=t.gl,r=this.__target.framebuffer.ensure(t);t.bindFramebuffer(e.READ_FRAMEBUFFER,r);const i=new Uint8Array(this.__pixels.buffer);e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,i),this.__needPixel=!1}const r=Math.floor(t),i=Math.floor(e);if(r<0||i<0||r>this.width||i>this.height)return 0;const n=r+(this.height-i)*this.width,s=this.__pixels[n];return 16777216*(s>>>24&255)+65536*(s>>>0&255)+256*(s>>>8&255)+1*(s>>>16&255)}lock(){}unlock(){}copyPixels(t,e,r){this.__render(),t.__render();const i=this.__renderer.glState,n=i.gl,s=t.__target,a=this.__target,o=e.x,l=this.height-e.y-e.height,u=r.x,c=this.height-r.y-e.height,h=s.framebuffer.ensure(i),f=a.framebuffer.ensure(i);i.bindFramebuffer(n.READ_FRAMEBUFFER,h),i.bindFramebuffer(n.DRAW_FRAMEBUFFER,f),n.blitFramebuffer(o,l,o+e.width,l+e.height,u,c,u+e.width,c+e.height,n.COLOR_BUFFER_BIT,n.NEAREST)}scroll(t,e){this.__render();const r=this.__target,i=this.__renderer;this.__target=i.renderPool.takeTexture(this.width,this.height);try{const n=r.framebuffer,s=this.__target.framebuffer,a=this.__renderer.glState,o=a.gl,l=n.ensure(a),u=s.ensure(a);a.bindFramebuffer(o.READ_FRAMEBUFFER,l),a.bindFramebuffer(o.DRAW_FRAMEBUFFER,u),o.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,o.COLOR_BUFFER_BIT,o.NEAREST),o.blitFramebuffer(0,0,this.width,this.height,t,-e,t+this.width,-e+this.height,o.COLOR_BUFFER_BIT,o.NEAREST)}finally{i.renderPool.returnTexture(r)}}dispose(){var t;this.__target&&(null===(t=this.__renderer)||void 0===t||t.renderPool.returnTexture(this.__target),this.__target=null),this.__needRender=!0}__render(){if(this.__target&&!this.__needRender)return;if(!this.__renderer){if(!c.H.__current)throw new Error("No stage in context");this.__renderer=c.H.__current.__renderer}let t=()=>{};if(!this.__target){const e=this.__renderer.glState;this.__target=this.__renderer.renderPool.takeTexture(this.width,this.height),t=()=>{e.setClearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT)}}const e=this.__renderer.renderPool.takeRenderbuffer(this.width,this.height);try{const r=this.__renderer.glState,i=r.gl;this.__renderer.renderNode(this.__root,e.framebuffer,this.width,this.height,t);const n=e.framebuffer.ensure(r),s=this.__target.framebuffer.ensure(r);r.bindFramebuffer(i.READ_FRAMEBUFFER,n),r.bindFramebuffer(i.DRAW_FRAMEBUFFER,s),i.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,i.COLOR_BUFFER_BIT,i.NEAREST),this.__root.onRemoveFromStage(),this.__root=new b.B(null),this.__needRender=!1,this.__needPixel=!0}finally{this.__renderer.renderPool.returnRenderbuffer(e)}}}var w=r(1552);class E extends i.s{constructor(t){super(),this.bitmapData=t;const{width:e,height:r}=this.bitmapData,i=_.J.fromValues(0,0,e,r);this.__node.setRenderObjects([x.r.rect(i,w.x.WHITE,{texWidth:e,texHeight:r,scale:R.JN,invertY:!0})],i)}__onRender(){super.__onRender(),this.bitmapData.__render(),this.bitmapData.__target&&(this.__node.renderObjects[0].texture=this.bitmapData.__target.texture)}}class S extends n._{}},8281:(t,e,r)=>{"use strict";r.d(e,{j:()=>i});class i{constructor(t,e=!1,r=!1){this.type=t,this.bubbles=e,this.cancelable=r}formatToString(t,...e){return`${t}(${e.map((t=>this[t])).join(", ")})`}}i.ENTER_FRAME="ENTER_FRAME",i.ADDED_TO_STAGE="ADDED_TO_STAGE",i.REMOVED_FROM_STAGE="REMOVED_FROM_STAGE",i.SOUND_COMPLETE="SOUND_COMPLETE",i.DEACTIVATE="DEACTIVATE"},570:(t,e,r)=>{"use strict";r.d(e,{p:()=>u});var i,n=r(7964),s=r(8281);const a=Symbol(),o=[s.j.ENTER_FRAME],l=new WeakMap;class u extends n.i{constructor(){super(...arguments),this[i]=!1,this.__eventParent=null,this.__captureListeners=new Map,this.__bubbleListeners=new Map,this.__dispatchEvent=(t,e)=>{let r;r=e?this.__captureListeners:this.__bubbleListeners;for(const{listener:e}of r.get(t.type)||[])e(t)}}static get __broadcastDispatcher(){if(!this.__eventContext)throw new Error("Event context not present");let t=l.get(this.__eventContext);return t||(t=new u,t[a]=!0,l.set(this.__eventContext,t)),t}__setEventParent(t){this.__eventParent=t}addEventListener(t,e,r=!1,i=0,n=!1){if(o.includes(t)&&!this[a])return void u.__broadcastDispatcher.addEventListener(t,e,r,i,n);let s;s=r?this.__captureListeners:this.__bubbleListeners;const l=s.get(t)||[];if(l.find((t=>t.listener===e)))return;const c=[...l,{priority:i,listener:e}];c.sort(((t,e)=>e.priority-t.priority)),s.set(t,c)}removeEventListener(t,e,r=!1,i=0,n=!1){if(o.includes(t)&&!this[a])return void u.__broadcastDispatcher.removeEventListener(t,e,r,i,n);let s;s=r?this.__captureListeners:this.__bubbleListeners;const l=s.get(t)||[],c=l.filter((t=>t.listener!==e));c.length!==l.length&&s.set(t,c)}dispatchEvent(t){if(t.target=this,!t.bubbles)return t.currentTarget=this,void this.__dispatchEvent(t,!1);const e=[this];let r=this;for(;r&&r.__eventParent;)r=r.__eventParent,e.push(r);for(let r=e.length-1;r>0;r--)t.currentTarget=e[r],e[r].__dispatchEvent(t,!0);for(let r=0;r<e.length;r++)t.currentTarget=e[r],e[r].__dispatchEvent(t,!1)}}i=a,u.__eventContext=null},5723:(t,e,r)=>{"use strict";r.d(e,{_:()=>n});var i=r(8281);class n extends i.j{constructor(){super(...arguments),this.keyCode=0}}n.KEY_DOWN="KEY_DOWN",n.KEY_UP="KEY_UP"},1049:(t,e,r)=>{"use strict";r.d(e,{T:()=>n});var i=r(8281);class n extends i.j{constructor(){super(...arguments),this.buttonDown=!1,this.localX=0,this.localY=0,this.stageX=0,this.stageY=0}}n.CLICK="click",n.MOUSE_DOWN="mouseDown",n.MOUSE_MOVE="mouseMove",n.MOUSE_OUT="mouseOut",n.MOUSE_OVER="mouseOver",n.MOUSE_UP="mouseUp"},2741:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ErrorEvent:()=>u,Event:()=>i.j,EventDispatcher:()=>n.p,FocusEvent:()=>f,IOErrorEvent:()=>c,KeyboardEvent:()=>o._,MouseEvent:()=>s.T,SecurityErrorEvent:()=>h,TextEvent:()=>l,TimerEvent:()=>a});var i=r(8281),n=r(570),s=r(1049);class a extends i.j{}var o=r(5723);class l extends i.j{constructor(){super(...arguments),this.text=""}}class u extends l{}class c extends u{}c.IO_ERROR="IO_ERROR";class h extends u{}h.SECURITY_ERROR="SECURITY_ERROR";class f extends i.j{}},9793:(t,e,r)=>{"use strict";r.d(e,{l:()=>i});class i{}},8051:(t,e,r)=>{"use strict";r.d(e,{T:()=>f});var i=r(9793),n=r(5543),s=r(1215),a=r(2526),o=r(2550);const l=a.Ue(),u=n.Ue(),c=n.Ue();class h{isEffective(t){return t.blurX>0||t.blurY>0}apply(t,e,r){const i=t.glState,a=i.gl,{width:h,height:f}=r.texture;(0,o.CJ)(l,h,f,!1),n.t8(c,1/h,1/f),i.setViewport(0,0,h,f),i.disable(a.BLEND),i.setClearColor(0,0,0,0);const d=t.renderPool.takeTexture(h,f),p=t.renderPool.takeTexture(h,f);try{const o=[];let h=0,f=null,y=null;const v=()=>{if(!f||!y)return;const t=(0,s.$_)(h),e=o.length;s.Qb.update(i,0,4*e*17);let n=d,l=p;for(let o=0;o<2*y;o++){let u=n,c=l.texture,h=o%2;0===o?(c=f,h+=2):o===2*y-1&&(u=r);const d=u.framebuffer.ensure(i);i.bindFramebuffer(a.FRAMEBUFFER,d);const p=t.ensure(i);s.BR.ensure(i),c.ensure(i),i.useProgram(p);const v=i.bindTextures([c.ensure(i)])[0];t.uniform(i,"uTexture",v),t.uniform(i,"uMode",h),s.BR.bind(i),a.drawElements(a.TRIANGLES,6*e,a.UNSIGNED_SHORT,0);let m=l;l=n,n=m}o.length=0,y=null,f=null};for(const t of e){t.texture===f&&t.instance.passes===y||(v(),f=t.texture,y=t.instance.passes,n.t8(u,1/f.width,1/f.height));const e=t.instance.blurX/2,r=t.instance.blurY/2;h=Math.max(h,e,r);let i=4*o.length*17;for(let a=0;a<4;a++){switch(s.t9[i+0]=e,s.t9[i+1]=r,a){case 0:s.t9[i+2]=t.outBounds[0]+t.outBounds[2],s.t9[i+3]=t.outBounds[1],s.t9[i+4]=t.inBounds[0]+t.inBounds[2],s.t9[i+5]=t.inBounds[1],s.t9[i+6]=t.outBounds[0]+t.outBounds[2],s.t9[i+7]=t.outBounds[1];break;case 1:s.t9[i+2]=t.outBounds[0],s.t9[i+3]=t.outBounds[1]+t.outBounds[3],s.t9[i+4]=t.inBounds[0],s.t9[i+5]=t.inBounds[1]+t.inBounds[3],s.t9[i+6]=t.outBounds[0],s.t9[i+7]=t.outBounds[1]+t.outBounds[3];break;case 2:s.t9[i+2]=t.outBounds[0],s.t9[i+3]=t.outBounds[1],s.t9[i+4]=t.inBounds[0],s.t9[i+5]=t.inBounds[1],s.t9[i+6]=t.outBounds[0],s.t9[i+7]=t.outBounds[1];break;case 3:s.t9[i+2]=t.outBounds[0]+t.outBounds[2],s.t9[i+3]=t.outBounds[1]+t.outBounds[3],s.t9[i+4]=t.inBounds[0]+t.inBounds[2],s.t9[i+5]=t.inBounds[1]+t.inBounds[3],s.t9[i+6]=t.outBounds[0]+t.outBounds[2],s.t9[i+7]=t.outBounds[1]+t.outBounds[3]}s.t9[i+8]=t.inBounds[0]+.5,s.t9[i+9]=t.inBounds[1]+.5,s.t9[i+10]=t.inBounds[0]+t.inBounds[2]-1.5,s.t9[i+11]=t.inBounds[1]+t.inBounds[3]-1.5,s.t9[i+12]=t.outBounds[0]+.5,s.t9[i+13]=t.outBounds[1]+.5,s.t9[i+14]=t.outBounds[0]+t.outBounds[2]-1.5,s.t9[i+15]=t.outBounds[1]+t.outBounds[3]-1.5;const o=s.t9.subarray(i+0,i+2),h=s.t9.subarray(i+2,i+4),f=s.t9.subarray(i+4,i+6),d=s.t9.subarray(i+6,i+8),p=s.t9.subarray(i+8,i+10),y=s.t9.subarray(i+10,i+12),v=s.t9.subarray(i+12,i+14),m=s.t9.subarray(i+14,i+16);n.dC(o,o,u),n.iu(h,h,l),n.dC(f,f,u),n.dC(p,p,u),n.dC(y,y,u),n.dC(d,d,c),n.dC(v,v,c),n.dC(m,m,c),i+=17}o.push(t)}v()}finally{t.renderPool.returnTexture(d),t.renderPool.returnTexture(p)}}}h.instance=new h;class f extends i.l{constructor(t=4,e=4,r=1){super(),this.blurX=t,this.blurY=e,this.quality=r}get __filter(){return{filter:h.instance,paddings:n.al(this.blurX,this.blurY),blurX:this.blurX,blurY:this.blurY,passes:this.quality}}}},3633:(t,e,r)=>{"use strict";r.d(e,{p:()=>a});var i=r(5543),n=r(9793),s=r(1788);class a extends n.l{constructor(){super(...arguments),this.blurX=0,this.blurY=0,this.quality=3,this.color=16777215,this.strength=1,this.angle=45,this.distance=4,this.knockout=!1,this.hideObject=!1,this.inner=!1}get __filter(){return{filter:s.p.instance,paddings:i.al(this.blurX+this.distance,this.blurY+this.distance),blurX:this.blurX,blurY:this.blurY,passes:this.quality,color:this.color,strength:this.strength,angle:this.angle*Math.PI/180,distance:this.distance,knockout:this.knockout}}}},1151:(t,e,r)=>{"use strict";r.d(e,{J:()=>n});var i=r(4945);class n{constructor(t=1,e=1,r=1,n=1,s=0,a=0,o=0,l=0){this.__node=null,this.__mul=i.al(t,e,r,n),this.__add=i.al(s,a,o,l)}get redMultiplier(){return this.__mul[0]}set redMultiplier(t){this.__mul[0]=t}get greenMultiplier(){return this.__mul[1]}set greenMultiplier(t){this.__mul[1]=t}get blueMultiplier(){return this.__mul[2]}set blueMultiplier(t){this.__mul[2]=t}get alphaMultiplier(){return this.__mul[3]}set alphaMultiplier(t){this.__mul[3]=t}get redOffset(){return this.__add[0]}set redOffset(t){this.__add[0]=t}get greenOffset(){return this.__add[1]}set greenOffset(t){this.__add[1]=t}get blueOffset(){return this.__add[2]}set blueOffset(t){this.__add[2]=t}get alphaOffset(){return this.__add[3]}set alphaOffset(t){this.__add[3]=t}__setNode(t){t?(i.JG(t.colorTransformLocalMul,this.__mul),i.JG(t.colorTransformLocalAdd,this.__add),this.__mul=t.colorTransformLocalMul,this.__add=t.colorTransformLocalAdd):(this.__mul=i.d9(this.__mul),this.__add=i.d9(this.__add)),this.__node=t}set color(t){this.__add[0]=t>>>16&255,this.__add[1]=t>>>8&255,this.__add[2]=t>>>0&255,this.__mul[0]=0,this.__mul[1]=0,this.__mul[2]=0}}},7562:(t,e,r)=>{"use strict";r.d(e,{y:()=>a});var i=r(2526),n=r(2550),s=r(8513);class a{constructor(t=1,e=0,r=0,n=1,s=0,a=0){this.__node=null,this.__value=i.al(t,e,r,n,s,a)}__setNode(t){t?(i.JG(t.transformLocal,this.__value),this.__value=t.transformLocal,this.__markDirty()):this.__value=i.d9(this.__value)}__markDirty(){var t,e;(null===(t=this.__node)||void 0===t?void 0:t.object)&&(this.__node.object.__scaleSkews=(0,n.q_)(this.__value)),null===(e=this.__node)||void 0===e||e.markLayoutDirty()}translate(t,e){this.__value[4]=(0,s.E_)((0,s.Sh)(this.__value[4])+t),this.__value[5]=(0,s.E_)((0,s.Sh)(this.__value[5])+e),this.__markDirty()}scale(t,e){this.__value[0]*=t,this.__value[1]*=e,this.__value[2]*=t,this.__value[3]*=e,this.__value[4]=(0,s.E_)((0,s.Sh)(this.__value[4])*t),this.__value[5]=(0,s.E_)((0,s.Sh)(this.__value[5])*e),this.__markDirty()}rotate(t){const e=this.__value[0],r=this.__value[1],i=this.__value[2],n=this.__value[3],a=this.__value[4],o=this.__value[5],l=Math.sin(t),u=Math.cos(t);this.__value[0]=e*l-r*u,this.__value[1]=e*u+r*l,this.__value[2]=i*l-n*u,this.__value[3]=i*u+n*l,this.__value[4]=(0,s.E_)((0,s.Sh)(a)*l-(0,s.Sh)(o)*u),this.__value[5]=(0,s.E_)((0,s.Sh)(a)*u+(0,s.Sh)(o)*l),this.__markDirty()}}},7069:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var i=r(5543);class n{constructor(t=0,e=0){this.__value=i.Ue(),i.t8(this.__value,t,e)}get x(){return this.__value[0]}set x(t){this.__value[0]=t}get y(){return this.__value[1]}set y(t){this.__value[1]=t}}},2942:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(8671);class n{constructor(t=0,e=0,r=0,n=0){this.__rect=i.J.fromValues(t,e,r,n)}get x(){return this.__rect[0]}set x(t){this.__rect[0]=t}get y(){return this.__rect[1]}set y(t){this.__rect[1]=t}get width(){return this.__rect[2]}set width(t){this.__rect[2]=t}get height(){return this.__rect[3]}set height(t){this.__rect[3]=t}equals(t){return i.J.equals(this.__rect,t.__rect)}}n.__empty=new n},8745:(t,e,r)=>{"use strict";r.d(e,{w:()=>s});var i=r(7562),n=r(1151);class s{constructor(){this.__node=null,this.__matrix=new i.y,this.__colorTransform=new n.J}__setNode(t){this.__node=t,this.matrix.__setNode(t),this.colorTransform.__setNode(t)}get matrix(){return this.__matrix}set matrix(t){this.__matrix.__setNode(null),this.__matrix=t,this.__matrix.__setNode(this.__node)}get colorTransform(){return this.__colorTransform}set colorTransform(t){this.__colorTransform.__setNode(null),this.__colorTransform=t,this.__colorTransform.__setNode(this.__node)}}},1719:(t,e,r)=>{"use strict";r.d(e,{$:()=>i});class i{constructor(){this.soundChannels=new Map}syncSound(t,e,r){var i;if((r.syncNoMultiple||r.syncStop)&&(null===(i=this.soundChannels.get(e))||void 0===i||i.stop(),this.soundChannels.delete(e)),r.syncStop)return;const n=t.instantiateCharacter(e);let s=0,a=1;null!=r.inPoint&&(s=r.inPoint/n.__character.audio.sampleRate*1e3),null!=r.loopCount&&(a=r.loopCount);const o=n.play(s,a);this.soundChannels.set(e,o)}stopSound(t){var e;null===(e=this.soundChannels.get(t))||void 0===e||e.stop()}}},23:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Sound:()=>l,SoundChannel:()=>s,SoundMixer:()=>u,SoundTransform:()=>a});var i=r(570),n=r(8281);class s extends i.p{constructor(t,e,r,i,s){super(),this.isStopped=!1,this.__context=t.__audio.context,this.__audioNode=this.__context.createBufferSource(),this.__volumeNode=this.__context.createGain(),this.__audioNode.buffer=e,this.__audioNode.connect(this.__volumeNode),this.__volumeNode.connect(t.__audio.rootNode),this.__soundTransform=r,this.__soundTransform.__source=this,this.__updateSoundTransform();const a=this.__context.currentTime;this.__beginTime=a-i,this.__duration=e.duration,this.__audioNode.loop=!0,this.__audioNode.loopStart=0,this.__audioNode.start(a,i),this.__audioNode.stop(this.__beginTime+Math.min(Math.max(1,s)*this.__duration,1e6)),this.__audioNode.onended=t.__withContext((()=>{this.__volumeNode.disconnect(),this.__audioNode.disconnect(),this.isStopped||this.dispatchEvent(new n.j(n.j.SOUND_COMPLETE,!1,!1)),this.__audioNode.onended=null}))}get soundTransform(){return this.__soundTransform}set soundTransform(t){this.__soundTransform.__source=null,this.__soundTransform=t,this.__soundTransform.__source=this,this.__updateSoundTransform()}get position(){return(this.__context.currentTime-this.__beginTime)%this.__duration*1e3}stop(){this.isStopped=!0,this.__audioNode.stop()}__updateSoundTransform(){this.__volumeNode.gain.setValueAtTime(this.__soundTransform.volume,this.__context.currentTime)}}class a{constructor(t=1){this.__source=null,this.__volume=t}get volume(){return this.__volume}set volume(t){var e;this.__volume=t,null===(e=this.__source)||void 0===e||e.__updateSoundTransform()}}var o=r(5511);class l extends i.p{constructor(){var t;super(),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null}get length(){var t,e;return 1e3*(null!==(e=null===(t=this.__character)||void 0===t?void 0:t.audio.duration)&&void 0!==e?e:0)}play(t=0,e=0,r=null){if(!this.__character)throw new Error("Sound character not exist");if(!o.H.__current)throw new Error("No stage in context");return new s(o.H.__current,this.__character.audio,null!=r?r:new a,t/1e3,e)}}class u{static get soundTransform(){return u.__soundTransform}static set soundTransform(t){u.__soundTransform.__source=null,u.__soundTransform=t,u.__soundTransform.__source=u,u.__updateSoundTransform()}static stopAll(){if(!o.H.__current)throw new Error("No stage in context");o.H.__current.__audio.reset(),u.__updateSoundTransform()}static __updateSoundTransform(){if(!o.H.__current)throw new Error("No stage in context");o.H.__current.__audio.rootNode.gain.setValueAtTime(this.soundTransform.volume,o.H.__current.__audio.context.currentTime)}}u.__soundTransform=new a},3441:(t,e,r)=>{"use strict";r.d(e,{V:()=>n});var i=r(2640);class n extends i.s{constructor(){var t,e;super(),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},7264:(t,e,r)=>{"use strict";r.d(e,{S:()=>n});var i=r(313);class n{constructor(){this.align=i.O.LEFT,this.bold=!1,this.italic=!1,this.color=0,this.font="Times New Roman",this.size=12,this.leading=0}__clone(){const t=new n;return t.align=this.align,t.bold=this.bold,t.italic=this.italic,t.color=this.color,t.font=this.font,t.size=this.size,t.leading=this.leading,t}}},313:(t,e,r)=>{"use strict";var i;r.d(e,{O:()=>i}),function(t){t.CENTER="center",t.END="end",t.JUSTIFY="justify",t.LEFT="left",t.RIGHT="right",t.START="start"}(i||(i={}))},2389:(t,e,r)=>{"use strict";r.r(e),r.d(e,{StaticText:()=>n.V,TextField:()=>l,TextFieldType:()=>i,TextFormat:()=>u.S,TextFormatAlign:()=>c.O});var i,n=r(3441),s=r(9956),a=r(230),o=r(8077);!function(t){t.DYNAMIC="dynamic",t.INPUT="input"}(i||(i={}));class l extends o.D{constructor(){var t,e;super(),this.__internalNode=new a.B(null),this.__container=new s.W(this.__internalNode),this.type=i.DYNAMIC,this.selectable=!0,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this),this.__internalNode.setParent(this.__node,0)}get wordWrap(){return this.__container.wordWrap}set wordWrap(t){this.__container.wordWrap=t}get multiline(){return this.__container.multiline}set multiline(t){this.__container.multiline=t}get defaultTextFormat(){return this.__container.defaultTextFormat}set defaultTextFormat(t){this.__container.defaultTextFormat=t}get textColor(){return this.__container.defaultTextFormat.color}set textColor(t){this.__container.defaultTextFormat.color=t}get text(){return this.__container.text}set text(t){this.__container.text=t}get htmlText(){return this.__container.htmlText}set htmlText(t){this.__container.htmlText=t}__onRender(){super.__onRender();const t=this.__node.transformWorld[0]/this.__node.transformWorld[3];t&&this.__container.layoutScale!==t&&(this.__container.layoutScale=t,this.__internalNode.transformLocal[0]=1/t,this.__container.layout())}}var u=r(7264),c=r(313)},8682:(t,e,r)=>{"use strict";r.d(e,{N:()=>i});class i{}i.NUMBER_0=48,i.NUMBER_1=49,i.NUMBER_2=50,i.NUMBER_3=51,i.NUMBER_4=52,i.NUMBER_5=53,i.NUMBER_6=54,i.NUMBER_7=55,i.NUMBER_8=56,i.NUMBER_9=57,i.A=65,i.B=66,i.C=67,i.D=68,i.E=69,i.F=70,i.G=71,i.H=72,i.I=73,i.J=74,i.K=75,i.L=76,i.M=77,i.N=78,i.O=79,i.P=80,i.Q=81,i.R=82,i.S=83,i.T=84,i.U=85,i.V=86,i.W=87,i.X=88,i.Y=89,i.Z=90,i.SEMICOLON=186,i.EQUAL=187,i.COMMA=188,i.MINUS=189,i.PERIOD=190,i.SLASH=191,i.BACKQUOTE=192,i.LEFTBRACKET=219,i.BACKSLASH=220,i.RIGHTBRACKET=221,i.QUOTE=222,i.ALTERNATE=18,i.BACKSPACE=8,i.CAPS_LOCK=20,i.COMMAND=15,i.CONTROL=17,i.DELETE=46,i.DOWN=40,i.END=35,i.ENTER=13,i.ESCAPE=27,i.F1=112,i.F2=113,i.F3=114,i.F4=115,i.F5=116,i.F6=117,i.F7=118,i.F8=119,i.F9=120,i.F10=121,i.F11=122,i.F12=123,i.F13=124,i.F14=125,i.F15=126,i.HOME=36,i.INSERT=45,i.LEFT=37,i.NUMPAD=21,i.NUMPAD_0=96,i.NUMPAD_1=97,i.NUMPAD_2=98,i.NUMPAD_3=99,i.NUMPAD_4=100,i.NUMPAD_5=101,i.NUMPAD_6=102,i.NUMPAD_7=103,i.NUMPAD_8=104,i.NUMPAD_9=105,i.NUMPAD_ADD=107,i.NUMPAD_DECIMAL=110,i.NUMPAD_DIVIDE=111,i.NUMPAD_ENTER=108,i.NUMPAD_MULTIPLY=106,i.NUMPAD_SUBTRACT=109,i.PAGE_DOWN=34,i.PAGE_UP=33,i.RIGHT=39,i.SHIFT=16,i.SPACE=32,i.TAB=9,i.UP=38,i.RED=16777216,i.GREEN=16777217,i.YELLOW=16777218,i.BLUE=16777219,i.CHANNEL_UP=16777220,i.CHANNEL_DOWN=16777221,i.RECORD=16777222,i.PLAY=16777223,i.PAUSE=16777224,i.STOP=16777225,i.FAST_FORWARD=16777226,i.REWIND=16777227,i.SKIP_FORWARD=16777228,i.SKIP_BACKWARD=16777229,i.NEXT=16777230,i.PREVIOUS=16777231,i.LIVE=16777232,i.LAST=16777233,i.MENU=16777234,i.INFO=16777235,i.GUIDE=16777236,i.EXIT=16777237,i.BACK=16777238,i.AUDIO=16777239,i.SUBTITLE=16777240,i.DVR=16777241,i.VOD=16777242,i.INPUT=16777243,i.SETUP=16777244,i.HELP=16777245,i.MASTER_SHELL=16777246,i.SEARCH=16777247,i.codeMap={Digit0:i.NUMBER_0,Digit1:i.NUMBER_1,Digit2:i.NUMBER_2,Digit3:i.NUMBER_3,Digit4:i.NUMBER_4,Digit5:i.NUMBER_5,Digit6:i.NUMBER_6,Digit7:i.NUMBER_7,Digit8:i.NUMBER_8,Digit9:i.NUMBER_9,KeyA:i.A,KeyB:i.B,KeyC:i.C,KeyD:i.D,KeyE:i.E,KeyF:i.F,KeyG:i.G,KeyH:i.H,KeyJ:i.J,KeyK:i.K,KeyL:i.L,KeyM:i.M,KeyN:i.N,KeyO:i.O,KeyP:i.P,KeyQ:i.Q,KeyR:i.R,KeyS:i.S,KeyT:i.T,KeyU:i.U,KeyV:i.V,KeyW:i.W,KeyX:i.X,KeyY:i.Y,KeyZ:i.Z,Semicolon:i.SEMICOLON,Equal:i.EQUAL,Comma:i.COMMA,Minus:i.MINUS,Period:i.PERIOD,Slash:i.SLASH,Backquote:i.BACKQUOTE,BracketLeft:i.LEFTBRACKET,Backslash:i.BACKSLASH,BracketRight:i.RIGHTBRACKET,Quote:i.QUOTE,AltLeft:i.ALTERNATE,AltRight:i.ALTERNATE,Backspace:i.BACKSPACE,CapsLock:i.CAPS_LOCK,ControlLeft:i.CONTROL,ControlRight:i.CONTROL,Delete:i.DELETE,ArrowDown:i.DOWN,End:i.END,Enter:i.ENTER,Escape:i.ESCAPE,F1:i.F1,F2:i.F2,F3:i.F3,F4:i.F4,F5:i.F5,F6:i.F6,F7:i.F7,F8:i.F8,F9:i.F9,F10:i.F10,F11:i.F11,F12:i.F12,F13:i.F13,F14:i.F14,F15:i.F15,Home:i.HOME,Insert:i.INSERT,ArrowLeft:i.LEFT,Numpad0:i.NUMPAD_0,Numpad1:i.NUMPAD_1,Numpad2:i.NUMPAD_2,Numpad3:i.NUMPAD_3,Numpad4:i.NUMPAD_4,Numpad5:i.NUMPAD_5,Numpad6:i.NUMPAD_6,Numpad7:i.NUMPAD_7,Numpad8:i.NUMPAD_8,Numpad9:i.NUMPAD_9,NumpadAdd:i.NUMPAD_ADD,NumpadDecimal:i.NUMPAD_DECIMAL,NumpadDivide:i.NUMPAD_DIVIDE,NumpadEnter:i.NUMPAD_ENTER,NumpadMultiply:i.NUMPAD_MULTIPLY,NumpadSubtract:i.NUMPAD_SUBTRACT,PageDown:i.PAGE_DOWN,PageUp:i.PAGE_UP,ArrowRight:i.RIGHT,ShiftLeft:i.SHIFT,ShiftRight:i.SHIFT,Space:i.SPACE,Tab:i.TAB,ArrowUp:i.UP}},6375:(t,e,r)=>{"use strict";r.d(e,{k:()=>n,e:()=>s});const i=new AudioContext;function n(t){return i.decodeAudioData(t)}class s{constructor(){this.context=new AudioContext,this.rootNode=this.context.createGain(),this.rootNode.connect(this.context.destination)}reset(){this.rootNode.disconnect(),this.rootNode=this.context.createGain(),this.rootNode.connect(this.context.destination)}}},2166:(t,e,r)=>{"use strict";r.d(e,{B:()=>i,p:()=>o});var i,n=r(6300),s=r(5950),a=r(843);!function(t){t[t.Up=0]="Up",t[t.Over=1]="Over",t[t.Down=2]="Down",t[t.HitTest=3]="HitTest"}(i||(i={}));class o{constructor(t,e,r){this.id=t,this.def=e,this.library=r}applyTo(t){this.instantiateState(t,i.Up),this.instantiateState(t,i.Over),this.instantiateState(t,i.Down),this.instantiateState(t,i.HitTest),t.trackAsMenu=this.def.trackAsMenu}instantiateState(t,e){const r=new n.j;let o;switch(e){case i.Up:o=t=>t.up;break;case i.Over:o=t=>t.over;break;case i.Down:o=t=>t.down;break;case i.HitTest:o=t=>t.hitTest}for(const t of this.def.characters)o(t)&&(0,a.WO)(this.library,r,{kind:s.z.PlaceObject,depth:t.depth,characterId:t.characterId,moveCharacter:!1,version:3,matrix:t.matrix,colorTransform:t.colorTransform,filters:t.filters,blendMode:t.blendMode});switch((0,a.PU)(r),e){case i.Up:t.upState=r;break;case i.Over:t.overState=r;break;case i.Down:t.downState=r;break;case i.HitTest:t.hitTestState=r}}stateTransition(t,e,r){let n;e===i.Over&&r===i.Up?n=this.def.overUpToIdle:e===i.Up&&r===i.Over?n=this.def.idleToOverUp:e===i.Over&&r===i.Down?n=this.def.overUpToOverDown:e===i.Down&&r===i.Over&&(n=this.def.idleToOverUp),n&&(0,a.jf)(this.library,t.__soundContext,{kind:s.z.StartSound,characterId:n.characterId,soundInfo:n.soundInfo})}}},843:(t,e,r)=>{"use strict";r.d(e,{WO:()=>h,Ff:()=>f,jf:()=>d,PU:()=>y});var i,n=r(2526),s=r(4945),a=r(2640),o=r(2120),l=r(8051),u=r(3633);!function(t){t[t.DropShadow=0]="DropShadow",t[t.Blur=1]="Blur"}(i||(i={}));var c=r(2550);function h(t,e,r){const i=e.__children;let o;if(r.characterId){let l=i.findIndex((t=>t.__depth>=r.depth)),u=null;if(-1===l)l=i.length;else if(i[l].__depth===r.depth){const t=i[l].__character;(null==t?void 0:t.id)===r.characterId?o=i[l]:(u=i[l],e.removeChildAt(l))}if(o)p(e,o,r,!r.moveCharacter);else{const{characterId:i,depth:o}=r;a.s.__initChar((()=>t.instantiateCharacter(i)),(t=>{var i,a;e.addChildAt(t,l),t.__depth=o,u&&(i=u,a=t,n.JG(a.__node.transformLocal,i.__node.transformLocal),a.__scaleSkews={...i.__scaleSkews},s.JG(a.__node.colorTransformLocalMul,i.__node.colorTransformLocalMul),s.JG(a.__node.colorTransformLocalAdd,i.__node.colorTransformLocalMul),a.__clipDepth=i.__clipDepth,a.name=i.name,a.filters=i.filters,a.cacheAsBitmap=i.cacheAsBitmap,a.visible=i.visible),p(e,t,r,!r.moveCharacter)}))}}else o=i.find((t=>t.__depth===r.depth)),o&&p(e,o,r,!1)}function f(t,e){const r=t.__children.findIndex((t=>t.__depth===e.depth));r<0||t.removeChildAt(r)}function d(t,e,r){e.syncSound(t,r.characterId,r.soundInfo)}function p(t,e,r,a){var h,f;if(null!=r.matrix?(n.JG(e.__node.transformLocal,r.matrix),e.__scaleSkews=(0,c.q_)(e.__node.transformLocal),e.__node.markLayoutDirty()):a&&(n.yR(e.__node.transformLocal),e.__scaleSkews=(0,c.q_)(e.__node.transformLocal),e.__node.markLayoutDirty()),null!=r.colorTransform?(s.JG(e.__node.colorTransformLocalMul,r.colorTransform.slice(0,4)),s.JG(e.__node.colorTransformLocalAdd,r.colorTransform.slice(4,8))):a&&(s.t8(e.__node.colorTransformLocalMul,1,1,1,1),s.t8(e.__node.colorTransformLocalAdd,0,0,0,0)),!(r.version<=1||(null!=r.clipDepth?e.__clipDepth=r.clipDepth:a&&(e.__clipDepth=-1),e instanceof o.W&&(null!=r.ratio?(e.__ratio=r.ratio,null===(h=e.__character)||void 0===h||h.applyTo(e)):a&&(e.__ratio=0,null===(f=e.__character)||void 0===f||f.applyTo(e))),null!=r.name&&(e.name=r.name,t[e.name]=e),r.version<=2))){if(null!=r.filters){const t=[];for(const e of r.filters)switch(e.id){case i.Blur:{const r=new l.T;r.blurX=e.blurX,r.blurY=e.blurY,r.quality=e.passes,t.push(r);break}case i.DropShadow:{const r=new u.p;r.color=e.color,r.blurX=e.blurX,r.blurY=e.blurY,r.angle=180*e.angle/Math.PI,r.distance=e.distance,r.strength=e.strength,r.inner=e.inner,r.knockout=e.knockout,r.quality=e.passes,t.push(r);break}}e.filters=t}else a&&(e.filters=[]);null!=r.cacheAsBitmap?e.cacheAsBitmap=r.cacheAsBitmap:a&&(e.cacheAsBitmap=!1),null!=r.visible?e.visible=r.visible:a&&(e.visible=!0)}}function y(t){const e=[];for(const r of t.__children)r.__clipDepth>=0&&e.push(r);for(const r of t.__children)for(const t of e)r.__depth>t.__depth&&r.__depth<=t.__clipDepth&&(r.mask=t)}},5355:(t,e,r)=>{"use strict";r.d(e,{u_:()=>n,K1:()=>s,fE:()=>a});var i=r(4945);function n(t){let e=t>>>24&255,r=t>>>16&255,i=t>>>8&255,n=t>>>0&255;const s=e/255;return r=255&Math.round(r*s),i=255&Math.round(i*s),n=255&Math.round(n*s),1*r+256*i+65536*n+16777216*e}function s(t,e){return t[0]=(e>>>0&255)/255,t[1]=(e>>>8&255)/255,t[2]=(e>>>16&255)/255,t[3]=(e>>>24&255)/255,t}function a(t,e,r,n,s,a){i.dC(t,s,r),i.dC(e,a,r),i.IH(e,e,n)}},2550:(t,e,r)=>{"use strict";r.d(e,{CJ:()=>n,lS:()=>s,q_:()=>a,qC:()=>o});var i=r(2526);function n(t,e,r,n){return i.yR(t),t[0]=2/e,t[3]=(n?-2:2)/r,t[4]=-1,t[5]=n?1:-1,t}function s(t){for(;t>180;)t-=360;for(;t<-180;)t+=360;return t}function a(t){const e=i.GH(t)<0?-1:1;return{scaleX:Math.sqrt(t[0]*t[0]+t[1]*t[1])*e,scaleY:Math.sqrt(t[2]*t[2]+t[3]*t[3])*e,skewX:Math.atan2(t[3],t[2])-Math.PI/2,skewY:Math.atan2(t[1],t[0])}}function o(t,e){const{skewX:r,skewY:i,scaleX:n,scaleY:s}=e;if(!(0!==r&&r!==2*Math.PI||0!==i&&i!==2*Math.PI)){const e=t[0]!==n||t[3]!==s;return t[0]=n,t[1]=0,t[2]=0,t[3]=s,e}const a=Math.cos(i)*n,o=Math.sin(i)*n,l=-Math.sin(r)*s,u=Math.cos(r)*s,c=t[0]!==a||t[1]!==o||t[2]!==l||t[3]!==u;return t[0]=a,t[1]=o,t[2]=l,t[3]=u,c}},8671:(t,e,r)=>{"use strict";r.d(e,{J:()=>s});var i=r(5543);const n=1e-6,s={create:()=>Float32Array.of(0,0,0,0),fromValues:(t,e,r,i)=>Float32Array.of(t,e,r,i),copy:(t,e)=>(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t),equals:(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3],intersects:(t,e)=>t[0]-(e[0]+e[2])<=n&&e[0]-(t[0]+t[2])<=n&&t[1]-(e[1]+e[3])<=n&&e[1]-(t[1]+t[3])<=n,contains:(t,e,r)=>e>=t[0]&&e<t[0]+t[2]&&r>=t[1]&&r<t[1]+t[3],clear:t=>(t[0]=0,t[1]=0,t[2]=0,t[3]=0,t),scale:(t,e,r)=>(t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t),translate:(t,e,r)=>(t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2],t[3]=e[3],t),union(t,e,r){0===e[2]||0===e[3]?s.copy(t,r):0!==r[2]&&0!==r[3]||s.copy(t,e);const i=Math.min(e[0],r[0]),n=Math.min(e[1],r[1]),a=Math.max(e[0]+e[2],r[0]+r[2]),o=Math.max(e[1]+e[3],r[1]+r[3]);return t[0]=i,t[1]=n,t[2]=a-i,t[3]=o-n,t},apply(t,e,r){const n=[0,0];let[s,a]=i.iu(n,[e[0],e[1]],r),o=s,l=a,u=s,c=a;return[s,a]=i.iu(n,[e[0]+e[2],e[1]],r),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),[s,a]=i.iu(n,[e[0],e[1]+e[3]],r),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),[s,a]=i.iu(n,[e[0]+e[2],e[1]+e[3]],r),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),t[0]=o,t[1]=l,t[2]=u-o,t[3]=c-l,t}}},1645:(t,e,r)=>{"use strict";r.d(e,{r:()=>o});var i=r(8671),n=r(2526),s=r(5543),a=r(1552);class o{constructor(t,e,r,i,n,s,a,o){this.kind=t,this.vertices=e,this.colors=r,this.indices=i,this.uvMatrix=n,this.texture=s,this.fillMode=a,this.bounds=o}static rect(t,e,r){const{invertY:i=!1,texWidth:s=e.width,texHeight:a=e.height,scale:l=1}=null!=r?r:{};t[2]*=l,t[3]*=l;const u=new Float32Array(8);u[0]=t[2],u[1]=0,u[2]=0,u[3]=t[3],u[4]=0,u[5]=0,u[6]=t[2],u[7]=t[3];const c=new Uint32Array(4);c.fill(4294967295);const h=new Uint16Array(6);h[0]=0,h[1]=1,h[2]=2,h[3]=1,h[4]=0,h[5]=3;const f=n.Ue();return n.bA(f,f,[1/s,1/a]),i&&(n.bA(f,f,[1,-1]),n.Iu(f,f,[0,-a])),n.Iu(f,f,[t[0],t[1]]),n.bA(f,f,[1/l,1/l]),new o("shape",u,c,h,f,e,0,t)}static line(t,e,r,s,l,u){const c=function(t,e,r,i){const n=r-t,s=i-e,a=Math.sqrt(n*n+s*s);return[-s/a,n/a]}(t,e,r,s),h=l/2,f=new Float32Array(8);f[0]=r-c[0]*h,f[1]=s-c[1]*h,f[2]=t+c[0]*h,f[3]=e+c[1]*h,f[4]=t-c[0]*h,f[5]=e-c[1]*h,f[6]=r+c[0]*h,f[7]=s+c[1]*h;const d=new Uint32Array(4);d.fill(u);const p=new Uint16Array(6);p[0]=0,p[1]=1,p[2]=2,p[3]=1,p[4]=0,p[5]=3;const y=n.Ue(),v=i.J.create();return v[0]=Math.min(t,r),v[1]=Math.min(e,s),v[2]=Math.max(t,r)-v[0],v[3]=Math.max(e,s)-v[1],new o("shape",f,d,p,y,a.x.WHITE,0,v)}hitTest(t,e,r){if(!r)return i.J.contains(this.bounds,t,e);const n=(r,i,n,s)=>(t-n)*(i-s)-(r-n)*(e-s),s=this.vertices,a=this.indices,o=a.length/3;for(let t=0;t<o;t++){const e=s[2*a[3*t+0]+0],r=s[2*a[3*t+0]+1],i=s[2*a[3*t+1]+0],o=s[2*a[3*t+1]+1],l=s[2*a[3*t+2]+0],u=s[2*a[3*t+2]+1],c=n(e,r,i,o),h=n(i,o,l,u),f=n(l,u,e,r),d=c>0||h>0||f>0;if(!(c<0||h<0||f<0)||!d)return!0}return!1}static merge(t,e){let r=0,i=0;const n=[],s=[];for(const a of e)i+a.renderObject.indices.length>=65536&&(s.push(l(t,n,r,i)),r=0,i=0,n.length=0),r+=a.renderObject.vertices.length/2,i+=a.renderObject.indices.length,n.push(a);return i>0&&s.push(l(t,n,r,i)),s}}function l(t,e,r,a){const l=new Float32Array(2*r),u=new Uint32Array(r),c=new Uint16Array(a),h=i.J.create();let f=0,d=0;for(const{renderObject:t,color:r,transform:n}of e){for(let e=0;e<t.vertices.length;e+=2){const r=l.subarray(2*f+e,2*f+e+2),i=t.vertices.subarray(e,e+2);s.iu(r,i,n)}null==r?u.set(t.colors,f):u.fill(r,f,f+t.colors.length),c.set(t.indices.map((t=>t+f)),d),i.J.union(h,h,i.J.apply(i.J.create(),t.bounds,n)),f+=t.vertices.length/2,d+=t.indices.length}return new o(t,l,u,c,n.yR(n.Ue()),null,0,h)}},230:(t,e,r)=>{"use strict";r.d(e,{B:()=>y});var i,n=r(2526),s=r(5543),a=r(4945),o=r(1645),l=r(8671),u=r(8513);!function(t){t[t.DirtyBounds=1]="DirtyBounds",t[t.DirtyTransform=2]="DirtyTransform",t[t.DirtyChildTransform=4]="DirtyChildTransform",t[t.DirtyRender=8]="DirtyRender",t[t.DirtyAll=15]="DirtyAll",t[t.IsRoot=128]="IsRoot"}(i||(i={}));const c=l.J.create(),h=l.J.create(),f=n.Ue(),d=n.Ue(),p=s.Ue();class y{constructor(t){this.object=t,this.flags=i.DirtyAll,this.parent=null,this.mask=null,this.children=[],this.visible=!0,this.isMask=!1,this.buttonState=-1,this.renderObjects=[],this.boundsIntrinsic=l.J.create(),this.cacheAsBitmap=!1,this.cachedRender=null,this.filters=[],this.transformLocal=n.Ue(),this.colorTransformLocalMul=a.al(1,1,1,1),this.colorTransformLocalAdd=a.al(0,0,0,0),this.boundsLocal=l.J.create(),this.boundsWorld=l.J.create(),this.transformRender=n.Ue(),this.transformWorld=n.Ue(),this.transformWorldInvert=n.Ue()}markRenderDirty(){let t=this;for(;t&&0==(t.flags&i.DirtyRender);)t.flags|=i.DirtyRender,t=t.parent}markLayoutDirty(t=!0){let e=this;for(;e;)e.flags|=i.DirtyBounds,e=e.parent;if(!t)return;for(e=this;e;)e.flags|=i.DirtyChildTransform,e=e.parent;const r=[this];for(;e=r.pop();){e.flags|=i.DirtyTransform|i.DirtyChildTransform;for(const t of e.children)r.push(t)}}ensureLayout(){const t=[this];let e;for(;e=t.pop();){if(e.parent&&0!=(e.parent.flags&i.DirtyTransform)){t.push(e.parent);continue}if(e.flags&i.DirtyChildTransform&&(t.push(...e.children),e.flags&=~i.DirtyChildTransform),0==(e.flags&i.DirtyTransform))continue;e.parent?(n.Jp(f,e.parent.transformWorld,e.transformLocal),n.Jp(d,e.parent.transformRender,e.transformLocal)):(n.JG(f,e.transformLocal),n.JG(d,e.transformLocal)),e.cacheAsBitmap&&n.yR(d);const r=!n.I6(f,e.transformWorld),s=!n.I6(d,e.transformRender);if(e.flags&=~i.DirtyTransform,r){n.JG(e.transformWorld,f),n.U_(e.transformWorldInvert,e.transformWorld),l.J.apply(e.boundsWorld,e.boundsLocal,e.transformWorld);let t=e.parent;for(;t;)t.flags|=i.DirtyBounds,t=t.parent;for(const t of e.children)t.flags|=i.DirtyTransform}if(s){n.JG(e.transformRender,d);let t=e;for(;t;)t.flags|=i.DirtyRender,t=t.parent}}for(t.push(this);e=t.pop();){if(0==(e.flags&i.DirtyBounds))continue;let r=!1;for(const n of e.children)0!=(n.flags&i.DirtyBounds)&&(r||(r=!0,t.push(e)),t.push(n));if(r)continue;l.J.copy(c,e.boundsIntrinsic);for(const t of e.children)l.J.apply(h,t.boundsLocal,t.transformLocal),l.J.union(c,c,h);const s=!l.J.equals(c,e.boundsLocal);e.flags&=~i.DirtyBounds,s&&(n.JG(e.boundsLocal,c),l.J.apply(e.boundsWorld,e.boundsLocal,e.transformWorld),e.parent&&(e.parent.flags|=i.DirtyBounds,t.push(e.parent)))}}setParent(t,e){if(this.parent!==t){if(this.parent){const t=this.parent.children.indexOf(this);this.parent.children.splice(t,1),this.parent.markLayoutDirty(!1)}this.parent=t,this.parent?this.parent.children.splice(e,0,this):0==(this.flags&i.IsRoot)&&this.onRemoveFromStage(),this.markLayoutDirty()}else if(t){const r=t.children.indexOf(this);t.children.splice(r,1),t.children.splice(e,0,this),t.markRenderDirty()}}setRenderObjects(t,e){this.renderObjects=t,l.J.copy(this.boundsIntrinsic,e),this.markLayoutDirty(!1)}render(t){this.ensureLayout(),this.renderRecursive(t)}renderRecursive(t){t.pushTransform(this.transformLocal,{colorMul:this.colorTransformLocalMul,colorAdd:this.colorTransformLocalAdd}),this.doRender(t),t.popTransform()}doRender(t){var e;if(this.visible&&(!this.isMask||t.transform.renderMask===this)&&(l.J.apply(c,this.boundsLocal,t.transform.view),!t.viewport||l.J.intersects(c,t.viewport))){if(this.cacheAsBitmap&&this.cachedRender&&0==(this.flags&i.DirtyRender))return t.pushTransform(this.cachedRender.view),t.renderObject(this.cachedRender.renderObject),void t.popTransform();this.flags&=~i.DirtyRender,null===(e=this.cachedRender)||void 0===e||e.return(),this.cachedRender=null,this.doRenderMask(t)}}doRenderMask(t){const e=this.mask;e&&(n.U_(f,this.transformWorld),n.Jp(f,f,e.transformWorld),t.pushTransform(f,{renderMask:e}),e.doRender(t),t.popTransform(),t.transform.useMask.push(e)),this.doRenderFilter(t)}doRenderFilter(t){if(this.cacheAsBitmap||this.filters.length>0){const e=s.Ue();for(const t of this.filters)s.Fp(e,e,t.paddings);e[0]=Math.ceil(e[0])*u.JN,e[1]=Math.ceil(e[1])*u.JN;const r=t.transform.view,i=this.filters.slice(),n=(t,e,s)=>{const a=i.shift();a?t.renderFilter(e,s,a,n):this.cacheAsBitmap?(t.renderCache(e,s,r,(t=>{this.cachedRender=t})),t.renderObject(o.r.rect(s,e,{scale:u.JN}))):t.renderObject(o.r.rect(s,e,{scale:u.JN}))};t.renderTexture(this.boundsLocal,e,(t=>this.doRenderContent(t)),n)}else this.doRenderContent(t)}doRenderContent(t){for(const e of this.renderObjects)t.renderObject(e);if(this.buttonState>=0)this.children[this.buttonState].render(t);else for(const e of this.children)e.renderRecursive(t)}onRemoveFromStage(){var t;null===(t=this.cachedRender)||void 0===t||t.return(),this.cachedRender=null;for(const t of this.children)t.onRemoveFromStage()}hitTest(t,e){if(this.buttonState>=0)return this.children[3].hitTest(t,!0);if(this.mask&&!this.mask.hitTest(t,e))return!1;if(!e)return this.ensureLayout(),p[0]=(0,u.E_)(t[0]),p[1]=(0,u.E_)(t[1]),s.iu(p,p,this.transformWorldInvert),l.J.contains(this.boundsLocal,p[0],p[1]);const r=[this];let i;for(;i=r.pop();){if(i.renderObjects.length>0&&(p[0]=(0,u.E_)(t[0]),p[1]=(0,u.E_)(t[1]),s.iu(p,p,i.transformWorldInvert),i.renderObjects.some((t=>t.hitTest(p[0],p[1],e)))))return!0;for(const t of i.children)r.push(t)}return!1}clone(){const t=new Map,e=r=>{let i=t.get(r);if(i)return i;i=new y(r.object),t.set(r,i),i.visible=r.visible,i.isMask=r.isMask,i.buttonState=r.buttonState,i.renderObjects=r.renderObjects.slice(),i.cacheAsBitmap=r.cacheAsBitmap,i.filters=r.filters.slice(),l.J.copy(i.boundsIntrinsic,r.boundsIntrinsic),n.JG(i.transformLocal,r.transformLocal),a.JG(i.colorTransformLocalMul,r.colorTransformLocalMul),a.JG(i.colorTransformLocalAdd,r.colorTransformLocalAdd),i.mask=r.mask&&e(r.mask);for(const t of r.children){const r=e(t);i.children.push(r),r.parent=i}return i};return e(this)}}},1788:(t,e,r)=>{"use strict";r.d(e,{p:()=>f});var i=r(2526),n=r(5543),s=r(4945),a=r(1215),o=r(2550),l=r(5355);const u=i.Ue(),c=n.Ue(),h=n.Ue();class f{isEffective(t){return t.blurX>0||t.blurY>0||t.distance>0}apply(t,e,r){const i=t.glState,f=i.gl,{width:d,height:p}=r.texture;(0,o.CJ)(u,d,p,!1),n.t8(h,1/d,1/p),i.setViewport(0,0,d,p),i.disable(f.BLEND),i.setClearColor(0,0,0,0);const y=t.renderPool.takeTexture(d,p),v=t.renderPool.takeTexture(d,p);try{const o=[];let d=0,p=null,m=null;const g=()=>{if(!p||!m)return;const t=(0,a.$_)(d),e=o.length;a.Qb.update(i,0,4*e*17);let u=y,c=v;for(let r=0;r<2*m;r++){let n=u,s=c.texture,o=r%2;0===r&&(s=p,o+=2);const l=n.framebuffer.ensure(i);i.bindFramebuffer(f.FRAMEBUFFER,l);const h=t.ensure(i);a.BR.ensure(i),i.useProgram(h);const d=i.bindTextures([s.ensure(i)])[0];t.uniform(i,"uTexture",d),t.uniform(i,"uMode",o),a.BR.bind(i),f.drawElements(f.TRIANGLES,6*e,f.UNSIGNED_SHORT,0);let y=c;c=u,u=y}for(let t=0;t<o.length;t++){const e=(0,l.K1)(s.Ue(),(0,l.u_)(o[t].instance.color));s.bA(e,e,o[t].instance.strength);const r=n.al(o[t].instance.distance,0);n.U1(r,r,[0,0],o[t].instance.angle),n.dC(r,r,h);let i=0;o[t].instance.knockout&&(i|=1);for(let n=0;n<4;n++){const s=17*(4*t+n);a.t9[s+0]=r[0],a.t9[s+1]=r[1],a.t9[s+8]=e[0],a.t9[s+9]=e[1],a.t9[s+10]=e[2],a.t9[s+11]=e[3],a.QF[s+16]=i}}a.Qb.update(i,0,4*e*17);const g=r.framebuffer.ensure(i);i.bindFramebuffer(f.FRAMEBUFFER,g);const b=a.wm.ensure(i);i.useProgram(b);const _=i.bindTextures([c.texture.ensure(i),p.ensure(i)]);a.wm.uniform(i,"uTextures[0]",_),f.drawElements(f.TRIANGLES,6*e,f.UNSIGNED_SHORT,0),o.length=0,m=null,p=null};for(const t of e){t.texture===p&&t.instance.passes===m||(g(),p=t.texture,m=t.instance.passes,d=0,n.t8(c,1/p.width,1/p.height));const e=t.instance.blurX/2,r=t.instance.blurY/2;d=Math.max(d,e,r);let i=4*o.length*17;for(let s=0;s<4;s++){switch(a.t9[i+0]=e,a.t9[i+1]=r,s){case 0:a.t9[i+2]=t.outBounds[0]+t.outBounds[2],a.t9[i+3]=t.outBounds[1],a.t9[i+4]=t.inBounds[0]+t.inBounds[2],a.t9[i+5]=t.inBounds[1],a.t9[i+6]=t.outBounds[0]+t.outBounds[2],a.t9[i+7]=t.outBounds[1];break;case 1:a.t9[i+2]=t.outBounds[0],a.t9[i+3]=t.outBounds[1]+t.outBounds[3],a.t9[i+4]=t.inBounds[0],a.t9[i+5]=t.inBounds[1]+t.inBounds[3],a.t9[i+6]=t.outBounds[0],a.t9[i+7]=t.outBounds[1]+t.outBounds[3];break;case 2:a.t9[i+2]=t.outBounds[0],a.t9[i+3]=t.outBounds[1],a.t9[i+4]=t.inBounds[0],a.t9[i+5]=t.inBounds[1],a.t9[i+6]=t.outBounds[0],a.t9[i+7]=t.outBounds[1];break;case 3:a.t9[i+2]=t.outBounds[0]+t.outBounds[2],a.t9[i+3]=t.outBounds[1]+t.outBounds[3],a.t9[i+4]=t.inBounds[0]+t.inBounds[2],a.t9[i+5]=t.inBounds[1]+t.inBounds[3],a.t9[i+6]=t.outBounds[0]+t.outBounds[2],a.t9[i+7]=t.outBounds[1]+t.outBounds[3]}a.t9[i+8]=t.inBounds[0]+.5,a.t9[i+9]=t.inBounds[1]+.5,a.t9[i+10]=t.inBounds[0]+t.inBounds[2]-1.5,a.t9[i+11]=t.inBounds[1]+t.inBounds[3]-1.5,a.t9[i+12]=t.outBounds[0]+.5,a.t9[i+13]=t.outBounds[1]+.5,a.t9[i+14]=t.outBounds[0]+t.outBounds[2]-1.5,a.t9[i+15]=t.outBounds[1]+t.outBounds[3]-1.5;const o=a.t9.subarray(i+0,i+2),l=a.t9.subarray(i+2,i+4),f=a.t9.subarray(i+4,i+6),d=a.t9.subarray(i+6,i+8),p=a.t9.subarray(i+8,i+10),y=a.t9.subarray(i+10,i+12),v=a.t9.subarray(i+12,i+14),m=a.t9.subarray(i+14,i+16);n.dC(o,o,c),n.iu(l,l,u),n.dC(f,f,c),n.dC(p,p,c),n.dC(y,y,c),n.dC(d,d,h),n.dC(v,v,h),n.dC(m,m,h),i+=17}o.push(t)}g()}finally{t.renderPool.returnTexture(y),t.renderPool.returnTexture(v)}}}f.instance=new f},1215:(t,e,r)=>{"use strict";r.d(e,{t9:()=>h,QF:()=>f,Qb:()=>d,$_:()=>o,wm:()=>l,BR:()=>p});var i=r(7527),n=r(970),s=r(2106);const a=new Map,o=t=>{const e=Math.max(1,Math.ceil(t/2));let r=a.get(e);return r||(r=new i.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aTexCoords;\nlayout(location=2) in vec4 aBoundsIn;\nlayout(location=3) in vec4 aBoundsOut;\nlayout(location=4) in uint x;\n\nout vec2 vTextureCoords;\nout vec2 vDelta;\nout vec4 vBounds;\n\nuniform uint uMode;\n\nvoid main(void) {\n    gl_Position = vec4(aVertex.zw, 0.0, 1.0);\n\n    vec2 delta;\n    vec2 texCoords;\n    vec4 bounds;\n    if (int(uMode) % 2 != 0) {\n      delta = aVertex.xy * vec2(1.0, 0.0);\n    } else {\n      delta = aVertex.xy * vec2(0.0, 1.0);\n    }\n    if (int(uMode) / 2 != 0) {\n      texCoords = aTexCoords.xy;\n      bounds = aBoundsIn;\n    } else {\n      texCoords = aTexCoords.zw;\n      bounds = aBoundsOut;\n    }\n\n    vTextureCoords = texCoords;\n    vDelta = delta;\n    vBounds = bounds;\n}\n",(t=>{const e=[0];for(let r=0;r<t;r++){const i=r+1;e.push(i/t),e.unshift(-i/t)}return`\n#version 300 es\nprecision highp float;\n\nin vec2 vTextureCoords;\nin vec2 vDelta;\nin vec4 vBounds;\n\nuniform sampler2D uTexture;\n\nout vec4 fragColor;\n\nvec4 sampleTex(float offset) {\n  vec2 coords = vTextureCoords + vDelta * offset;\n  coords = clamp(coords, vBounds.xy, vBounds.zw);\n  return texture(uTexture, coords);\n}\n\nvoid main(void) {\n  fragColor = vec4(0.0);\n  ${e.map((t=>`fragColor += sampleTex(${t.toFixed(20)}) * ${1/e.length};`)).join("\n")}\n}\n`})(e)),a.set(e,r)),r},l=new i.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aTexCoords;\nlayout(location=2) in vec4 aColor;\nlayout(location=3) in vec4 aBounds;\nlayout(location=4) in uint aMode;\n\nout vec2 vInTexCoords;\nout vec2 vOutTexCoords;\nout vec2 vDelta;\nout vec4 vBounds;\nout vec4 vColor;\nflat out uint vMode;\n\nvoid main(void) {\n    gl_Position = vec4(aVertex.zw, 0.0, 1.0);\n\n    vInTexCoords = aTexCoords.xy;\n    vOutTexCoords = aTexCoords.zw;\n    vDelta = aVertex.xy;\n    vBounds = aBounds;\n    vColor = aColor;\n    vMode = aMode;\n}\n","\n#version 300 es\nprecision highp float;\n\nin vec2 vInTexCoords;\nin vec2 vOutTexCoords;\nin vec2 vDelta;\nin vec4 vBounds;\nin vec4 vColor;\nflat in uint vMode;\n\nuniform sampler2D uTextures[2];\n\nout vec4 fragColor;\n\nvoid main(void) {\n  vec2 shadowCoords = clamp(vOutTexCoords - vDelta, vBounds.xy, vBounds.zw);\n  vec4 shadow = vColor * texture(uTextures[0], shadowCoords).a;\n  vec4 color = texture(uTextures[1], vInTexCoords);\n  if (int(vMode) % 2 != 0) {\n    fragColor = shadow * (1.0 - color.a);\n  } else {\n    fragColor = shadow * (1.0 - color.a) + color;\n  }\n}\n"),u=n.l.index(new Uint16Array(600),"STREAM_DRAW"),c=new ArrayBuffer(27200),h=new Float32Array(c),f=new Uint32Array(c),d=n.l.vertex(h,"STREAM_DRAW"),p=new s.F([{index:0,buffer:d,type:"float",components:4,offset:0,stride:68},{index:1,buffer:d,type:"float",components:4,offset:16,stride:68},{index:2,buffer:d,type:"float",components:4,offset:32,stride:68},{index:3,buffer:d,type:"float",components:4,offset:48,stride:68},{index:4,buffer:d,type:"uint",components:1,integer:!0,offset:64,stride:68}],u);for(let t=0;t<100;t++)u.data[6*t+0]=4*t+0,u.data[6*t+1]=4*t+1,u.data[6*t+2]=4*t+2,u.data[6*t+3]=4*t+1,u.data[6*t+4]=4*t+0,u.data[6*t+5]=4*t+3},970:(t,e,r)=>{"use strict";r.d(e,{l:()=>i});class i{constructor(t,e,r){this.binding=e,this.usage=r,this.data=t}get length(){return this.data.length}static index(t,e){return new i(t,"ELEMENT_ARRAY_BUFFER",e)}static vertex(t,e){return new i(t,"ARRAY_BUFFER",e)}ensure(t){return t.ensureInstance(this,(e=>{const r=e.createBuffer();return t.bindBuffer(e[this.binding],r),e.bufferData(e[this.binding],this.data,e[this.usage]),r}))}bind(t){const e=this.ensure(t);t.bindBuffer(t.gl[this.binding],e)}update(t,e,r){this.bind(t);const i=t.gl;return i.bufferSubData(i[this.binding],0,this.data,e,r),this}}},7527:(t,e,r)=>{"use strict";function i(t,e){if("number"==typeof t||"boolean"==typeof t){const r=new e(1);return r[0]=Number(t),r}if(Array.isArray(t))return e.from(t);if(t instanceof e)return t.slice();throw new Error("Invalid typed array value")}function n(t,e){if(!t||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}r.d(e,{$:()=>a});class s{constructor(t,e,r){this.value=null,this.state=t,this.name=e.name,this.type=e.type,this.size=e.size,this.location=r;const i=this.state.gl,n={[i.FLOAT]:{type:"float",components:1,setter:"uniform1fv"},[i.FLOAT_VEC2]:{type:"float",components:2,setter:"uniform2fv"},[i.FLOAT_VEC3]:{type:"float",components:3,setter:"uniform3fv"},[i.FLOAT_VEC4]:{type:"float",components:4,setter:"uniform4fv"},[i.INT]:{type:"int",components:1,setter:"uniform1iv"},[i.INT_VEC2]:{type:"int",components:2,setter:"uniform2iv"},[i.INT_VEC3]:{type:"int",components:3,setter:"uniform3iv"},[i.INT_VEC4]:{type:"int",components:4,setter:"uniform4iv"},[i.UNSIGNED_INT]:{type:"uint",components:1,setter:"uniform1uiv"},[i.UNSIGNED_INT_VEC2]:{type:"uint",components:2,setter:"uniform2uiv"},[i.UNSIGNED_INT_VEC3]:{type:"uint",components:3,setter:"uniform3uiv"},[i.UNSIGNED_INT_VEC4]:{type:"uint",components:4,setter:"uniform4uiv"},[i.BOOL]:{type:"bool",components:1,setter:"uniform1iv"},[i.BOOL_VEC2]:{type:"bool",components:2,setter:"uniform2iv"},[i.BOOL_VEC3]:{type:"bool",components:3,setter:"uniform3iv"},[i.BOOL_VEC4]:{type:"bool",components:4,setter:"uniform4iv"},[i.FLOAT_MAT2]:{type:"mat",components:4,setter:"uniformMatrix2fv"},[i.FLOAT_MAT3]:{type:"mat",components:9,setter:"uniformMatrix3fv"},[i.FLOAT_MAT4]:{type:"mat",components:16,setter:"uniformMatrix4fv"},[i.SAMPLER_2D]:{type:"bool",components:1,setter:"uniform1iv"}}[e.type];if(!n)throw new Error("Unsupported uniform type: "+e.type);this.typeDef=n}set(t,e){var r,s,a,o,l;switch(this.state.useProgram(t),this.typeDef.type){case"float":{const t=i(e,Float32Array);if(n(null!==(r=this.value)&&void 0!==r?r:new Float32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"int":case"bool":{const t=i(e,Int32Array);if(n(null!==(s=this.value)&&void 0!==s?s:new Int32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"uint":{const t=i(e,Uint32Array);if(n(null!==(a=this.value)&&void 0!==a?a:new Uint32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"mat":{const t=i(e,Float32Array);if(n(null!==(o=this.value)&&void 0!==o?o:new Float32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,!1,t),this.value=t;break}case"sampler2D":{const t=Array.isArray(e)?e.slice():[e];if(n(null!==(l=this.value)&&void 0!==l?l:[],t))return;this.state.gl[this.typeDef.setter](this.location,!1,t),this.value=t;break}}}}class a{constructor(t,e){this.vertexShader=t,this.fragmentShader=e}ensure(t){return this.doEnsure(t).program}doEnsure(t){return t.ensureInstance(this,(e=>{const r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,this.vertexShader.trim()),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Cannot compile vertex shader: "+t)}const i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,this.fragmentShader.trim()),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(i);throw e.deleteShader(i),new Error("Cannot compile fragment shader: "+t)}const n=e.createProgram();if(e.attachShader(n,r),e.attachShader(n,i),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const t=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error("Cannot link program: "+t)}const a=new Map,o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<o;++r){const i=e.getActiveUniform(n,r),o=e.getUniformLocation(n,i.name);a.set(i.name,new s(t,i,o))}return{program:n,uniforms:a}}))}uniform(t,e,r){const{program:i,uniforms:n}=this.doEnsure(t),s=n.get(e);s&&s.set(i,r)}}},1552:(t,e,r)=>{"use strict";r.d(e,{x:()=>i});class i{constructor(t){this.data=t,this.width=t.width,this.height=t.height}static image(t){return new i(t)}static size(t,e){return new i({width:t,height:e})}ensure(t){return t.ensureInstance(this,(e=>{const r=e.createTexture();return t.bindTexture(0,r),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.data instanceof HTMLElement?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.data):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),r}))}delete(t){t.deleteInstance(this,((t,e)=>{t.deleteTexture(e)}))}}i.WHITE=(()=>{const t=document.createElement("canvas");t.width=16,t.height=16;const e=t.getContext("2d");return e.fillStyle="#ffffff",e.fillRect(0,0,16,16),new i(t)})()},2106:(t,e,r)=>{"use strict";r.d(e,{F:()=>i});class i{constructor(t,e=null){this.indexBuffer=null,this.attributes=t,this.indexBuffer=e}ensure(t){return t.ensureInstance(this,(e=>{const r=e.createVertexArray();if(t.bindVertexArray(r),this.indexBuffer){const r=this.indexBuffer.ensure(t);t.bindBuffer(e[this.indexBuffer.binding],r)}for(const r of this.attributes){const{index:i,buffer:n,type:s,components:a,normalized:o=!1,stride:l=0,offset:u=0,integer:c=!1}=r;let h;switch(s){case"byte":h=e.UNSIGNED_BYTE;break;case"ushort":h=e.UNSIGNED_SHORT;break;case"uint":h=e.UNSIGNED_INT;break;case"float":h=e.FLOAT}const f=n.ensure(t);t.bindBuffer(e[n.binding],f),c?e.vertexAttribIPointer(i,a,h,l,u):e.vertexAttribPointer(i,a,h,o,l,u),e.enableVertexAttribArray(i)}return r}))}bind(t){var e;const r=this.ensure(t);t.bindVertexArray(r),null===(e=this.indexBuffer)||void 0===e||e.bind(t)}}},8513:(t,e,r)=>{"use strict";r.d(e,{JN:()=>i,Sh:()=>n,E_:()=>s});const i=20;function n(t){return t/i}function s(t){return Math.floor(t*i)}},3010:(t,e,r)=>{"use strict";r.d(e,{Ib:()=>i,WT:()=>n});var i=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2526:(t,e,r)=>{"use strict";r.d(e,{Ue:()=>n,d9:()=>s,JG:()=>a,yR:()=>o,al:()=>l,t8:()=>u,U_:()=>c,GH:()=>h,Jp:()=>f,bA:()=>d,Iu:()=>p,vc:()=>y,I6:()=>v});var i=r(3010);function n(){var t=new i.WT(6);return i.WT!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function s(t){var e=new i.WT(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function l(t,e,r,n,s,a){var o=new i.WT(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=s,o[5]=a,o}function u(t,e,r,i,n,s,a){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=s,t[5]=a,t}function c(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=r*s-i*n;return l?(l=1/l,t[0]=s*l,t[1]=-i*l,t[2]=-n*l,t[3]=r*l,t[4]=(n*o-s*a)*l,t[5]=(i*a-r*o)*l,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,r){var i=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=r[0],c=r[1],h=r[2],f=r[3],d=r[4],p=r[5];return t[0]=i*u+s*c,t[1]=n*u+a*c,t[2]=i*h+s*f,t[3]=n*h+a*f,t[4]=i*d+s*p+o,t[5]=n*d+a*p+l,t}function d(t,e,r){var i=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=r[0],c=r[1];return t[0]=i*u,t[1]=n*u,t[2]=s*c,t[3]=a*c,t[4]=o,t[5]=l,t}function p(t,e,r){var i=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=r[0],c=r[1];return t[0]=i,t[1]=n,t[2]=s,t[3]=a,t[4]=i*u+s*c+o,t[5]=n*u+a*c+l,t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function v(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}},5543:(t,e,r)=>{"use strict";r.d(e,{Ue:()=>n,al:()=>s,t8:()=>a,Fp:()=>o,iu:()=>l,U1:()=>u,dC:()=>c});var i=r(3010);function n(){var t=new i.WT(2);return i.WT!=Float32Array&&(t[0]=0,t[1]=0),t}function s(t,e){var r=new i.WT(2);return r[0]=t,r[1]=e,r}function a(t,e,r){return t[0]=e,t[1]=r,t}function o(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function l(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n+r[4],t[1]=r[1]*i+r[3]*n+r[5],t}function u(t,e,r,i){var n=e[0]-r[0],s=e[1]-r[1],a=Math.sin(i),o=Math.cos(i);return t[0]=n*o-s*a+r[0],t[1]=n*a+s*o+r[1],t}var c=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t};n()},4945:(t,e,r)=>{"use strict";r.d(e,{Ue:()=>n,d9:()=>s,al:()=>a,JG:()=>o,t8:()=>l,IH:()=>u,bA:()=>c,fS:()=>h,dC:()=>f});var i=r(3010);function n(){var t=new i.WT(4);return i.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function s(t){var e=new i.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,r,n){var s=new i.WT(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=n,s}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function l(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function h(t,e){var r=t[0],n=t[1],s=t[2],a=t[3],o=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(r-o)<=i.Ib*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-l)<=i.Ib*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-u)<=i.Ib*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=i.Ib*Math.max(1,Math.abs(a),Math.abs(c))}var f=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t};n()},4316:(t,e,r)=>{"use strict";var i={};(0,r(9034).assign)(i,r(6778),r(5354),r(549)),t.exports=i},6778:(t,e,r)=>{"use strict";var i=r(4349),n=r(9034),s=r(2511),a=r(4594),o=r(8755),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=i.deflateSetDictionary(this.strm,c)))throw new Error(a[r]);this._dict_set=!0}}function c(t,e){var r=new u(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(t,e){var r,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(u),o.next_out=0,o.avail_out=u),1!==(r=i.deflate(o,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===a?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),o.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},5354:(t,e,r)=>{"use strict";var i=r(3386),n=r(9034),s=r(2511),a=r(549),o=r(4594),l=r(8755),u=r(4673),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(o[r]);if(this.header=new u,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=i.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(o[r])}function f(t,e){var r=new h(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}h.prototype.push=function(t,e){var r,o,l,u,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,y=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(d),f.next_out=0,f.avail_out=d),(r=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===y&&(r=a.Z_OK,y=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,h=s.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&n.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},9034:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(i=0,e=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),n=0,e=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(r)},2511:(t,e,r)=>{"use strict";var i=r(9034),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,n,s,a,o=t.length,l=0;for(s=0;s<o;s++)55296==(64512&(r=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(l),a=0,s=0;a<l;s++)55296==(64512&(r=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,i,n,s,o=e||t.length,u=new Array(2*o);for(i=0,r=0;r<o;)if((n=t[r++])<128)u[i++]=n;else if((s=a[n])>4)u[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&r<o;)n=n<<6|63&t[r++],s--;s>1?u[i++]=65533:n<65536?u[i++]=n:(n-=65536,u[i++]=55296|n>>10&1023,u[i++]=56320|1023&n)}return l(u,i)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},1475:t=>{"use strict";t.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{s=s+(n=n+e[i++]|0)|0}while(--a);n%=65521,s%=65521}return n|s<<16|0}},549:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8621:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,i,n){var s=e,a=n+i;t^=-1;for(var o=n;o<a;o++)t=t>>>8^s[255&(t^r[o])];return-1^t}},4349:(t,e,r)=>{"use strict";var i,n=r(9034),s=r(376),a=r(1475),o=r(8621),l=r(4594),u=-2,c=258,h=262,f=103,d=113,p=666;function y(t,e){return t.msg=l[e],e}function v(t){return(t<<1)-(t>4?9:0)}function m(t){for(var e=t.length;--e>=0;)t[e]=0}function g(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function b(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function _(t,e){t.pending_buf[t.pending++]=e}function x(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function R(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,u=t.window,f=t.w_mask,d=t.prev,p=t.strstart+c,y=u[s+a-1],v=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===v&&u[r+a-1]===y&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<p);if(i=c-(p-s),s=p-c,i>a){if(t.match_start=e,a=i,i>=o)break;y=u[s+a-1],v=u[s+a]}}}while((e=d[e&f])>l&&0!=--n);return a<=t.lookahead?a:t.lookahead}function k(t){var e,r,i,s,l,u,c,f,d,p,y=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-h)){n.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=r=t.hash_size;do{i=t.head[--e],t.head[e]=i>=y?i-y:0}while(--r);e=r=y;do{i=t.prev[--e],t.prev[e]=i>=y?i-y:0}while(--r);s+=y}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,f=t.strstart+t.lookahead,d=s,p=void 0,(p=u.avail_in)>d&&(p=d),r=0===p?0:(u.avail_in-=p,n.arraySet(c,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=a(u.adler,c,p,f):2===u.state.wrap&&(u.adler=o(u.adler,c,p,f)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function w(t,e){for(var r,i;;){if(t.lookahead<h){if(k(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-h&&(t.match_length=R(t,r)),t.match_length>=3)if(i=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function E(t,e){for(var r,i,n;;){if(t.lookahead<h){if(k(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-h&&(t.match_length=R(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=s._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function S(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):y(t,u)}function T(t){var e,r=L(t);return 0===r&&((e=t.state).window_size=2*e.w_size,m(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function M(t,e,r,i,s,a){if(!t)return u;var o=1;if(-1===e&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>9||8!==r||i<8||i>15||e<0||e>9||a<0||a>4)return y(t,u);8===i&&(i=9);var l=new C;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=r,T(t)}i=[new S(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(k(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new S(4,4,8,4,w),new S(4,5,16,8,w),new S(4,6,32,32,w),new S(4,4,16,16,E),new S(8,16,32,32,E),new S(8,16,128,128,E),new S(8,32,128,256,E),new S(32,128,258,1024,E),new S(32,258,258,4096,E)],e.deflateInit=function(t,e){return M(t,e,8,15,8,0)},e.deflateInit2=M,e.deflateReset=T,e.deflateResetKeep=L,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},e.deflate=function(t,e){var r,n,a,l;if(!t||!t.state||e>5||e<0)return t?y(t,u):u;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===p&&4!==e)return y(t,0===t.avail_out?-5:u);if(n.strm=t,r=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,_(n,31),_(n,139),_(n,8),n.gzhead?(_(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),_(n,255&n.gzhead.time),_(n,n.gzhead.time>>8&255),_(n,n.gzhead.time>>16&255),_(n,n.gzhead.time>>24&255),_(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),_(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(_(n,255&n.gzhead.extra.length),_(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(_(n,0),_(n,0),_(n,0),_(n,0),_(n,0),_(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),_(n,3),n.status=d);else{var h=8+(n.w_bits-8<<4)<<8;h|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(h|=32),h+=31-h%31,n.status=d,x(n,h),0!==n.strstart&&(x(n,t.adler>>>16),x(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending!==n.pending_buf_size));)_(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,_(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,_(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.status=f)}else n.status=f;if(n.status===f&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&g(t),n.pending+2<=n.pending_buf_size&&(_(n,255&t.adler),_(n,t.adler>>8&255),t.adler=0,n.status=d)):n.status=d),0!==n.pending){if(g(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(r)&&4!==e)return y(t,-5);if(n.status===p&&0!==t.avail_in)return y(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&n.status!==p){var R=2===n.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(k(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var r,i,n,a,o=t.window;;){if(t.lookahead<=c){if(k(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=o[n=t.strstart-1])===o[++n]&&i===o[++n]&&i===o[++n]){a=t.strstart+c;do{}while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);t.match_length=c-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):i[n.level].func(n,e);if(3!==R&&4!==R||(n.status=p),1===R||3===R)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===R&&(1===e?s._tr_align(n):5!==e&&(s._tr_stored_block(n,0,0,!1),3===e&&(m(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),g(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(_(n,255&t.adler),_(n,t.adler>>8&255),_(n,t.adler>>16&255),_(n,t.adler>>24&255),_(n,255&t.total_in),_(n,t.total_in>>8&255),_(n,t.total_in>>16&255),_(n,t.total_in>>24&255)):(x(n,t.adler>>>16),x(n,65535&t.adler)),g(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==f&&e!==d&&e!==p?y(t,u):(t.state=null,e===d?y(t,-3):0):u},e.deflateSetDictionary=function(t,e){var r,i,s,o,l,c,h,f,d=e.length;if(!t||!t.state)return u;if(2===(o=(r=t.state).wrap)||1===o&&42!==r.status||r.lookahead)return u;for(1===o&&(t.adler=a(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===o&&(m(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new n.Buf8(r.w_size),n.arraySet(f,e,d-r.w_size,r.w_size,0),e=f,d=r.w_size),l=t.avail_in,c=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,k(r);r.lookahead>=3;){i=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--s);r.strstart=i,r.lookahead=2,k(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=c,t.input=h,t.avail_in=l,r.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},4673:t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},3394:t=>{"use strict";t.exports=function(t,e){var r,i,n,s,a,o,l,u,c,h,f,d,p,y,v,m,g,b,_,x,R,k,w,E,S;r=t.state,i=t.next_in,E=t.input,n=i+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,y=r.lencode,v=r.distcode,m=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;t:do{p<15&&(d+=E[i++]<<p,p+=8,d+=E[i++]<<p,p+=8),b=y[d&m];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))S[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=y[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}x=65535&b,(_&=15)&&(p<_&&(d+=E[i++]<<p,p+=8),x+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=E[i++]<<p,p+=8,d+=E[i++]<<p,p+=8),b=v[d&g];r:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(R=65535&b,p<(_&=15)&&(d+=E[i++]<<p,(p+=8)<_&&(d+=E[i++]<<p,p+=8)),(R+=d&(1<<_)-1)>l){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=_,p-=_,R>(_=s-a)){if((_=R-_)>c&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(k=0,w=f,0===h){if(k+=u-_,_<x){x-=_;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}}else if(h<_){if(k+=u+h-_,(_-=h)<x){x-=_;do{S[s++]=f[k++]}while(--_);if(k=0,h<x){x-=_=h;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}}}else if(k+=h-_,_<x){x-=_;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}for(;x>2;)S[s++]=w[k++],S[s++]=w[k++],S[s++]=w[k++],x-=3;x&&(S[s++]=w[k++],x>1&&(S[s++]=w[k++]))}else{k=s-R;do{S[s++]=S[k++],S[s++]=S[k++],S[s++]=S[k++],x-=3}while(x>2);x&&(S[s++]=S[k++],x>1&&(S[s++]=S[k++]))}break}}break}}while(i<n&&s<o);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},3386:(t,e,r)=>{"use strict";var i=r(9034),n=r(1475),s=r(8621),a=r(3394),o=r(598),l=-2,u=12,c=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):l}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):l}function y(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,p(t))):l}function v(t,e){var r,i;return t?(i=new f,t.state=i,i.window=null,0!==(r=y(t,e))&&(t.state=null),r):l}var m,g,b=!0;function _(t){if(b){var e;for(m=new i.Buf32(512),g=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,g,0,t.work,{bits:5}),b=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function x(t,e,r,n){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),n>=a.wsize?(i.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>n&&(s=n),i.arraySet(a.window,e,r-n,s,a.wnext),(n-=s)?(i.arraySet(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}e.inflateReset=p,e.inflateReset2=y,e.inflateResetKeep=d,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var r,f,d,p,y,v,m,g,b,R,k,w,E,S,C,L,T,M,P,A,D,O,N,B,F=0,I=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;(r=t.state).mode===u&&(r.mode=13),y=t.next_out,d=t.output,m=t.avail_out,p=t.next_in,f=t.input,v=t.avail_in,g=r.hold,b=r.bits,R=v,k=m,O=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(2&r.wrap&&35615===g){r.check=0,I[0]=255&g,I[1]=g>>>8&255,r.check=s(r.check,I,2,0),g=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",r.mode=c;break}if(8!=(15&g)){t.msg="unknown compression method",r.mode=c;break}if(b-=4,D=8+(15&(g>>>=4)),0===r.wbits)r.wbits=D;else if(D>r.wbits){t.msg="invalid window size",r.mode=c;break}r.dmax=1<<D,t.adler=r.check=1,r.mode=512&g?10:u,g=0,b=0;break;case 2:for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(r.flags=g,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=c;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=c;break}r.head&&(r.head.text=g>>8&1),512&r.flags&&(I[0]=255&g,I[1]=g>>>8&255,r.check=s(r.check,I,2,0)),g=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.head&&(r.head.time=g),512&r.flags&&(I[0]=255&g,I[1]=g>>>8&255,I[2]=g>>>16&255,I[3]=g>>>24&255,r.check=s(r.check,I,4,0)),g=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.head&&(r.head.xflags=255&g,r.head.os=g>>8),512&r.flags&&(I[0]=255&g,I[1]=g>>>8&255,r.check=s(r.check,I,2,0)),g=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.length=g,r.head&&(r.head.extra_len=g),512&r.flags&&(I[0]=255&g,I[1]=g>>>8&255,r.check=s(r.check,I,2,0)),g=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((w=r.length)>v&&(w=v),w&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,f,p,w,D)),512&r.flags&&(r.check=s(r.check,f,w,p)),v-=w,p+=w,r.length-=w),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===v)break t;w=0;do{D=f[p+w++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D))}while(D&&w<v);if(512&r.flags&&(r.check=s(r.check,f,w,p)),v-=w,p+=w,D)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===v)break t;w=0;do{D=f[p+w++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D))}while(D&&w<v);if(512&r.flags&&(r.check=s(r.check,f,w,p)),v-=w,p+=w,D)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g!==(65535&r.check)){t.msg="header crc mismatch",r.mode=c;break}g=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=u;break;case 10:for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}t.adler=r.check=h(g),g=0,b=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,r.hold=g,r.bits=b,2;t.adler=r.check=1,r.mode=u;case u:if(5===e||6===e)break t;case 13:if(r.last){g>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}switch(r.last=1&g,b-=1,3&(g>>>=1)){case 0:r.mode=14;break;case 1:if(_(r),r.mode=20,6===e){g>>>=2,b-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=c}g>>>=2,b-=2;break;case 14:for(g>>>=7&b,b-=7&b;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",r.mode=c;break}if(r.length=65535&g,g=0,b=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(w=r.length){if(w>v&&(w=v),w>m&&(w=m),0===w)break t;i.arraySet(d,f,p,w,y),v-=w,p+=w,m-=w,y+=w,r.length-=w;break}r.mode=u;break;case 17:for(;b<14;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(r.nlen=257+(31&g),g>>>=5,b-=5,r.ndist=1+(31&g),g>>>=5,b-=5,r.ncode=4+(15&g),g>>>=4,b-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=c;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.lens[j[r.have++]]=7&g,g>>>=3,b-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},O=o(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,O){t.msg="invalid code lengths set",r.mode=c;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;L=(F=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(T<16)g>>>=C,b-=C,r.lens[r.have++]=T;else{if(16===T){for(B=C+2;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g>>>=C,b-=C,0===r.have){t.msg="invalid bit length repeat",r.mode=c;break}D=r.lens[r.have-1],w=3+(3&g),g>>>=2,b-=2}else if(17===T){for(B=C+3;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}b-=C,D=0,w=3+(7&(g>>>=C)),g>>>=3,b-=3}else{for(B=C+7;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}b-=C,D=0,w=11+(127&(g>>>=C)),g>>>=7,b-=7}if(r.have+w>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=c;break}for(;w--;)r.lens[r.have++]=D}}if(r.mode===c)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=c;break}if(r.lenbits=9,N={bits:r.lenbits},O=o(1,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,O){t.msg="invalid literal/lengths set",r.mode=c;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},O=o(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,O){t.msg="invalid distances set",r.mode=c;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(v>=6&&m>=258){t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,r.hold=g,r.bits=b,a(t,k),y=t.next_out,d=t.output,m=t.avail_out,p=t.next_in,f=t.input,v=t.avail_in,g=r.hold,b=r.bits,r.mode===u&&(r.back=-1);break}for(r.back=0;L=(F=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(L&&0==(240&L)){for(M=C,P=L,A=T;L=(F=r.lencode[A+((g&(1<<M+P)-1)>>M)])>>>16&255,T=65535&F,!(M+(C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}g>>>=M,b-=M,r.back+=M}if(g>>>=C,b-=C,r.back+=C,r.length=T,0===L){r.mode=26;break}if(32&L){r.back=-1,r.mode=u;break}if(64&L){t.msg="invalid literal/length code",r.mode=c;break}r.extra=15&L,r.mode=22;case 22:if(r.extra){for(B=r.extra;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;L=(F=r.distcode[g&(1<<r.distbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(0==(240&L)){for(M=C,P=L,A=T;L=(F=r.distcode[A+((g&(1<<M+P)-1)>>M)])>>>16&255,T=65535&F,!(M+(C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}g>>>=M,b-=M,r.back+=M}if(g>>>=C,b-=C,r.back+=C,64&L){t.msg="invalid distance code",r.mode=c;break}r.offset=T,r.extra=15&L,r.mode=24;case 24:if(r.extra){for(B=r.extra;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=c;break}r.mode=25;case 25:if(0===m)break t;if(w=k-m,r.offset>w){if((w=r.offset-w)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=c;break}w>r.wnext?(w-=r.wnext,E=r.wsize-w):E=r.wnext-w,w>r.length&&(w=r.length),S=r.window}else S=d,E=y-r.offset,w=r.length;w>m&&(w=m),m-=w,r.length-=w;do{d[y++]=S[E++]}while(--w);0===r.length&&(r.mode=21);break;case 26:if(0===m)break t;d[y++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===v)break t;v--,g|=f[p++]<<b,b+=8}if(k-=m,t.total_out+=k,r.total+=k,k&&(t.adler=r.check=r.flags?s(r.check,d,k,y-k):n(r.check,d,k,y-k)),k=m,(r.flags?g:h(g))!==r.check){t.msg="incorrect data check",r.mode=c;break}g=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=c;break}g=0,b=0}r.mode=29;case 29:O=1;break t;case c:O=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,r.hold=g,r.bits=b,(r.wsize||k!==t.avail_out&&r.mode<c&&(r.mode<27||4!==e))&&x(t,t.output,t.next_out,k-t.avail_out)?(r.mode=31,-4):(R-=t.avail_in,k-=t.avail_out,t.total_in+=R,t.total_out+=k,r.total+=k,r.wrap&&k&&(t.adler=r.check=r.flags?s(r.check,d,k,t.next_out-k):n(r.check,d,k,t.next_out-k)),t.data_type=r.bits+(r.last?64:0)+(r.mode===u?128:0)+(20===r.mode||15===r.mode?256:0),(0===R&&0===k||4===e)&&0===O&&(O=-5),O)},e.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?l:(r.head=e,e.done=!1,0):l},e.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?l:11===r.mode&&n(1,e,i,0)!==r.check?-3:x(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,0):l},e.inflateInfo="pako inflate (from Nodeca project)"},598:(t,e,r)=>{"use strict";var i=r(9034),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,l,u,c,h,f){var d,p,y,v,m,g,b,_,x,R=f.bits,k=0,w=0,E=0,S=0,C=0,L=0,T=0,M=0,P=0,A=0,D=null,O=0,N=new i.Buf16(16),B=new i.Buf16(16),F=null,I=0;for(k=0;k<=15;k++)N[k]=0;for(w=0;w<l;w++)N[e[r+w]]++;for(C=R,S=15;S>=1&&0===N[S];S--);if(C>S&&(C=S),0===S)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(E=1;E<S&&0===N[E];E++);for(C<E&&(C=E),M=1,k=1;k<=15;k++)if(M<<=1,(M-=N[k])<0)return-1;if(M>0&&(0===t||1!==S))return-1;for(B[1]=0,k=1;k<15;k++)B[k+1]=B[k]+N[k];for(w=0;w<l;w++)0!==e[r+w]&&(h[B[e[r+w]]++]=w);if(0===t?(D=F=h,g=19):1===t?(D=n,O-=257,F=s,I-=257,g=256):(D=a,F=o,g=-1),A=0,w=0,k=E,m=c,L=C,T=0,y=-1,v=(P=1<<C)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){b=k-T,h[w]<g?(_=0,x=h[w]):h[w]>g?(_=F[I+h[w]],x=D[O+h[w]]):(_=96,x=0),d=1<<k-T,E=p=1<<L;do{u[m+(A>>T)+(p-=d)]=b<<24|_<<16|x|0}while(0!==p);for(d=1<<k-1;A&d;)d>>=1;if(0!==d?(A&=d-1,A+=d):A=0,w++,0==--N[k]){if(k===S)break;k=e[r+h[w]]}if(k>C&&(A&v)!==y){for(0===T&&(T=C),m+=E,M=1<<(L=k-T);L+T<S&&!((M-=N[L+T])<=0);)L++,M<<=1;if(P+=1<<L,1===t&&P>852||2===t&&P>592)return 1;u[y=A&v]=C<<24|L<<16|m-c|0}}return 0!==A&&(u[m+A]=k-T<<24|64<<16|0),f.bits=C,0}},4594:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},376:(t,e,r)=>{"use strict";var i=r(9034);function n(t){for(var e=t.length;--e>=0;)t[e]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);n(u);var c=new Array(60);n(c);var h=new Array(512);n(h);var f=new Array(256);n(f);var d=new Array(29);n(d);var p,y,v,m=new Array(30);function g(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function R(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function k(t,e,r){R(t,r[2*e],r[2*e+1])}function w(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function E(t,e,r){var i,n,s=new Array(16),a=0;for(i=1;i<=15;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=w(s[o]++,o))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function C(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function L(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function T(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&L(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!L(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function M(t,e,r){var i,n,o,l,u=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],n=t.pending_buf[t.l_buf+u],u++,0===i?k(t,n,e):(k(t,(o=f[n])+256+1,e),0!==(l=s[o])&&R(t,n-=d[o],l),k(t,o=_(--i),r),0!==(l=a[o])&&R(t,i-=m[o],l))}while(u<t.last_lit);k(t,256,e)}function P(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<l;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)T(t,s,r);n=l;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,T(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,y=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(s=l[2*l[2*(i=t.heap[r])+1]+1]+1)>p&&(s=p,y++),l[2*i+1]=s,i>u||(t.bl_count[s]++,a=0,i>=d&&(a=f[i-d]),o=l[2*i],t.opt_len+=o*(s+a),h&&(t.static_len+=o*(c[2*i+1]+a)));if(0!==y){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,y-=2}while(y>0);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)(n=t.heap[--r])>u||(l[2*n+1]!==s&&(t.opt_len+=(s-l[2*n+1])*l[2*n],l[2*n+1]=s),i--)}}(t,e),E(s,u,t.bl_count)}function A(t,e,r){var i,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<l&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4))}function D(t,e,r){var i,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<l&&n===a)){if(o<u)do{k(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(k(t,n,t.bl_tree),o--),k(t,16,t.bl_tree),R(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),R(t,o-3,3)):(k(t,18,t.bl_tree),R(t,o-11,7));o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4)}}n(m);var O=!1;function N(t,e,r,n){R(t,0+(n?1:0),3),function(t,e,r,n){C(t),x(t,r),x(t,~r),i.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){O||(function(){var t,e,r,i,n,l=new Array(16);for(r=0,i=0;i<28;i++)for(d[i]=r,t=0;t<1<<s[i];t++)f[r++]=i;for(f[r-1]=i,n=0,i=0;i<16;i++)for(m[i]=n,t=0;t<1<<a[i];t++)h[n++]=i;for(n>>=7;i<30;i++)for(m[i]=n<<7,t=0;t<1<<a[i]-7;t++)h[256+n++]=i;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(E(u,287,l),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=w(t,5);p=new g(u,s,257,286,15),y=new g(c,a,0,30,15),v=new g(new Array(0),o,0,19,7)}(),O=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,y),t.bl_desc=new b(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=N,e._tr_flush_block=function(t,e,r,i){var n,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),a=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?N(t,e,r,i):4===t.strategy||s===n?(R(t,2+(i?1:0),3),M(t,u,c)):(R(t,4+(i?1:0),3),function(t,e,r,i){var n;for(R(t,e-257,5),R(t,r-1,5),R(t,i-4,4),n=0;n<i;n++)R(t,t.bl_tree[2*l[n]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),M(t,t.dyn_ltree,t.dyn_dtree)),S(t),i&&C(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(f[r]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){R(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},8755:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4309:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];function i(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=null;return e.forEach((function(t){if(null==n){var e=t.apply(void 0,r);null!=e&&(n=e)}})),n}return(0,n.default)(i)};var i,n=(i=r(6734))&&i.__esModule?i:{default:i};t.exports=e.default},6734:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,r,i,n,s,a){var o=n||"<<anonymous>>",l=a||i;if(null==r[i])return e?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];return t.apply(void 0,[r,i,o,s,l].concat(c))}var r=e.bind(null,!1);return r.isRequired=e.bind(null,!0),r},t.exports=e.default},5372:(t,e,r)=>{"use strict";var i=r(9567);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function t(t,e,r,n,s,a){if(a!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},2652:(t,e,r)=>{t.exports=r(5372)()},9567:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},626:t=>{"use strict";t.exports=function(){}}}]);
//# sourceMappingURL=game.bfcbf15d.js.map