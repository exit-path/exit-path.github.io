/*! For license information please see game.486cb60e.js.LICENSE.txt */
(self.webpackChunk_exit_path_game=self.webpackChunk_exit_path_game||[]).push([[757],{7214:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/06f38b818fcab77d1d42.jpeg"},1558:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/9b9de51f0667f69cf909.jpeg"},6344:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/0680ec675cdeeb9d32e1.jpeg"},5708:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/cd3a8d3796fe91d3b9eb.jpeg"},1913:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/669719f066b4da6060ae.png"},4916:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/04186ecf8339a75eb994.png"},1862:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/88fc994ea2fb1d5e322c.png"},2764:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/bfe86a26433ba4c17ebc.png"},8365:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/e1b84000c55403a11c2e.png"},9833:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/ebce029b770e9eca691b.mp3"},1494:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/3863c9837c63e1337bf5.mp3"},8453:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/08e4d4f58ddfb292dca1.mp3"},994:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/e9dec5ba32941ebe6f86.mp3"},3278:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/c64fbe7febf6e920b468.mp3"},2489:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/6d92bc78ddc6e55c1abc.mp3"},5790:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/2c8364bde7908cb17bda.mp3"},9347:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/b9f7020aebec79f40607.mp3"},6837:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/788e1d4528eebbd2cfbb.mp3"},8687:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/aafe39605816b5f38db1.mp3"},3023:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/868570158e7bb98ee98b.mp3"},9542:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/2d38ed911a47c99647f3.mp3"},3402:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/4c9dc1713eda08cda618.mp3"},3289:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/a659a62500eb5a9751fe.mp3"},2874:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/ee3a60cbb5d78571fce8.mp3"},1919:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/064d1ec07dbef411cf4e.mp3"},5082:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/f9856c84148141ead986.mp3"},6946:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/4e31a839ede8fe824108.mp3"},8062:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/567555375bf73b089c86.mp3"},5502:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/3fa54c06dec2d5cd3e78.mp3"},4825:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/d34739c45f45e9108c78.mp3"},8733:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/de85f1a7c8c45b2fd7d3.mp3"},2477:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/3aa008ec01648e31c404.mp3"},6011:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/aecd8a2f0b7acca73329.mp3"},9635:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/5d72e69442d206f00698.mp3"},2889:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/9380529c7aa0d240629e.mp3"},654:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/5d1ce30a5f63256208b0.mp3"},3648:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/aba67dd0d75cb8c8beb3.mp3"},1983:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/9ab9ebf11c990d9fd79d.mp3"},1957:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/25da7a62f8c9415d2999.mp3"},7391:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/925141732bb605373906.mp3"},3090:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/b1245e3dc8baca6d1e7f.mp3"},4913:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/effef74669bdb0f3d5eb.mp3"},7416:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/7b39b11296c75eb18421.mp3"},81:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/d2798a35a109afc27000.mp3"},5534:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/563d21ee02e609bbd5d0.png"},1625:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/4d9d5da37cc5ebea91f0.jpeg"},8773:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAPoAAAD6AG1e1JrAAADvElEQVQ4y5VUa0yTZxh9RZY5C232Y/vjsh8LyWIWyLIpyUpgoYnDQVtK10JpuVSoMMDyQTvRKrSWi0BxMJtMK2vAEHAVOy1sVWSggDFjl7iLiAaQENGVXmDj2gHC2UtNlpDMhT3Jyffjfc95Tr7nPC8hzykul/u2SCjsEYtFg9HR0VyyhQqOiIh4NSYmRpiYyL+UnZ35l6ZYDa1WDZVKuS4UCq7Ss+TIyMjX6N0X/mFJpdJulSqrL+eg6m6h+tBMWZkO5eWlMOh1MJ+up2jAJ1oGRUw+CgpykZmpmJPJJMMSSdKAQCC4Qgz60k6Hw47W1vNobmqE9YtzuGi7gHtDQ1hfR6Du3x+G1Wqhosdw9IgWR0o0OKY7jNxclZeYzfVHnc4OPHo0gT9nZ7GyuhYgbXx7r7fg2teNePr0mZLfv4Iptxtjo6OorDDgQGb6bdLebivp6emih348uPc9rnZa0HnJBHNNEvLTgqFKIajWf4DLF2vQeeUMBvocWFiYR1XlCSjkstvEaCz7aHDwFpb8q2i2qJFBCYfSCdQZBMVZL4HJYiEnNQhKKYGYT1BSFAvf9DTqTCchl6V8SUwm03sDt25iaWkFX9mMyJETFCl3olDJQkFmCPLSQ5CTxoZKzkZq0nZUl6fA5XKjod6E5GRJFdHp1K84nY6Z2bkFdH1zjnbahvyMEOSmheIgJWYrOFDKOMhI5iBx/zZ8frqYCnjwWcOn4PP5osAoW1qaBzZs/frzTcjFO5BNux1IfUZKo5BLOJCJOYjjEVy2nw04OHWqZj4qKur1gIDJVGMcHx+Dx/MESvkupElZAWIqJaVQSJM4EAtDsS92B+7+9gMmJyehLzv+I6UGBQQYhtnd3X3Nv0pHZzqphJBalYooScCGiM+GMJ6Sedvxcc77WF5exp07P0GhUBRtynFTU+MNt8eD/r4OxEYTJCaEgr8/BAlxIYiPY+GdvYQG7AzW1tZgt9sWeDzerk0CFRVGTX//DSwuLkLDJIAbRfDhvp2Io9gbSUcoegs+nxcjIw9A/1mbwWAI3iRALbGt1rPfDQ8PYWbaC6ZQgHf3kABkskhMTIxhyuWi3dufFOXlvfGv68gwebvb2s7/8fjxJObn52jSohAf/yZcU79jlsa867oThzUa4X/udG1tZb7dfgHjDx9imjrx+dzwej3o7e0C3ZuGrbwLQXV11aU2Wwsd2S8YHR0BDRoqKk44wsLCXiRbrdraKm1baxM23Oj1xzvoY8Mi/7csFrPRaNR/Gx4e/vLz7vwNK7ZF+gj5R4oAAAAASUVORK5CYII="},3495:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/10e122519bee27c1aba4.mp3"},1229:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/bcfd5d0822630962ace5.mp3"},9224:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/33e3ca5743b79c3bce77.png"},4718:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAYAAAAIeF9DAAAACXBIWXMAAAPoAAAD6AG1e1JrAAALJElEQVRo3u2aCXBW1RmG30kttRQQUVkKWq1VrLXa0SqIA6jV2g3oItCO2sEWYcZKq1AqlQ4IyFa2QICwBUPYwr4kgbCFEAgQSCAkBAIhGwYCZCMLCVtIn897/pnYmc50KElo/O/MO9+997//ued877edc67kjsnSY4FS2HTpNPIzZCYyHoyaIn1/kPQ1HguQ/6if459SW0gYbkSAPCPGkZKAXIzsPU66x6+pejp6S1+ZKH3TkZLuPCULeQwcAbunSf/AW74zQPqq31vqh5QmKL1nsLRvEV6yXDobjpeAE4ul4yHSntnS1KnSyyOlFn6N1fGBku8NkgaH4RU7pNxUcslxvOSYlJ0MYqXDq6SN86UQnus/QerQXbrDr7k6OixkoejhodLBGCk5ExRIacXSqXNSBtcHE6U10dIKPCYab/mE3POwn5Q6Oiw/kCsmo+jdhKn4/YSoPGk/hOwtktZfkGblSG+kST/dyflKafM8qQ+e1dSvvVt/BFD6Pkoin4KXxJMv4rYBvGIXhKwolPrlS08QwppDwB2Es6fiSfJrpM6uJPYft5qQSVJrPGQQhMQStuIIW9uypCjC1ig8paNVYq66CphLpbVPagM5TfwVVx0cVsq6yeEoCIkhR8TGkS8gJATPeC9Dut+vpfr1jm9Bxnt4SMRMcsdSKXKPNOaU9Hau9OpRqZVfTfXoHcw/ukHGSkhZj4cEQchgytznD0n3bZG+4ddSPR6WlAlXPzJCIGYsE78XqJ46hHlE+PNDA0wI74SEHkYIGE3I6jTSP7do2CUTWw6BjKWzCFeLpJ+56qlR5ksbrxmhyVqV4+3VSWbpHSFkIpPCxUz4Xv+UDjfSudb95MkhjDUUBBKi/8C9Lp9I7Sx0O4Ia/rAO0bk/M7+Yu1bq1RgJMWXb4imEFEJGNfIqsgicBBu4HkOk6GUV5wfS1xs6jzSjM08TsrozB+nQWJO5LYjaXAukQcIlcMPIqUVQPjIW4sajj1dsD6ihwtrnsdXtdTTqY6jUHIU/T/EyZAGFTKh0DJRwfi1Yus796zOkK5CTAzmbnef82KJIb//KRN0aIfOtu+OlZ/czHdsuzd4oxYfjJRQ2lyn9q4kY1TM8T8qGmG1GzhSiiO0H/T+ucgeYy9sq8njpQVveNyuzNTPbe+He3QbOW5rVGoYw92kALw2wMh9SWqRJ30sh3ewlukVL0asgAu+pmON5zjWIqXQ7qRvwsqGMrTNh8C4jp8ELAlOclY+2/G4wZfpgOWms1IbOD6Pz0S5pLgHzwEwwDUwCEyymM7i/29IN8vfIXzDQ5yzemyVaW/VpjaZYIygdoznChHkf/dtE6FrhkXOJwqd6ppd3ym27m/6uMnKsWjPjcn299WHNmDcLNou2jyCsZDRr5/oJ8Kwtt9CZV21SCV7n/E3u9QMDbdXYyACzOY9CxoA4S5jO9deBcH5bbuB8mUO4DdD9HgbGWWlqCda+fsHD2ltfzPOGelsB/24ITX3eZmT6ZG3YuExxBtpuSUXZch3YzVjxjFanGO8Z6YHzjDUfz85j3Nx7BHJ67qE/kLODqcFZyLnsyLke6JGTYUtP4C/08QfWn1vmNXS2FQ1/BGbwomDkfFe7m/LWIbeCnT4Fm9J94DrSkiHn291XK/aRRGoQlQ04xgBSQTLnB0DCDE8eAkdAOtfZDifdf7c7EuPceyOsHyhzsq0sOEy0vRzX1xD3pcwi67NJR26Y+9Rpsft9Ge8LZ+61ZiEevEzaRA7ZGoPxJEq78ZD4z6Q9hby/hN9BGCTNywVHeT/kxUNOznLICIEUyKmhvRpXvaXSv1kY0a/MiP6nz6jM5WjoKQsjIIjGF9os3pFh1rvDWYOVjqkgBRwFx1FiBjJrhvdtVz6yAFnIoIuwqGISZjGuX2ISBRSTVEsosy+GSaXgIs+UhnoDrKDqqSSxVvLfCggso61yUOEGXFlLGqrcdcX0Lz5TVRv0+bJP+jDdq6iuoMwrVFmXeW/VEv6P15Rv5b0JAALKcri+wP0SDxWcl2XT51TGEIeM5D7kXIPcGnJOjQtrxfbFjnkNUeXx3jezAmKE2J8h5bduSf6vyL8hPzTworXgIhVImSkLVAZ7sbUcBZbN80rIApR6bqGH8xBQwODOMrjTSZB1QMrjPI8KJ49QcTpWygXZWGcu1U72FixvM4iA3DXSCf5/ksongzYzeM9J3p1OH9Jmep7nM4pkcBDS4kEM59uQW1wO22R5jOuNhumel68By7gOAyFgLtdzaG8W7U6zL2wYxzTeu2A1xkifIkj820j8O/GSvXjLoRLvm4Mszs9kYXTJ6ILxXKPfNwhrNUYOuqmmzTLaXmvh/qbCmJFiMdbiNcn5PjrXmk62RSHfxpJ/iXUHoqQQqpCFzOyX4OorwNooQhWIoULZywASQcoOKWkXbk9nlxKLR9DxPoYMqa/huPQbLLDnMennWNtrPPcy8kVidtdDJErCRycU0RmyOtFuFyy3C+9+AbyEh72GNfdCaX3JBf3wrv7Id5AD6OcAvK8/8o/gbTvnuXeQ74L3wTAwgv+PBmNpa4KBsU0CU7D2aSg1CMxjjIsY3xKMJJzxrMaYNtLfaIiJJaQdKCO0lkuZFzE8PKcCz7lG/6sZ9w3+V0P7N+ZjiOiwz01teZtrQcaTWM27kPDmBiofOvI7XjABq16CgqKw8jgUloDykrCaJDq4C2wAC1DyeJQ8kDj8E667c/3MCcg8DMkMsIltARt85yM9A/i8dKwN333f87Y/Q5tv0eZS2o9i0JHci0RBm4jpW6mIdtG3BK4PQWQK3ngUpDoc5dl0+nAS5IAzXJ9DFoBi2iqh5C1OdaD9QsZVyLsu0P98ZD7XZ7h/1iTjOYPiT59F0UVEAQgprfJQVAkpkFSC5xRjhBW8uxDjXIhhPHTTs1kqmz8RGlJgN4Fws4DBBtHwTDo/hc5/RMcGYeFvUYX0OIcFU5k8luFVJK1thzHx1n+NElAg/ZAQkUSouI6sRhHXsdAqrLKUPuSCZJSQgNyN3AliwA4fuB8NIsAqKqhQMAcEgkncG4ccA0aBj1H0CDCccQ1z98LAJrAHHAAptJnDuwvpR2UpyoeU9EvS4cuEziu8H6yuINzzex9y0ENzb3aOZdZp1QEe0hVXe4YQ0J5Y3nqdKxGx7LtAM9yx6cp6XKo3D4Hw9wl5MZnSfuR2sIrz4AzPQPpy3gO8wvmLJ/FOLLmbQ1csvQuW/jQe8F0M60E8qa2VupSzzXcyp6rtrT5wv5nz9sO0F8/7IghV26nAMiHrIkReAlcxlhso/hxhKxZiIiHmA0h6dKe3UNs4l1vMUIj7LTCOdsT7e+18Pco0mDJ9oc4p4D/hvz6sTTz9AUJUKESuhtSBGMRkSEnD4ktO450QcwliLuAxmXhLNMR8iNc+l+d9nO5f97qVIRIPugdP60WuWITXDUaGQ0QRyq6ChMt4xnkQT+iaChFvEOIe55mWt82+SmPzRkrwNhQy3ewLHJBIeKsgf16FnDK8Yz/EDMVDnrScOfdLsFLeoOt0KLgdFWYfyugo5hMlyAomtZnMM9IIYaMhpuPKht7I+jJ4ha3fMYl7yZZhQK6bzWcxhwik4uxG+f+w5Sy/tuowV5hH2IKlbVzZ6jMEJLllj3M2wwY9JlNE+HND3e+D3Gl7NFPwCPsmDcXvB2cdEYm2rD5ResT/QXkd5wdbgp/ERM1tG3zqPnQocx895NiCqi352/KRX2N1eJil214Flv+xW9I/41Z9y93KdTC//RqPad+Iv027fRK2rT64TbNiZKnzhijfjp9txrlPgBpkQvcvECsZxm8fdqkAAAAASUVORK5CYII="},578:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/eb15afa9164e6dd325ff.png"},7490:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/ce88229bbfff12e36e80.png"},3566:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/3bf51af39346de6d28ab.png"},1712:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/1943d3105824474bf33b.png"},7890:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/3a07b85e2008241a8ba5.png"},1089:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/29e8ce162338346c9b51.jpeg"},6513:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/8f6852074f7bcc1877d0.png"},134:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAZDUlEQVRo3s1bWXMbV3rFDpBYiR0kQIAbuIP7voA7QQrcRVLiKkoiJVkLacm2LE88jp2xMxk5lUxNlpmpiuW85yUvefH4N7jKpSo/2H7Uk8vln3DynQs0BVKk5fGMnaD4VTe6G933fOv5bl/qdD/gYzAYdCaTSQn3T5zTPxf5OyE8ZjLqdUbD2ecpZ51T3/X642erZ+qN/JYT2dcbZCxGs+5n+XAwx6I7GwiBWszGY0DnKeT0d+36M9SuQFKOgesMPy9gav68wRce14BQCaflPIWdBfhs+Zk/51kw7tZ5HDZd2uuxH7ocRU+cjqJPXc7ipy6n/ZnTUfxdXp7xGM8V2UxPLCbdodgv7dbpPN8LWFya7mw0WX4aaxbG8ukYLgSZbtA5YqW+uWhZ+EkiHv2qsiKOutoa1Ncl0dhQh6bGejQ3NSjhPqW6qgIViXLEoqUIhwLwlrjhsBd9ZbFYnsgt50QchS5NoMqtj2P6JwLMrdFoPBPwYGs4ECsLHkXCwc+iZREQaLKmSgElkLOE11GqKhMKNK+vTVajproSiXgM4XAYPp8Pkig/E/BHjnBr4Gdx6ULAhWAJHoClriZxIJb5goPnQDVrCXgEAz6UlYZRGgmp76GgXx0L+L3H4nE7lVW1a3kPKqyiogKJROIYuN3p/sJa7D7Q6VYtha79k7p04aeurq49Eol8wgHGy6PHIP2+EgVCYhUSo7BZzZBsDUlQkDu9IFaLCWaTAZIL1DVFNov6fSAQUGCrq6sRj8cRCpfC7fGi2OH+xO0vb/+LXVrLvGcBPQ1aNH9QXl7+TVlZmYo7Wo7W8nk9cLscCiDBSCI7BkZABM/zEqMKKMER7Gkl8Fp5DJxOJxwOhwIfjcURK08gUhpFidf/jcPtP9AAF46PXIHe9xdZs8CVrQLycTQaRWmpaNztVu5Ia54eOMFpli7xuI5dmEqh0BModGUqTPMIe7FNKYKAKfJsSAzD4XQrK1dUViNRUQWvLwBrkeMxx6SN8fT4z8Rz2pKnLa19QqGQPRgMfiSCkhJxW49HbTlQDpBWIWiC06xOQFRIcZFVWZSW55YWJjB6AH/H3/McAfP3PE/L2mw2BTgH3gCrrRiBYBjxRCXK4xUIR8p43Udy3q5Z9wfRxkLAdIfTgDOZjFWAPpGYhdfrVRq3Wq1qW+iutCjBUjh4Hud5xibPF7q4JtoxXkNlaL8pKipSzzCbzczUCrASvRHFdqcCS2tzTHItS5j1rLJ5JuBCgIWAta248YfMlLSqy+VCcXEx5JzSPC3DuKS7atY8C9h5olmZYAuPE6SMRT2H+yazVYHVgNPaEstgeDHGxdIfani+N4ZPu3ChhsSCOikP18WdFVDNqlp80e3KY2XHMUgrahbS55XBY9ynu1MxFF7LLd268DoNOF1cUyi3ap9gCwBThICocUkCVRldxnf9NPX9wcmKx/r7+1sF7LeMVbpYIVg+qKqqSiUgLSsXCuOQdZWDJ7i21hT6ertVjBI8yUZvT5cKAx6j0kg6eK0+D1RLWDnwhjOF19D76NqSRL+VEGg9y3gvBZxOp21+v/9PjFkmD7ox44lgmbgaGhokabmfu2A+BumiVABZ08J8ViUuAiST6unuVIBoTVLOllSTAszz5dEYshdmVD3nvXh9e3srrGaLcm2laIM+J/pcElP7eeWwYtDKYog/yTHb+VlaapnZaDmmakbVYxp0dc0N+16/D+4SDxwup9w0Z1mTDK5S6CCBKHDyUCOPi/R1taM6EYNZjnscRUhEI2pbbDGisbYatVUJ2Ex6uIqtaG2qVxZ32h0KUESSED2G7s48QMo5NNiLEqfjWJmad2ljoRwrI+91tLYYZp/YZHs2YKP+eY+pFwZTWtrlE7BferwlMFnMSqMESokITQxI7aSV6IZFZoMCzO3Y8ADSA73qe9DrRmnQp457XXZ1nMLjziKLUkBrSzPsRcVyXwtqa+tx6dIl+L0+pUhex99SOSGfB3PZjDzPm0uUBeCfK0Gv3J9kRbzyS2GCvrPdmSBPEfJIJHZEsHbRrsVmPQZsFlctEu1Twyqx5IESgEUSDi2p7fd2tmF5/gIiAa+yss/tUFtez+tikaCKcUexWLRY2JfDpeLQZrGqZMbfD/f3qPvxHqMjg8LJA2JR/TFIjqeQoHDLxEoGKPc6eilgveKnKXsoFPnc5XErsHqjIR8zvJlZ4tkisZLjzATc09GKjpYm5dJ2q0mBtRpzLh32l6h9HutqS2FksA9uu02BvzA9gfGxEchTxTI2tLS0obW1FW6nS3kPr2eIMASoIJvVmOPbovhiUYgGnHmFomV1ujhjWUrV56lUyv5SwB5PKBsWCkfrGkzGgiSRc6VSsQrdWktWzfVJJCvjClhmYhRtzQ1qgAQcLwurfUqqoVado7tTeI4Jy2KScmQ0o6amFkNDQ/C43CrpBUpc8HucysLcNtTXiOWlsZCMnk4PSeL0vxDHWgljAiP1lQqTPWMewXgCsM8XfCIWFp5qywEVwAROjdql1EQli0q2V4NVpCEPgJZoqqtRg+M+rb6xtiJJp1h9ZzwTJL9zv7u9RU0AFNuEZtrZHYUgVUEpkZmc1u1sbYbDZlbJb3HhgnJpl5xj9g4Jmzsdx5qwqrDDEqL05EzAWtJyu1s8AvZrnxBzo9mUAyxCwATpJfEXV6Zbz2SmFOlgUiFIcx483ZpbHqeVGLMEPDs1jmxmUl1Hb2B8dnW252q2xO/8/KKycJHVpmjpzOSYSmy8F+9fm6yU2m49ztIcD8Hb7fYXkheFgMW1v9adni4iYK0smUyONMuDR/pOzZW1GOYDbPkuhg9kH8zyQTedGkurgXGABEVAdEVmV8Ys95mkmHn5ne7OfZIWZumiIjva2jrQ1NSkyhQBU2G0LjM8k5bFzNJkULWfbs2x9PX1qN9oCUujodwn5aysrOR++oUYNhlytbesLHEYjZYrjRMwwao41j/X6nGGzLeDdE+CoeUqy8swOtSvQLEeX9m6rNyYyqirrlCuSWXw/MXFOQz09yqXdjpJGkoVVydgznkxw5eXhpRydjcvobOjRT2PICcmxlQ+SQq50QAX1mMCZ3gwCUqJOjzBugiYViZgvz/0MS1MjR+zmrwwfnkzJi0+SGNXWgybC+JZc20OltZl3NKlF7MzSimM77XlBexsb6Kro1MATOHu3UNMTk4qi9N76DV0Zd6DnlNdFZdSaFKxWyW01EnuLlYm5dWAat2VxgZ7enq4/fgE69KSFhOW3x/8lMnDzM5Ey86MOUlg1CiFD6uvr1XzVLQQLcYBsYywNFXFo4pRcT8aDih3pALKQn5MjAxhenwEq0vzOLpzC2urK1hfXUM2O4/9/Ru4du0aJsbGFcuiy1NR9AaVB6ycJspVikJPo2Xb2toUy9LKFC1MbyHgRCLx6QmKyYSlrGwwEfBTJizZPwFYkY+CYs9aSMBjo2mVmAiEwsHRioxjWnhuZgorC1kVyzUV5aoOM5Mz7m9cu4KpyXH09/Zhe3sXN27cwubmJvavXcfuzpbyBMYw70vFedx2oaKdQioiqg53Cy9nxSCw+fl5RTYKGRcV0NnZKQyu9umJJkKzMAGLdZ/RwqyLGthC4lHIco7nn/JC1zPmY5qxShcnOFqbRGNpblbFNM/x+Hh6UE3ThoMh3L59F7/97e+wt7eHmekMjg7vKhpK4kIFsjyVeISszE5J01In8enFwsKc1O4qVYLYD6ueOZ+wCJqcuru7W7yx/pnWHytLnwL8XWlpVDEfDbBWi2nZurokmpsbVexobZxiQSb9cS3WFMDY1Xg03ZMWpjJ4DS1M8JycL3F70N8/iCtXripLpZqaVbliwqqIlSrvoML4LJeTUz/FaizMKdxqGZquXZi4NMDJZPI7zcIKsMa0GMMEnEhUKm6rAVU8WhoIxk2TZM+OjjZVFgYH+tT0LBkUEwxB0RIERsuQWHDQZGE8Txfl4Jm1GefMvMzGvhKvlI9qVFRUoaurS7k4OTa9oCFZpcoTYzkYKFExzLJEl87NatpVHSaVrKmpOcGrycsZw1Kavjsxg6NlaQIOBsPPqquTqkxogDWXLmzJ3MKyyINZR9nTToyPqrZuaXEeHcKCqIitzcvCpGpV3O1srKuyRLJBpVAJAz2dii42NjYKVUzT9XB5/RIOru6pJPjGq/ewLpk8KQq8uiPZvLMVZdEQtrY2JBGVq1jOZrNqIpEkY3h4WHVKmrXZrw8O9vPcsxd6Y83kksKf8kI2/ZqrcKsRc21fcx1mRKO0djp9TiklPi/KYlH4gwE17cI2kmWMsxs+rwsbl1eRmRxBeVkQu1vrSA/3YzY7jTv3bis3pkK2Li6jT9rGtHznNiGNChuUOF+/iMdkZmdkG0GkrBTTMxn4Av5ckyPjYlmiJ9I4DJeB/m7miafq3Zc+JydmPATwp9JHKhcpLOIauLk5IQsDA8c1z1ZcpMC6fEI8pH4ahRY6PCVwlngQCElHJTHLh1dUxlBXWyX9byN6u1pRWx1HX3cbekQ6RUanRpS1x6WffuXKDpamJlAtSguL1/glZpmtSWl1nAq2Sv4QxXJSj5Ibw4t8uq21SSk0Fg1+qgF+4SPs5GPOOvCdTmExZybkPl2H1mcpIPjqZA1iFZUYmRA6KQwpPT6Bqcy0ssD6+jrGxdX5nujq3jb2tjdQn6xAQ20lpifSuHltWwbUh1RrI5J1VWKNLjm2ix2x8K7I8sQ4ygVkjbhuSpTBGA6FffB4c+HG9rXIXqzCjuOgIZilNfpbX1etwiBa5v/4XMCkYbFYjJnthHVP81S69uDgoKp9VRLzgyOj8Icj6OztQXtnBzg1RPo3JZbq7enA3Ts3cXltCR0Cri1Vj7F0P24fXMFAbxuaU3WorklgeWEW7739CG8/eBUfvvsOfvXG60i3tWJBavW9g2toliQ2MZ7G2tpFFEsJ7B8cwJgohaCTdbWi3PETU0CNDUn17ETMf3guYLFcmjWNgAmOwJgFudUYDF9uaefUA/Q5N2Nyo2hK4WQcO6r52WksXMigp7MFc7OTuL57GcN9HWhrSuJCZhSbG6uYFItPjw1jSYjKrwX0r954gKxw8rSwt11hZZdEGY1Sz7vl+/DQgMrULS0tSo4riclUkKVzLs0wqU540icAF2YvcVnB7PmaryrZRGug6NLq/Y7DgeXlZa0LUQWfSYMNRqJSfiOsi1x3VBgYZyBJFB4c3sGV7Uvo7khhaX4aR7f3MTU6gPbmWuxtreH1+3exPDeDCWFhS5lxvHZrH7OyP9BUjw1R1NWVRUxKRu+SJFQjddlmzM2K5iYkLMqbGEJa+GkUmPmiIlH2dbpF5zkB+PTcrVCyJ5wtoGhzw5p1qUUtvhnH+/v76O3tVjMgu7vbqlw0CM9+55dv4dLFJcWy9oRg7Eh27hKND3S3Ym1hBuneVoz2t2MlO4Gt1QX53o6poV48OrqNVw+uYrQzhXu7G3jv6A6uLmaxKwo5vLKNrCiyTp7RnmpU894E1tHViaWVZTWN/PwFQbGK386OpifaOpNzX7UIkCwtRysWxjC1qXUimiLo+qR5nOuqra1BjSQlxtnU5Kiqsy1NteKGzQpon4CYmxrG/dvXMD3Si+6WWqzMjuP1Vw4wI9m0MRHFhLh6Nt2H/sYkLk2N4falixhNNWB9YgR//PUHuC3K21pawMP7h2iX+3IstG5NbfLEVA9rNNvJkN+SfQHwiQUqwjkfPHhgF1r2OWOVLZYGmG2YpoCRkRFF23T5F2nkuaR9yZoK1Q2lB4XhxCJSZnpxV5JTdnIIA51NmJ8cxr39HQE6io6GCoz1tuBydgp9DUJAysOY6GnD+uwEhlK16K+vxGB9FUYk22bEO3Ykvt9/9Qj//N67eO+th+hqbxYOUEB/CwDT0zramj4P6XT2M1cFnX55JuXpiNma5KHQwlqJSqVS0oj3KT7rLXHiNq2UmZASFMUv3nyAG9e30dvRjMzEAN44vIELE4MY7kohO96PzeUZcd9OtNWWI1URQdLvQV3Qi1K7RcCO4f03jzDT34Hh5iQuSjbPiqVGhKWtSVZ+dH0P//Uff8TH//Yv2L+6jdGxITXtpCYpCqoKOX9dMnZUuLLohTeIhW/cJH59Yt0vaWXWXboygRZaWavNFeKK924fIDszgVhpQBLSkEpKPa0NGB/sxNzEEMb6WjEucmt3DX/7xl2xbAr1UR9WJgfx6s4ldCXKUBfyIBUPY07cfWZAYrqjCe++ch0P1leQlQR0tLyI3z16Ew92d1Ri++DdX+DBa/eEg8dVlXieYC2coPjSqdP5uKTqXAuffpksVt5ntibZ4M2YsFiiaGXemEmCPHr78pqiiyw7dLORgS5Vdkb62nBxTsrQ5rKy6Eh3MzYWp3Bz5yKWpoewMNaHRZHNqVHUSUjUB4XMiIL2VmYxl+7GbE8rNkYHcVeS1uHcBby9uYHf3HkFV6XNHBY+TqVOjA+LF0bzk4yGfOXwSQwH989d6Fa4pvFUErNFo9E/EbQ2M6i5NEk6FbEsCeTW/lUMSoHvEAIxPTaIX739EBsrcyoTry1IGbqxgwsCLDPciStrWdwUBWzMj+H6pSxuyPfL8ptmvxttsSB2REG/uHtdLN+PsVQN9rOTeHRpBTclCd6Wmv5AGNh//+Hf8cfHH+DD99/B3pVNNXNZGMNSMdTLtHMBny5LhYtCpJFolTj+lqVIc2ttGpQ1mUuU2Max5FDjK/MZ3NzbVFm4r70BC5lhLM+MYHygFcuy/+a963jnwQ0sTvQiO9KJ+3vrePemZG3pqsYaayRuaxTY7HAHpjsa8P4r1/BP925hXQjHWmsLdqT7+eDuLfzh7/8Ov3z4qtDHqlwXp8+xPwm5b0tL3a16/fOFqy8FfPoFubj2dU55ams6SEhoacYz3wG5HVbFmq5urysW1dNah/6ORsyO9mN/a0XF7exIN1amhnB1bRZXLmawNNmHC0MS1221WJCklK4sR19lKTZEKbc2FzE/0oWVdCdmW5LYGejB/dkM9iRJXhGWtSENxvpUGrWJ8PHcFhkek6qM7Xqu2ujPX7v5siU+VIg00x9y2pNgOZNAS9PibMDZB0fLQmpibkbiMS0t2dhQjyIWB9sXpftZx9ZyJufGaxfw6PYOrq1msDjShv2lKTwSarnQ3IgpoYFbk2m8vreBXXHlGfGQ6aYabAix+c9f/g0erqxgY6APE011KLWZYGWImXK8ma+FZHwfamDV6gWz8SWLVb/nI9naKnH8hBbm8geCV8yGM5p2l7SDfvj8QfV+lxMAnM14eP8epoREzIz0YHtxGjcuz+Ptu1fwDw9v4WB1EpPtFdge78b97Aym4wmMlpYhI13PnCTC19dXcW9xHrPCqJa7u3B7aRGboyPojEdR4bajROilNf9OWq0iyi9qOe2phh+7bo0/fvz4sV2AfkQLEzBdnKtpDFY79BYBb7TA4w9IDWxQTQNBZySuSTZev7mLtw+vYyubxt7CqJSiBSwPNeFCSxU2hRreGh3DnckpTIvCLnV24/dvPsLv33oL16TB3xiTrqtduiphT6EiC2y6HFhfkRWxcICk56OtrS37y9au/Nkr9PJrK7l86TEtTdD+QAgmmx3mYpc0/7kJAKu1SK3maWmsUxZem5vCB4+O8I/vvIad+VFcmR/Bbx7exMPrq9iS5HVD2r8Pb76Cf33wGq6OjWNfgL+5tYmb8wsYTzWjIRhAzCWhkwdKiYZ8qCovhd9hffw/v81YfxSwH7ognMsIJKYPhJB8Q8DxqiRcvpCyMGc/OKdtzL8j9ov7pWrKkZWytJpJqwy8MTuEu5tzuLORxfb0IA6kfdyTXnatv09cuFkxqilx67j0uV7We5IJMj2+TRBWVy1sLhr2feMvMR/8lWF+z6JwsTYXl7o9vk/sbi+8wQjKK2sQlDi02YqP56tVK5cfcIkkmNqIC40xLxpKnWiOedBa7keLsLMajxMByQc+EgejHiWGHFCPWQ+PzYywz42gz4VgwINwxPeJzqxrZyYymP68JZR/sdVXV1ctkbLEgbj0F0xcXBaYe2uXQKm4olreIIPWQNvyFqPYC8SZF4c+d41DFOW1m1ERDSIeDSFRUYZgyPOF2aE70K3qLOp1tjm/QkP/Vwb88h8bdOHqwUCkLH7kKfF9xtKlXnjFy9VcNOOt1CcWdNkUEAJymfIA+c65SJQixx0mPUJel4rNRiEUVZUxhMJexBKRzwxO3ZEurAvoyZ/EbdS7P1rXmAN8ehHaj05Yp5cinr0ItfBfbBoc0mXNhcPhJ5Fw8CtOyHPSva4qjvJIAI3Vwsxq4kjGI2isLENDlUhtAo3SHqaa61AeC4uXeOBwWr4qCdqfGH26OV2DzqHAWXXPgVIszwFrzU9h1/eTuPX3ffiPGvyHjVhZ8DDicz2RhPNp0ON4KvIs5HV+F/a5vgsH3M+8PsfTEr/zU4ff/sQeLDq0RU1pXVrnObGwyFggpgIx/hhW8VP9q885/9Kj/TuP2cQVB4YXQWhAzgJ7Wgz/B4B/+P8dnfNjww8Vw4uiN/z/A/ziovPC/z9SL6hftOpZojecLX/m538Bh3lN7Oq6hEAAAAAASUVORK5CYII="},9219:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/b3998260388873ebf97d.png"},3285:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/f6270e0494900b949559.png"},2308:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/97ba4cf16a6edc3ca58c.png"},3031:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/66011b381ae04731fcbb.png"},9889:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAACXBIWXMAAAPoAAAD6AG1e1JrAAACWElEQVQ4y6VVSWtTURQOdUQtFisKDmg3IggFh4WuRFwpipI22ko3ithRqaUubMEsVRQrimJ+QDZZS7Zx4y6LLAJZSAiEhEQzmXmE5/eVd+FweX2+pAcOvDuc893zneG5XA4ln8+faDab19Xa5/Pt6nQ6z7rd7gb0Lb6fFIvFU65BJRwO7+v1ej/oTD8LBAK7c7ncsXa7fQ/nnwC26PF4dvQF4PV6d8LYb0DgYE1GYgWIO3O4/yEejx90DAKDL4YpcPBS7TcajatYLzOCUqk0Jm1ardYd2H0MBoN7nAC8NoRIkFAotDedTh+u1+uXsf8cYPelLfZmoU9tAXDhhaGJBNEFIA+hM5I6PPLrZjEgtFvQSeiEqXfh7JVhISonqVRqFBFcjMViw9rDFhmZoM2NvXkXquav4VBgsK6qDc4umfk4rZxmMpkjpE4VRTabPYpo3hPkT78gShgJoyeooG2GPcVvljJA3hDk96AgFNJTqVTOCoomSKWgcG3bILVa7UK1Wh2XeSCVAmR9W3SZTm+zlAVdD9R4kXTV+wXhFGCFAeAGmvKKAkgkEiNMvGpCM/HvNusbB0ssP1PncfDNroRpDICboOmc3isYotdElJMcM3bdvmHTjEMWtLG/ZtWa0bAZC4XCyS1BTD79dh0fiUT2l8vlM4yeAKRRNiZ04b+zKxqNHkDOvluBkBasV0HRI1TYeS0qNycxR4ujKZxMJg8B6KcOwgcwEnmXFPH17HJ95Dj5Kx4H0C9OZat/CM8R0RTOP5uJHhro70hK4Ghae/UKaWEv4OzxVkn+B3Wylypo4jEMAAAAAElFTkSuQmCC"},7610:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAZCAYAAAA8CX6UAAAACXBIWXMAAAPoAAAD6AG1e1JrAAADuklEQVQ4y5VUS6scRRgduDf3TvdMd9f70e+e6Zm5kwzqSgQXunGjogsFd7pwm00EIejiEiK4VBCSqxd/gGCCi+DGjauAMaLBF4jiUozgQgQR9ZanaiYo4iLT8FHV1V2nzne+89VgIOXYVgfnm3Z5q6xn3wpZXN7fz9rBto/K28OmWzpbr5y0B4ipY1y/j0/RVkDGtt9QNXVELRw3C5fx1jGR/xRF0f1bAUnbfk/EBCAHjgHIzxnPf94fpY9sBaTz9msqp04Up50szjiuZ46L8vbubvTAdhrZ+qsU6fi0VLFyDGlSZn4cE/EQPu8j9hCnNuPeZm24GU/9A6RLANWO6Xlg5Uemmj9sPvkwL/u3EEdFvbhU1LNL2nZH0vTHxk7eNvnk2JjmjTFRT641UsUXhDfY3DueHziRn16zyxeoIMBND6ZLZ0q/PsMa1vFNaPyvJk7q+vc4po8NtG1uSTtzAqVX5RnEPQBb4aeFo7x3CWtdyqcuFb0bYT5mHd4nqK6PDv91jjF1baB19QmHLgIsdLlypr7X2eo+sIDwdumo7J0vBlGzAJBiM8FaCDEFWOU4N58BqL3pgXw63OuUL0P1ZO6BoJmaO4rIxJrdGECJZwjQBOyUgV0Yf2dgbXeTIVeGslOc6k/ycw1NbIUoFxihne1DGtxro3GwnjhbzJ2x9Q87OzsPo2rNDSo7R8EmOBsnS9OdSGmupYS9jDhMU3aYJPRCkmQXs4y+4iNNyWGWZS/u7g4f3JS/vUFEG4AY3O1ZYe03tMgTWxlSyPojAh8lyN2z8eakzP6SUProVkBM1R9TaOSZ8E2vEWZ+TRLy+HaMdHWdyhYiz0LjpgEoPxmNyNntGDF9xEUDgC6UPxO+rCVKaj4fjejqroGiMXuKywKORb+ZeTDZmNbO64bb8jtt6teVaV5gsjwrVHPOFtOXqm5+sW5nrxbF9ELC1J1bIjaU6y8zbMzg4GA+GM63QgJAbw2V9yc6n/wpTPeXytFOZhb6TsBLUla3o4itweIxe56JMtifagguPVgfemxE2xAxbVxEahdlVZj7bzHeuWwcIfL4TobDjLDLXFXhqvUgXnyfZmgFHBCD3QjhN48A5Nf8SNBrQpjr/5YLRmVvooo4BY2JE9c9Nd2c3rghqdaMABaD5RBzKqCl0O/9V/v9YZw8x7j5NC+moc9UPg/3EkchGPosE10wbcJwh8mJK6veDYejZ/6/lHFs9vaip1PCX6NUvEu5vMqFviKEReir/v7B+wec6yvDYfysv3L/BuapXSWRUZmEAAAAAElFTkSuQmCC"},5069:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABa0lEQVRIx+3Wv0rDUBTH8YKxg4tTBe2ig9R/0UUHB6E0VikkguAmiIOjb+Kki1ZEEaVUsLu+gW/ge4hi1frnFzgpl8s5tjXnLsULH1LILd/eNE1vJtNnYxgC2IcDOIQjUnAVLcE9PME3I3QRXYY3IZioaEcH4KFD1El4Et67CKtf6rIQuoMtWKPVjmiHQyG86PonFDHRL/BdhwMm/AkTLmJjcAxV+i65S31L52OnsKAR9ru4i20ljfAstHqIfsC0VriX1caP0ZxGeAaeoSk8PFoUa5JHGNIID9INlocdJhx/qBU6n9darT0qTPiFrorTEQph/z/cN+FICE/99qYcPQzmO/CFY2xPCEfGnDkYNcObUIObFOpCuGHN27Uv03nK8KUQNhd0Ddva4au/hDfgwlG4bsyp2eF12u2fpVBlwq+0oGTOCW382mMcirCaQpE2dqYl2l0mcwLaBrf/YRKe8TprnZN4xpEbWYb3A4aQDbKiy4qbAAAAAElFTkSuQmCC"},1523:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/e11695c62ec7e5ef53ba.png"},7374:(t,e,i)=>{"use strict";t.exports=i.p+"static/assets/717c145ea106e8f64b4e.json"},6469:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>Ml});var r={};i.r(r),i.d(r,{ColorTransform:()=>I.J,Matrix:()=>B.y,Point:()=>U.E,Rectangle:()=>j.A,Transform:()=>F.w});var n={};i.r(n),i.d(n,{BitmapFilter:()=>H.l,BlurFilter:()=>K.T,DropShadowFilter:()=>z.p,GlowFilter:()=>q});var s={};i.r(s),i.d(s,{SharedObject:()=>Z,URLRequest:()=>W,navigateToURL:()=>Q});var a={};i.r(a),i.d(a,{Keyboard:()=>tt.N});var o={};i.r(o),i.d(o,{Timer:()=>et,getDefinitionByName:()=>rt,getTimer:()=>it});var l={};i.r(l),i.d(l,{display:()=>N,events:()=>V,filters:()=>n,geom:()=>r,media:()=>$,net:()=>s,text:()=>G,ui:()=>a,utils:()=>o});var u={};i.r(u),i.d(u,{__internal:()=>O,flash:()=>l});var c={};i.r(c),i.d(c,{SimpleScrollBar:()=>cn});var h={};i.r(h),i.d(h,{ArrowKeysToPan_445:()=>wn,LightOn_226:()=>In,MainTimeline:()=>Un,ag_intro_mc_459:()=>kn,cameraFlash_93:()=>En,cautionSign_anim_444:()=>Sn,flashButton_rim2_347:()=>Ln,flashButton_rim4_453:()=>Tn,flashButton_rim_344:()=>Cn,flashButton_rimcopy2_353:()=>Pn,flashButton_rimcopy_350:()=>Mn,flowReady_437:()=>An,giveKudo_306:()=>Dn,handStuff_52:()=>On,handStuffcopy_57:()=>Nn,hideMe_48:()=>Bn,introLoader_43:()=>Fn,redPing_166:()=>Vn,runner_duck_84:()=>Gn,runner_head_17:()=>Hn,runner_idle_82:()=>Kn,runner_jump_83:()=>zn,slidingDoor_153:()=>Xn,startBox_308:()=>Yn,startFade_355:()=>qn,w_beaconC_228:()=>Jn,w_beacon_161:()=>Wn});var f={};i.r(f),i.d(f,{ColorPicker:()=>Zn,ScrollBarDirection:()=>un});var d={};i.r(d),i.d(d,{ColorPickerEvent:()=>he,ScrollEvent:()=>De});var p={};i.r(p),i.d(p,{controls:()=>f,events:()=>d});var y={};i.r(y),i.d(y,{SFSEvent:()=>Jr,SmartFoxClient:()=>Wr});var v={};i.r(v),i.d(v,{smartfoxserver:()=>y});var m={};i.r(m),i.d(m,{gotoandplay:()=>v});var g={};i.r(g),i.d(g,{Anim:()=>Ft,BitmapCanvas:()=>Nt,Emit:()=>je,HandyCam:()=>Ie,Key:()=>Ue,Logger:()=>Xe,Math2:()=>re,Relay:()=>It,SoundBox:()=>qe,StopWatch:()=>Se,Text2:()=>Fr,TileObject:()=>ne});var b={};i.r(b),i.d(b,{AGILogin:()=>Lt,AGIcon:()=>Ct,AGIntro:()=>Tt,Ach:()=>kt,AchEvent:()=>wt,AchSound:()=>St,Achievement:()=>Et,BodyPart:()=>se,Boop1:()=>ae,Boop2:()=>oe,Bouncer:()=>le,BouncerSound:()=>ue,CameraFlashSingular:()=>ce,CharacterSelection:()=>fe,Checkpoint:()=>jt,CheckpointFlag:()=>Bt,CheckpointHolder:()=>de,CheckpointSound:()=>pe,Cheer:()=>ye,Cheer2:()=>ve,ColorPicker_backgroundSkin:()=>me,ColorPicker_colorWell:()=>ge,ColorPicker_disabledSkin:()=>be,ColorPicker_downSkin:()=>_e,ColorPicker_overSkin:()=>xe,ColorPicker_swatchSelectedSkin:()=>Re,ColorPicker_swatchSkin:()=>ke,ColorPicker_textFieldSkin:()=>we,ColorPicker_upSkin:()=>Ee,EndCountdown:()=>Ce,EndPointHolder:()=>Le,Exit_fla:()=>h,ExternalEvent:()=>ht,FadeOut:()=>Te,FinalA:()=>Me,FinalB:()=>Pe,FinalC:()=>Ae,FlairMenu:()=>Oe,FlowReady:()=>Ne,FreedomSequence:()=>Be,Game:()=>mi,GetKudos:()=>gi,Ghosting:()=>He,Grinder:()=>bi,HalfBlockHolder:()=>_i,InsideA:()=>ei,InsideB:()=>ri,InsideC:()=>ii,InvisibleTileHolder:()=>xi,JumpSound:()=>Ri,Kudo:()=>ki,LabA:()=>li,LabB:()=>ci,LabC:()=>ui,Laser:()=>wi,LaserCannon:()=>Ei,LaserGun:()=>Si,Level:()=>ie,Level0:()=>Ci,Level1:()=>Ti,Level10:()=>Mi,Level100:()=>Pi,Level101:()=>Ai,Level102:()=>Di,Level103:()=>Oi,Level104:()=>Ni,Level105:()=>Bi,Level106:()=>Fi,Level107:()=>Ii,Level108:()=>ji,Level109:()=>Ui,Level11:()=>Vi,Level110:()=>Gi,Level111:()=>Hi,Level112:()=>Ki,Level113:()=>zi,Level114:()=>Xi,Level115:()=>Yi,Level116:()=>qi,Level117:()=>Wi,Level118:()=>Ji,Level119:()=>Zi,Level12:()=>Qi,Level13:()=>$i,Level14:()=>tr,Level15:()=>er,Level16:()=>ir,Level17:()=>rr,Level18:()=>nr,Level19:()=>sr,Level2:()=>ar,Level20:()=>or,Level21:()=>lr,Level22:()=>ur,Level23:()=>cr,Level24:()=>hr,Level25:()=>fr,Level26:()=>dr,Level27:()=>pr,Level28:()=>yr,Level29:()=>vr,Level3:()=>mr,Level30:()=>gr,Level4:()=>br,Level5:()=>_r,Level6:()=>xr,Level7:()=>Rr,Level8:()=>kr,Level9:()=>wr,LevelEnd:()=>Ke,LevelEndBox:()=>Ir,LevelStart:()=>ze,LevelUpWindow:()=>jr,LevelUser:()=>Br,Lobby:()=>Vr,MainMenu:()=>Hr,MainMenuSong:()=>Kr,MenuLow:()=>zr,Morgue:()=>Ye,Multiplayer:()=>Qr,MultiplayerMenu:()=>Xr,MultiplayerPlayer:()=>$r,MultiplayerWarning:()=>Gr,NotLoggedIn:()=>tn,ParallaxScrollingBitmap:()=>en,Placeholder:()=>rn,Placing:()=>Ur,Plate:()=>nn,Player:()=>Ze,PlayerBar:()=>si,PlayerShell:()=>qr,PopSpikes:()=>Lr,QuickPlayLobby:()=>sn,Rewind:()=>an,Robot:()=>on,Runner:()=>Ge,Scratcher:()=>ln,SinglePlayerMenu:()=>Yr,Skin:()=>Ve,SkyLine:()=>Qe,SkylineA:()=>hi,SkylineB:()=>di,SkylineC:()=>fi,SmallScratch:()=>fn,Spike:()=>Ut,SpikeDrop:()=>dn,SpikeFall:()=>Tr,SpikesHolder:()=>Cr,StadiumA:()=>pi,StadiumB:()=>vi,StadiumC:()=>yi,StartBeam:()=>ni,StartPointHolder:()=>Er,Static:()=>$e,SwingingAxe:()=>Mr,Takeoff:()=>pn,Teleporter:()=>Pr,Thud:()=>yn,Ticker:()=>vn,TickerWord:()=>gn,Tile:()=>Vt,TileHolder:()=>Sr,TileOpaque:()=>Ht,TimeOutWindow:()=>bn,TreadmillLeftHolder:()=>Ar,TreadmillRightHolder:()=>Dr,Tubes:()=>Zr,Turnstile:()=>Li,UIBackground:()=>_n,UIPanel:()=>ti,WhiteSquare:()=>ai,WhooshSound:()=>xn,YouArrow:()=>oi,Zap:()=>Rn,betz:()=>c,blackBeam:()=>Mt,fl:()=>p,it:()=>m,john:()=>g,scrollBar:()=>hn});var _=i(6739),x=i.n(_),R=i(9526),k=R.createContext(null),w=k.Provider;function E(){var t=(0,R.useContext)(k);if(!t)throw new Error("Root store is not provided");return t}var S=i(8972),C=i.n(S),L=i(8884),T=i.n(L),M=i(8239),P=i.n(M),A=i(9621),D=i(3010),O=i(94),N=i(7760),B=i(7562),F=i(8745),I=i(1151),j=i(2942),U=i(7069),V=i(2741),G=i(2389),H=i(9793),K=i(8051),z=i(3633),X=i(5543),Y=i(1788);class q extends H.l{constructor(t=16711680,e=1,i=6,r=6,n=2,s=1,a=!1,o=!1){super(),this.color=t,this.alpha=e,this.blurX=i,this.blurY=r,this.strength=n,this.quality=s,this.inner=a,this.knockout=o}get __filter(){return{filter:Y.p.instance,paddings:X.al(this.blurX,this.blurY),blurX:this.blurX,blurY:this.blurY,passes:this.quality,color:16777216*Math.floor(255*this.alpha)+this.color,strength:this.strength,angle:0,distance:0,knockout:this.knockout}}}class W{constructor(t){this.url=t}}var J=i(570);class Z extends J.p{constructor(t){super(),this.name=t;try{this.data=JSON.parse(localStorage[t])||{}}catch(t){this.data={}}}static getLocal(t){return new Z(t)}flush(){localStorage[this.name]=JSON.stringify(this.data)}}function Q(t,e){window.open(t.url,e)}var $=i(23),tt=i(8682);class et extends J.p{constructor(t=0,e=0){super(),this.delay=t}start(){}stop(){}}function it(){return+new Date}function rt(t){const e=O.ClassRegistry.instance.classes.get(t);return null!=e?e:null}D.ZR(Float64Array);const nt=u;var st=i(8914),at=i.n(st),ot=i(2164),lt=i.n(ot),ut=i(2094),ct=i.n(ut);var ht=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e;return C()(this,n),(e=r.call(this,n.TYPE,!0,!1)).props=t,e}return n}(nt.flash.events.Event);P()(ht,"TYPE","external-event");var ft=function(){function t(e){var i=this;C()(this,t),P()(this,"container",null),P()(this,"stage",null),P()(this,"main",null),P()(this,"setContainer",(function(t){var e;i.container=t,i.stage&&(i.stage.__canvas.container.remove(),null===(e=i.container)||void 0===e||e.appendChild(i.stage.__canvas.container))})),this.root=e,(0,A.ky)(this),(0,A.EH)((function(){i.stage&&(i.stage.__isActive=i.isActive)}),{name:"bindGameActive"})}return T()(t,[{key:"start",value:function(){var t,e,i=this;if(!this.root.library.value)throw new Error("library is not loaded yet");if(!this.stage){var r=this.root.library.value,n=new nt.flash.display.Stage(r.properties);this.stage=n,n.__withContext((function(){var t=r.instantiateCharacter(0);t.addEventListener(ht.TYPE,(function(t){return i.handleExternalEvent(t.props)})),i.main=t,n.addChild(t)}))(),this.stage.__canvas.container.remove(),null===(t=this.container)||void 0===t||t.appendChild(this.stage.__canvas.container),null===(e=this.root.controller)||void 0===e||e.onGameStarted()}}},{key:"dispose",value:function(){this.stage&&(this.stage.__canvas.container.remove(),this.stage.__dispose(),this.main=null,this.stage=null)}},{key:"focus",value:function(){var t;null===(t=this.stage)||void 0===t||t.__canvas.element.focus()}},{key:"handleExternalEvent",value:function(t){var e=this;switch(t.type){case"sp-user-level":this.root.modal.present({type:"enter-user-level",onEnterLevel:function(t){var i;e.focus(),null===(i=e.stage)||void 0===i||i.__withContext((function(){var i,r;null===(i=e.main)||void 0===i||i.setUserLevel(t),null===(r=e.main)||void 0===r||r.startPracticeLevel(999)}))()}})}}},{key:"isActive",get:function(){return 0===this.root.modal.instances.length}},{key:"instance",get:function(){if(!this.main)throw new Error("Game is not started yet");return this.main}}]),t}(),dt={};dt.character1=new URL(i(7214),i.b),dt.character35=new URL(i(8773),i.b),dt.character83=new URL(i(9889),i.b),dt.character96=new URL(i(1523),i.b),dt.character316=new URL(i(5534),i.b),dt.character334=new URL(i(1625),i.b),dt.character560=new URL(i(9224),i.b),dt.character570=new URL(i(4718),i.b),dt.character622=new URL(i(578),i.b),dt.character627=new URL(i(7490),i.b),dt.character630=new URL(i(3566),i.b),dt.character632=new URL(i(1712),i.b),dt.character663=new URL(i(7890),i.b),dt.character761=new URL(i(1089),i.b),dt.character765=new URL(i(6513),i.b),dt.character796=new URL(i(134),i.b),dt.character806=new URL(i(9219),i.b),dt.character810=new URL(i(3285),i.b),dt.character813=new URL(i(2308),i.b),dt.character819=new URL(i(3031),i.b),dt.character863=new URL(i(7610),i.b),dt.character871=new URL(i(5069),i.b),dt.character1020=new URL(i(1558),i.b),dt.character1028=new URL(i(6344),i.b),dt.character1030=new URL(i(5708),i.b),dt.character1084=new URL(i(1913),i.b),dt.character1086=new URL(i(4916),i.b),dt.character1088=new URL(i(1862),i.b),dt.character1090=new URL(i(2764),i.b),dt.character1092=new URL(i(8365),i.b),dt.character47=new URL(i(3495),i.b),dt.character48=new URL(i(1229),i.b),dt.character172=new URL(i(9833),i.b),dt.character178=new URL(i(1494),i.b),dt.character179=new URL(i(8453),i.b),dt.character180=new URL(i(994),i.b),dt.character181=new URL(i(3278),i.b),dt.character182=new URL(i(2489),i.b),dt.character183=new URL(i(5790),i.b),dt.character184=new URL(i(9347),i.b),dt.character185=new URL(i(6837),i.b),dt.character186=new URL(i(8687),i.b),dt.character187=new URL(i(3023),i.b),dt.character188=new URL(i(9542),i.b),dt.character189=new URL(i(3402),i.b),dt.character190=new URL(i(3289),i.b),dt.character191=new URL(i(2874),i.b),dt.character192=new URL(i(1919),i.b),dt.character193=new URL(i(5082),i.b),dt.character194=new URL(i(6946),i.b),dt.character195=new URL(i(8062),i.b),dt.character196=new URL(i(5502),i.b),dt.character197=new URL(i(4825),i.b),dt.character198=new URL(i(8733),i.b),dt.character199=new URL(i(2477),i.b),dt.character200=new URL(i(6011),i.b),dt.character201=new URL(i(9635),i.b),dt.character202=new URL(i(2889),i.b),dt.character203=new URL(i(654),i.b),dt.character204=new URL(i(3648),i.b),dt.character205=new URL(i(1983),i.b),dt.character206=new URL(i(1957),i.b),dt.character207=new URL(i(7391),i.b),dt.character208=new URL(i(3090),i.b),dt.character209=new URL(i(4913),i.b),dt.character210=new URL(i(7416),i.b),dt.character256=new URL(i(81),i.b);const pt=JSON.parse('{"data":8862652,"character1":21578,"character35":1034,"character83":678,"character96":9958,"character316":218619,"character334":48525,"character560":28058,"character570":2930,"character622":47632,"character627":716042,"character630":363469,"character632":28793,"character663":777314,"character761":29531,"character765":67295,"character796":6491,"character806":10944,"character810":9119,"character813":11300,"character819":11310,"character863":1032,"character871":441,"character1020":21084,"character1028":49340,"character1030":23598,"character1084":615441,"character1086":616205,"character1088":635596,"character1090":636370,"character1092":634154,"character47":6890,"character48":2730,"character172":92170,"character178":349960,"character179":349960,"character180":116480,"character181":27820,"character182":1170,"character183":16120,"character184":2340,"character185":29380,"character186":20280,"character187":1040,"character188":307580,"character189":307580,"character190":102440,"character191":1300,"character192":243750,"character193":243750,"character194":81250,"character195":398320,"character196":243100,"character197":2600,"character198":315900,"character199":315900,"character200":105170,"character201":780,"character202":1300,"character203":313560,"character204":313560,"character205":104390,"character206":8320,"character207":2470,"character208":1950,"character209":13130,"character210":5460,"character256":1820}'),yt=JSON.parse('{"width":16000,"height":10000,"fps":30,"backgroundColor":13421772}');var vt=new URL(i(7374),i.b);dt.data=vt;for(var mt=0,gt=Object.entries(dt);mt<gt.length;mt++){var bt=x()(gt[mt],2),_t=bt[0],xt=bt[1];dt[_t]={url:xt,size:pt[_t]}}var Rt={data:"data",properties:yt,assets:dt},kt=function t(e,i){C()(this,t),this.got=!1,this.achName=e,this.description=i};var wt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e){var i;return C()(this,n),(i=r.call(this,t,!0,!1)).achNum=e,i}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.achNum)}},{key:"toString",value:function(){return this.formatToString("AchEvent","type","bubbles","cancelable","eventPhase")}}]),n}(nt.flash.events.Event);P()(wt,"SEND","sendr");var Et=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(102,t.frame103),t}return T()(n,[{key:"frame103",value:function(){this.parent.killAch(this)}}]),n}(nt.flash.display.MovieClip);var St=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Ct=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Lt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Tt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Mt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip),Pt=i(9168),At=i.n(Pt),Dt=i(8183),Ot=i.n(Dt);var Nt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).bmpOffsetX=0,t.bmpOffsetY=0,t.canvasWidth=0,t.alphaFade=!0,t.canvasHeight=0,t}return T()(n,[{key:"alphaFader",value:function(){var t=new nt.flash.geom.ColorTransform(1,1,1,.99,0,0,0,0);this.bmpData.colorTransform(new nt.flash.geom.Rectangle(this.bmpOffsetX,this.bmpOffsetY,this.canvasWidth,this.canvasHeight),t)}},{key:"drawMovieClip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"normal";1==e&&2==i&&3==r&&(e=t.x,i=t.y,r=t.rotation);var a=new nt.flash.geom.Matrix;a.translate(e-this.bmpOffsetX,i-this.bmpOffsetY),-1==t.scaleX&&(a.scale(-1,1),a.translate(2*t.x,0)),this.bmpData.draw(t,a,n,s)}},{key:"getAlpha",value:function(t,e){return this.bmpData.getPixel32(t,e)>>24&255}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:550,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;this.bmpData=new nt.flash.display.BitmapData(t,e,!0,16777215),this.bmp=new nt.flash.display.Bitmap(this.bmpData),this.addChild(this.bmp),this.canvasWidth=t,this.canvasHeight=e}},{key:"kill",value:function(){this.bmpData.dispose()}},{key:"lineTo",value:function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=new nt.flash.display.MovieClip;o.graphics.lineStyle(n,s,a),o.graphics.moveTo(t,e),o.graphics.lineTo(i,r),this.drawMovieClip(o),o=null}},{key:"ping",value:function(){this.alphaFade&&this.alphaFader()}}]),n}(nt.flash.display.MovieClip);var Bt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip),Ft=function(){function t(){C()(this,t)}return T()(t,null,[{key:"autoElastic",value:function(t,e,i,r,n){return(e+=(i-t)*r)*n}},{key:"colourMe",value:function(t,e){var i=t.transform.colorTransform;i.color=e,t.transform.colorTransform=i}},{key:"ease",value:function(t,e,i){return t-i*(t-e)/2}},{key:"elastic",value:function(t,e,i,r,n){return(e+=(i-t)*r)*n}},{key:"removeColour",value:function(t){t.transform.colorTransform=new nt.flash.geom.ColorTransform}}]),t}();var It=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no message";return C()(this,n),(e=r.call(this,t,!0,!1)).sender=i,e.msg=s,e}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.sender,this.msg)}},{key:"toString",value:function(){return this.formatToString("Relay","type","bubbles","cancelable","eventPhase")}}]),n}(nt.flash.events.Event);P()(It,"ACH","ach"),P()(It,"GOTO","goto"),P()(It,"SEND","send"),P()(It,"WARNING","warning");var jt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).id=0,t.checkPointFlags=new Array,t.playerList=new Array,t}return T()(n,[{key:"addFlag",value:function(t,e,i){for(var r=null,n=0;n<this.playerList.length;n++)if(t==this.playerList[n])return;this.playerList.push(t),(r=new Bt).x=0,r.y=this.checkPointFlags.length*(r.height/2)-40,Ft.colourMe(r.flag.parts1,e),Ft.colourMe(r.flag.parts2,i),this.checkPointFlags.push(r),this.addChild(r),t.isMain&&this.dispatchEvent(new It(It.SEND,"CHECK"))}},{key:"isNew",value:function(t){for(var e=0;e<this.playerList.length;e++)if(t==this.playerList[e])return!1;return!0}}]),n}(nt.flash.display.MovieClip);var Ut=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Vt=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).posX=0,t.posY=0,t.holdY=0,t.tileSize=25,t.myColour=0,t.touched=!1,t.holdX=0,t.type=1,t.painted=!1,t}return T()(n,[{key:"init",value:function(){this.x=Math.round(this.x),this.y=Math.round(this.y),this.holdX=this.x,this.holdY=this.y,this.posX=Math.floor(this.x/this.tileSize),this.posY=Math.floor(this.y/this.tileSize),this.name="tile"+this.posX+"x"+this.posY}}]),n}(nt.flash.display.MovieClip);var Gt,Ht=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(Vt);!function(t){t[t.FlowNormal=0]="FlowNormal",t[t.FlowDisabled=1]="FlowDisabled",t[t.FlowAlways=2]="FlowAlways",t[t.FlowModeMask=3]="FlowModeMask",t[t.IsProtected=4]="IsProtected",t[t.AllowRewind=8]="AllowRewind",t[t.AllowSuspend=16]="AllowSuspend",t[t.ShowTeleporterName=32]="ShowTeleporterName"}(Gt||(Gt={}));var Kt=i(4316),zt=new TextDecoder,Xt=function(){function t(e){C()(this,t),P()(this,"offset",0),this.data=e}return T()(t,[{key:"readByte",value:function(){var t=this.data.getUint8(this.offset);return this.offset++,t}},{key:"readInt32",value:function(){var t=this.data.getInt32(this.offset,!0);return this.offset+=4,t}},{key:"readFloat",value:function(){var t=this.data.getFloat32(this.offset,!0);return this.offset+=4,t}},{key:"readByteLengthString",value:function(){var t=this.readByte(),e=this.data.buffer.slice(this.offset,this.offset+t);return this.offset+=t,zt.decode(e)}}]),t}(),Yt=/^(.+)#([a-zA-Z0-9+/]+=*)$/,qt={s:"start-point",e:"end-point",b:"tile",h:"half-tile"," ":"invisible-tile",x:"bouncer",k:"spikes",p:"pop-spikes",f:"fall-spikes",l:"laser-cannon",a:"swinging-axe",g:"grinder",c:"checkpoint",t:"teleporter","<":"left-treadmill",">":"right-treadmill",q:"text"},Wt=i(8669),Jt=i.n(Wt),Zt=/^(.+)~#-([a-zA-Z0-9+/]+=*)~$/,Qt={2:"start-point",1:"end-point",3:"tile",7:"half-tile",4:"invisible-tile",12:"bouncer",6:"spikes",5:"pop-spikes",13:"fall-spikes",14:"laser-cannon",9:"swinging-axe",8:"grinder",16:"checkpoint",15:"teleporter",11:"left-treadmill",10:"right-treadmill",17:"text"},$t=new Set(["pop-spikes","grinder","swinging-axe","bouncer","teleporter","text"]);function te(t){if(function(t){return Yt.test(t)}(t))return function(t){for(var e=Yt.exec(t),i=x()(e,3),r=i[1],n=i[2],s=atob(n),a=new DataView((0,Kt.inflateRaw)(s).buffer),o=new Xt(a),l=o.readInt32(),u=[],c=0;c<l;c++){var h=String.fromCodePoint(o.readByte()),f=qt[h];if(!f)throw new Error("Unknown level object type: ".concat(JSON.stringify(h)));var d=void 0;"text"===f&&(d=o.readByteLengthString());var p=o.readByteLengthString(),y=[o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat()];u.push({type:f,name:p,matrix:y,text:d})}return{name:r,objects:u,flags:0}}(t);if(function(t){return Zt.test(t)}(t))return function(t){var e=Zt.exec(t),i=x()(e,3),r=i[1],n=i[2],s=atob(n),a=new DataView((0,Kt.inflateRaw)(s).buffer),o=new Xt(a),l=o.readInt32();if(1447841861!=l){var u=l.toString(16).padStart(8,"0");throw new Error("Invalid level signature: ".concat(u))}var c=o.readByte();if(1!==c)throw new Error("Invalid level version: ".concat(c));o.offset+=2;var h=o.readByte();h&Gt.IsProtected&&(o.offset+=16);var f=o.readInt32(),d=[];d.push([1,0,0,1,0,0]);for(var p=0;p<f;p++)d.push([o.readFloat(),o.readFloat(),o.readFloat(),o.readFloat(),0,0]);for(var y=o.readInt32(),v=[],m=0;m<y;m++){var g=o.readByte(),b=Qt[127&g];if(!b)throw new Error("Unknown level object type: ".concat(g));var _=void 0,R="";if($t.has(b)){var k=o.readByteLengthString();"text"===b?_=k:R=k}var w=void 0;(w=128&g?Jt()(d[o.readInt32()]):Jt()(d[0]))[4]=o.readFloat(),w[5]=o.readFloat(),v.push({type:b,name:R,matrix:w,text:_})}return{name:r,objects:v,flags:h}}(t);throw new Error("Invalid level code")}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var ie=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),t=r.call(this),P()(At()(t),"flags",Gt.ShowTeleporterName),P()(At()(t),"lockCamX",!1),P()(At()(t),"lockCamY",!0),t}return T()(n,[{key:"__preInit",value:function(){this.tMaxX=100,this.tMaxY=50,this.levelName="Multiplayer",this.obstacleColour=13421772,this.createdArray=!1,this.levelColour=3355443,this.lastX=0,this.lastY=0,this.checkPointID=0,this.arrayMode=!1,this.levelWidth=400,this.maxWidth=0,this.levelHeight=800,this.levelType="SP",this.tArr=new Array,this.toPush=new Array,this.canvas=new Nt,this.timeString="",this.timeRank="",this.popSpikes=new Array,this.tiles=new Array,this.halfTiles=new Array,this.plates=new Array,this.laserGuns=new Array,this.spikes=new Array,this.swingingAxes=new Array,this.teleporters=new Array,this.fallingSpikes=new Array,this.grinders=new Array,this.bouncers=new Array,this.laserCannons=new Array,this.checkPoints=new Array,Ot()(ct()(n.prototype),"__preInit",this).call(this)}},{key:"addCheckpoint",value:function(t){var e=new jt;this.addChild(e),e.x=t.x,e.y=t.y,e.id=this.checkPointID,this.checkPointID++,this.checkPoints.push(e)}},{key:"applyObstacleColour",value:function(t){Ft.colourMe(t,this.obstacleColour)}},{key:"createArray",value:function(){var t=0;this.tArr.splice(0,this.tArr.length);for(var e=0;e<this.tMaxY;e++)for(this.tArr.push(new Array),t=0;t<this.tMaxX;t++)this.tArr[e].push(nt.__internal.avm2.Runtime.uint(0));this.canvas.init(3e3,3e3),this.addChild(this.canvas)}},{key:"createBouncer",value:function(t){this.bouncers.push(t),this.createTileAt(t,99),this.applyObstacleColour(t)}},{key:"createEndPoint",value:function(t){this.createTileAt(t,4)}},{key:"createFallingSpike",value:function(t){this.fallingSpikes.push(t),this.applyObstacleColour(t)}},{key:"createGrinder",value:function(t){this.grinders.push(t),this.applyObstacleColour(t)}},{key:"createHalfBlock",value:function(t){this.createTileAt(t,3)}},{key:"createInvisibleBlock",value:function(t){this.createTileAt(t,98)}},{key:"createLaserCannon",value:function(t){this.laserCannons.push(t),this.applyObstacleColour(t.barrel)}},{key:"createLaserGun",value:function(t){this.laserGuns.push(t),this.applyObstacleColour(t.gunBarrel)}},{key:"createPlate",value:function(t){this.plates.push(t),this.applyObstacleColour(t)}},{key:"createPopSpikes",value:function(t){this.popSpikes.push(t),t.inside.spikes.hitA.visible=!1,this.applyObstacleColour(t)}},{key:"createSpike",value:function(t){this.createSpikeAt(t)}},{key:"createSpikeAt",value:function(t){var e=new Ut;e.x=Math.round(t.x),e.y=Math.round(t.y),e.rotation=t.rotation,this.addChild(e),e.hitA.visible=!1,this.applyObstacleColour(e),this.spikes.push(e),t.visible=!1}},{key:"createStartPoint",value:function(t){this.createTileAt(t,2)}},{key:"createSwingingAxe",value:function(t){this.swingingAxes.push(t),t.axe.side0.visible=!1,t.axe.side1.visible=!1,this.applyObstacleColour(t)}},{key:"createTeleporter",value:function(t){this.teleporters.push(t),this.applyObstacleColour(t)}},{key:"createTile",value:function(t){this.createTileAt(t,1)}},{key:"createTileAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.toPush.push([t,e])}},{key:"createTreadmillBlock",value:function(t,e){"L"==e?this.createTileAt(t,5):this.createTileAt(t,6)}},{key:"generateLevel",value:function(){this.preInitCheck(),this.maxWidth=0,this.maxHeight=0,this.canvas.init(3e3,3e3),this.addChild(this.canvas);var t,e=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return ee(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ee(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw s}}}}(this.toPush);try{for(e.s();!(t=e.n()).done;){var i=x()(t.value,2),r=i[0],n=i[1],s=void 0;if(s="SP"==this.levelType?new Vt:new Ht,r.rotation%90==0){r.addChild(s);var a=s.getBounds(this.canvas);r.removeChild(s),s.x=Math.round(a.x),s.y=Math.round(a.y)}else s.x=Math.round(r.x),s.y=Math.round(r.y),s.rotation=r.rotation;switch(s.x>this.maxWidth&&(this.maxWidth=s.x),s.y>this.maxHeight&&(this.maxHeight=s.y),s.typeOf=n,3===s.typeOf?this.halfTiles.push(s):r.rotation%90!=0||99===s.typeOf&&r.name.startsWith("t")||(this.tiles.push(s),s.init()),this.addChild(s),4!=n&&"SP"==this.levelType&&Ft.colourMe(s,this.levelColour),s.gotoAndStop(s.typeOf),n){case 1:case 99:s.x<3e3&&(this.addChild(s),1===n&&(this.canvas.drawMovieClip(s,s.x,s.y,0,s.transform.colorTransform),s.visible=!1));break;case 2:this.startPoint=s;break;case 4:this.endPoint=s}this.arrayMode&&(this.tArr[Math.round(r.y/25)][Math.round(r.x/25)]=n,1==n&&s.x<3e3&&(this.canvas.drawMovieClip(s,s.x,s.y),this.removeChild(s),s=null)),99!=n&&this.removeChild(r)}}catch(t){e.e(t)}finally{e.f()}this.toPush.splice(0,this.toPush.length),this.arrayMode&&this.tiles.splice(0,this.tiles.length);for(var o=0;o<this.teleporters.length;o++)this.teleporters[o].init();this.uniqueLevelInit()}},{key:"init",value:function(){this.levelWidth=this.width,this.levelHeight=this.height}},{key:"kill",value:function(){this.canvas.kill()}},{key:"killTiles",value:function(){for(var t=0;t<this.tiles.length;t++)99==this.tiles[t].typeOf&&(this.removeChild(this.tiles[t]),this.tiles[t]=null,this.tiles.splice(t,1),t--)}},{key:"ping",value:function(){}},{key:"preInitCheck",value:function(){}},{key:"repaint",value:function(){for(var t=0;t<this.spikes.length;t++)Ft.colourMe(this.spikes[t],this.obstacleColour),this.applyObstacleColour(this.spikes[t]);for(t=0;t<this.swingingAxes.length;t++)Ft.colourMe(this.swingingAxes[t],this.obstacleColour);for(t=0;t<this.teleporters.length;t++)Ft.colourMe(this.teleporters[t],this.obstacleColour);for(t=0;t<this.fallingSpikes.length;t++)Ft.colourMe(this.fallingSpikes[t],this.obstacleColour);for(t=0;t<this.grinders.length;t++)Ft.colourMe(this.grinders[t],this.obstacleColour);for(t=0;t<this.laserCannons.length;t++)Ft.colourMe(this.laserCannons[t].barrel,this.obstacleColour);for(t=0;t<this.bouncers.length;t++)Ft.colourMe(this.bouncers[t],this.obstacleColour)}},{key:"setPlayer",value:function(t){this.player=t}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(nt.flash.display.MovieClip),re=function(){function t(){C()(this,t)}return T()(t,null,[{key:"ceilTo",value:function(t,e){return e*Math.ceil(t/e)}},{key:"chance",value:function(e){return 0==t.random(e)?1:0}},{key:"degToRad",value:function(t){return t*Math.PI/180}},{key:"dist",value:function(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}},{key:"floorTo",value:function(t,e){return e*Math.floor(t/e)}},{key:"getRotationDifference",value:function(t,e){var i=e,r=t-i;return r>180?i+=360:r<-180&&(i-=360),i-t}},{key:"midPoint",value:function(t,e){var i=(t.x+e.x)/2,r=(t.y+e.y)/2;return new nt.flash.geom.Point(i,r)}},{key:"pythagH",value:function(t,e){return Math.sqrt(t*t+e*e)}},{key:"random",value:function(t){return Math.floor(Math.random()*t)}},{key:"randomBoolean",value:function(){return 0!=t.random(2)}},{key:"randomColour",value:function(){return 16777215*Math.random()}},{key:"range",value:function(e){return e-t.random(2*e+1)}},{key:"restrict",value:function(t,e,i){return Math.max(Math.min(t,i),e)}},{key:"roman",value:function(t){for(var e=void 0,i=void 0,r="",n=new Array("IIII","V","XXXX","L","CCCC","D","MMMM"),s=0;s<n.length;s++)i=t%(e=n[s].length+1),r=n[s].substr(0,i)+r,t=(t-i)/e;return(r=(r=(r=(r=(r=r.replace(/DCCCC/g,"CM")).replace(/CCCC/g,"CD")).replace(/LXXXX/g,"XC")).replace(/XXXX/g,"XL")).replace(/VIIII/g,"IX")).replace(/IIII/g,"IV")}},{key:"rotateTo",value:function(t,e,i,r){return 180*-Math.atan2(i-t,r-e)/Math.PI}},{key:"roundDecimal",value:function(t,e){return nt.__internal.avm2.Runtime.int(t*Math.pow(10,e))/Math.pow(10,e)}},{key:"roundTo",value:function(t,e){return e*Math.round(t/e)}},{key:"toHex",value:function(t){for(var e="",i=0,r=t;r>0;)switch(i=r%16,r/=16,i){case 10:e="A"+e;continue;case 11:e="B"+e;continue;case 12:e="C"+e;continue;case 13:e="D"+e;continue;case 14:e="E"+e;continue;case 15:e="F"+e;continue;default:e=i+e;continue}return e}}]),t}();var ne=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).thudTresh=2,t.holdDown=!1,t.guyTL=!1,t.guyTM=!1,t.xVel=0,t.guyTR=!1,t.xLove=0,t.guyLM=!1,t.yMax=20,t.cblx=0,t.cbly=0,t.holdCounter=0,t.yAcc=1,t.hops=-8,t.cbmy=0,t.cmx=0,t.cbmx=0,t.crmx=0,t.crmy=0,t.yVel=0,t.bounceTolerance=0,t.cmy=0,t.ctrx=0,t.ctry=0,t.yGrav=.6,t.playerSize=0,t.lastY=0,t.bounce=-.3,t.dXVel=8,t.yLove=3,t.lastX=0,t.modX=0,t.playerJump=!1,t.rotSpeed=1,t.typeOf="none",t.holdUp=!1,t.ctlx=0,t.ctly=0,t.guyRM=!1,t.xMax=30,t.xF=0,t.tileSize=25,t.clmx=0,t.clmy=0,t.guyBM=!1,t.guyBR=!1,t.guyBL=!1,t.ctmy=0,t.cbrx=0,t.cbry=0,t.dYVel=0,t.xAcc=1,t.ctmx=0,t.yF=1,t.jumpCounter=0,t.jumping=!1,t.jumpLevel=!1,t.xGrav=0,t.curLevel=new ie,t.targetObject=At()(t),t}return T()(n,[{key:"bounding",value:function(){this.yVel<0?this.checkTile(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkTile(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(re.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkTile(this.x+this.xVel+this.modX,this.y,3,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkTile(this.x+this.xVel+this.modX,this.y,2,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br?(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)):this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}},{key:"bounding2",value:function(){this.yVel<0?this.checkArray(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkArray(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(re.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkArray(this.x+this.xVel,this.y,3,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkArray(this.x+this.xVel,this.y,2,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br&&(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)),this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}},{key:"checkArray",value:function(t,e,i,r){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var n=this.targetObject.width,s=this.targetObject.height;this.ctlx=t-n/2+1,this.ctly=e-s+1,this.ctrx=t+n/2-1,this.ctry=e-s+1,this.cbrx=t+n/2-1,this.cbry=e-1,this.cblx=t-n/2+1,this.cbly=e-1,this.clmx=t-n/2+1,this.clmy=e-s/2+1,this.ctmx=t+1,this.ctmy=e-s+1,this.crmx=t+n/2-1,this.crmy=e-s/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy;var a=this.curLevel.tArr[Math.floor(this.ctly/this.tileSize)][Math.floor(this.ctlx/this.tileSize)],o=this.curLevel.tArr[Math.floor(this.ctry/this.tileSize)][Math.floor(this.ctrx/this.tileSize)],l=this.curLevel.tArr[Math.floor(this.cbry/this.tileSize)][Math.floor(this.cbrx/this.tileSize)],u=this.curLevel.tArr[Math.floor(this.cbly/this.tileSize)][Math.floor(this.cblx/this.tileSize)],c=this.curLevel.tArr[Math.floor(this.ctmy/this.tileSize)][Math.floor(this.ctmx/this.tileSize)],h=this.curLevel.tArr[Math.floor(this.clmy/this.tileSize)][Math.floor(this.clmx/this.tileSize)],f=this.curLevel.tArr[Math.floor(this.cbmy/this.tileSize)][Math.floor(this.cbmx/this.tileSize)],d=this.curLevel.tArr[Math.floor(this.crmy/this.tileSize)][Math.floor(this.crmx/this.tileSize)];switch(a>0&&(this.guyTL=1==a),o>0&&(this.guyTR=1==o),l>0&&(1==l||2==l&&this.yVel>0?this.guyBR=!0:this.guyBR=!1),u>0&&(1==u||2==u&&this.yVel>0?this.guyBL=!0:this.guyBL=!1),c>0&&(this.guyTM=1==c),f>0&&(this.guyBM=1==f),h>0&&(this.guyLM=1==h),d>0&&(this.guyRM=1==d),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&(this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),1==this.playerSize&&this.guyBR&&this.guyBL&&(this.jumpLevel=!0)):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),i){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}},{key:"checkTile",value:function(t,e,i,r){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var n=this.targetObject.width,s=this.targetObject.height;switch(this.ctlx=t-n/2+1,this.ctly=e-s+1,this.ctrx=t+n/2-1,this.ctry=e-s+1,this.cbrx=t+n/2-1,this.cbry=e-1,this.cblx=t-n/2+1,this.cbly=e-1,this.clmx=t-n/2+1,this.clmy=e-s/2+1,this.ctmx=t+1,this.ctmy=e-s+1,this.crmx=t+n/2-1,this.crmy=e-s/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy,this.tl=this.curLevel.getChildByName("tile"+Math.floor(this.ctlx/this.tileSize)+"x"+Math.floor(this.ctly/this.tileSize)),this.tr=this.curLevel.getChildByName("tile"+Math.floor(this.ctrx/this.tileSize)+"x"+Math.floor(this.ctry/this.tileSize)),this.br=this.curLevel.getChildByName("tile"+Math.floor(this.cbrx/this.tileSize)+"x"+Math.floor(this.cbry/this.tileSize)),this.bl=this.curLevel.getChildByName("tile"+Math.floor(this.cblx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tm=this.curLevel.getChildByName("tile"+Math.floor(this.ctmx/this.tileSize)+"x"+Math.floor(this.ctmy/this.tileSize)),this.lm=this.curLevel.getChildByName("tile"+Math.floor(this.clmx/this.tileSize)+"x"+Math.floor(this.clmy/this.tileSize)),this.bm=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbmy/this.tileSize)),this.rm=this.curLevel.getChildByName("tile"+Math.floor(this.crmx/this.tileSize)+"x"+Math.floor(this.crmy/this.tileSize)),this.mb=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tl&&(1==this.tl.type?(this.guyTL=!0,this.pass(this.tl)):this.guyTL=!1),this.tr&&(1==this.tr.type?(this.guyTR=!0,this.pass(this.tr)):this.guyTR=!1),this.br&&(1==this.br.type?(this.guyBR=!0,this.pass(this.br)):2==this.br.type&&this.yVel>0?this.guyBR=!0:this.guyBR=!1),this.bl&&(1==this.bl.type?(this.guyBL=!0,this.pass(this.bl)):2==this.bl.type&&this.yVel>0?this.guyBL=!0:this.guyBL=!1),this.tm&&(1==this.tm.type?(this.guyTM=!0,this.pass(this.tm)):this.guyTM=!1),this.bm&&(1==this.bm.type?(this.guyBM=!0,this.pass(this.bm)):this.guyBM=!1),this.lm&&(1==this.lm.type?(this.guyLM=!0,this.pass(this.lm)):this.guyLM=!1),this.rm&&(1==this.rm.type?(this.guyRM=!0,this.pass(this.rm)):this.guyRM=!1),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&((this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0)),1==this.playerSize&&(this.guyBR&&this.guyBL&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0))):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),i){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}},{key:"hitBlock",value:function(t){}},{key:"init",value:function(t){this.curLevel=t,this.lastX=this.x,this.lastX=this.y}},{key:"normalHorizontal",value:function(){this.xVel=this.xVel+this.xGrav,this.xGrav>0?(1==this.xLove&&(this.holdUp||this.xVel++,this.xVel>=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel>0&&(this.xLove=3),3!=this.xLove||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.xVel>1.5&&(this.xVel=3),0==this.xLove&&(this.playerJump=!1)):(1==this.xLove&&(this.holdUp||this.xVel--,this.yVel<=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel<0&&(this.xLove=3),3!=this.xLove||0!=this.xVel||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.yVel<1.5&&(this.xLove=3),0==this.xLove&&(this.playerJump=!1))}},{key:"normalVertical",value:function(){this.yVel=this.yVel+this.yGrav,this.yGrav>0?(1==this.yLove&&(this.holdUp||this.yVel++,this.yVel>=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel>0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel>1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)):(1==this.yLove&&(this.holdUp||this.yVel--,this.yVel<=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel<0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel<1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)),0!=this.yLove&&(this.jumpLevel=!1)}},{key:"pass",value:function(t){}},{key:"touchBlock",value:function(t){}},{key:"updateTileInteraction",value:function(){this.lastX=this.x,this.lastY=this.y,this.normalVertical(),this.curLevel.arrayMode?this.bounding2():this.bounding(),"egg"==this.typeOf&&(this.y=Math.floor(this.y)),"deadaphant"==this.typeOf&&(this.y=Math.floor(this.y))}}]),n}(nt.flash.display.MovieClip);var se=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelNum=0,t.colour=16777215,t.gameMode=0,t.deadCounter=0,t}return T()(n,[{key:"hitBlock",value:function(t){}},{key:"ping",value:function(){this.playerSize=1,this.thudTresh=5,this.xF=.7,this.targetObject=this.hitA,this.updateTileInteraction()}},{key:"touchBlock",value:function(t){}}]),n}(ne);var ae=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var oe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var le=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).bounces=0,t.addFrameScript(0,t.frame1),t.parent.createBouncer(At()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var ue=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ce=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).goal=0,t.counter=0,t}return T()(n,[{key:"ping",value:function(){if(this.counter++,this.x=0-this.parent.x,this.counter>=this.goal)return this.counter=0,this.setGoal(),this.cameraFlash.x=re.random(800),this.cameraFlash.rotation=re.random(360),this.cameraFlash.y=300+re.random(200),void this.cameraFlash.play()}},{key:"setGoal",value:function(){this.goal=re.random(20)+5}}]),n}(nt.flash.display.MovieClip);var he=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e){var i;return C()(this,n),(i=r.call(this,t,!0))._color=e,i}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.color)}},{key:"toString",value:function(){return this.formatToString("ColorPickerEvent","type","bubbles","cancelable","color")}},{key:"color",get:function(){return this._color}}]),n}(nt.flash.events.Event);P()(he,"CHANGE","change"),P()(he,"ENTER","enter"),P()(he,"ITEM_ROLL_OUT","itemRollOut"),P()(he,"ITEM_ROLL_OVER","itemRollOver");var fe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e;C()(this,n),(e=r.call(this)).colour=0,e.colour2=0,e.playerObject=t,e.addEventListener(nt.flash.events.Event.ENTER_FRAME,e.ping,!1,0,!0),e.addEventListener(nt.flash.events.MouseEvent.CLICK,e.clicky,!1,0,!0),e.pickerA.addEventListener(he.ITEM_ROLL_OVER,e.roll),e.pickerB.addEventListener(he.ITEM_ROLL_OVER,e.roll),e.pickerA.addEventListener(he.CHANGE,e.roll),e.pickerB.addEventListener(he.CHANGE,e.roll),e.backToMenuButton.addEventListener(nt.flash.events.MouseEvent.CLICK,e.backButt,!1,0,!0),e.pickerA.selectedColor=e.playerObject.colour,e.pickerB.selectedColor=e.playerObject.colour2,e.runnerBar.runner.colour=e.playerObject.colour,e.runnerBar.runner.colour2=e.playerObject.colour2,e.runnerBar.runner.headType=e.playerObject.headType,e.runnerBar.runner.handType=e.playerObject.handType,e.tagOf.text=e.playerObject.userName;for(var i=0;i<24;i++)e["box"+i].head.gotoAndStop(i+1),e.playerObject.achs[i]?(e["box"+i].lock.visible=!1,e["box"+i].whiteOutline.visible=!0):(e["box"+i].head.visible=!1,e["box"+i].lock.visible=!0,e["box"+i].whiteOutline.visible=!1);for(i=0;i<24;i++)e["item"+i].arm.handGear.gotoAndStop(i+1),e.playerObject.achs[i+24]?(e["item"+i].lock.visible=!1,e["item"+i].whiteOutline.visible=!0):(e["item"+i].arm.handGear.visible=!1,e["item"+i].lock.visible=!0,e["item"+i].whiteOutline.visible=!1);return e}return T()(n,[{key:"backButt",value:function(){this.dispatchEvent(new It(It.GOTO,"SaveGame")),this.dispatchEvent(new It(It.GOTO,"CharacterSelection","Back"))}},{key:"clicky",value:function(){for(var t=0;t<24;t++)this["box"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.headType=this.playerObject.headType=t+1);for(t=0;t<24;t++)this["item"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.handType=this.playerObject.handType=t+1)}},{key:"kill",value:function(){this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping),this.pickerA.removeEventListener(he.ITEM_ROLL_OVER,this.roll),this.pickerB.removeEventListener(he.ITEM_ROLL_OVER,this.roll),this.pickerA.removeEventListener(he.CHANGE,this.roll),this.pickerB.removeEventListener(he.CHANGE,this.roll),this.backToMenuButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.backButt)}},{key:"ping",value:function(){this.runnerBar.runner.setColours(),this.playerObject.userName=this.tagOf.text}},{key:"roll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t.currentTarget;e==this.pickerA?(this.runnerBar.runner.colour=e.selectedColor,this.playerObject.colour=e.selectedColor):(this.runnerBar.runner.colour2=e.selectedColor,this.playerObject.colour2=e.selectedColor)}}]),n}(nt.flash.display.MovieClip);var de=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.addCheckpoint(At()(t)),t}return n}(nt.flash.display.MovieClip);var pe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ye=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ve=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var me=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var ge=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var be=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var _e=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var xe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Re=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var ke=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.Sprite);var we=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Ee=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip),Se=function(){function t(){C()(this,t),this.frameBased=!0,this.completeString="",this.timerCounter=0,this.timerInc=0}return T()(t,[{key:"getFrameTime",value:function(){return this.timerCounter}},{key:"getRealTime",value:function(e){return t.translateTime(e)}},{key:"getTimeAsSeconds",value:function(){return Math.floor(this.timerCounter/t.fr)%60}},{key:"getTimeAsString",value:function(){return this.completeString}},{key:"getTimeAsTotalSeconds",value:function(){return Math.floor(this.timerCounter/t.fr)}},{key:"handleCounter",value:function(){this.frameBased&&(this.timerCounter=this.timerCounter+1,this.completeString=t.translateTime(this.timerCounter))}},{key:"initTimer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.frameBased=!1,this.timer=new nt.flash.utils.Timer(t),this.timerInc=t,this.timer.addEventListener("timer",this.timerHandler),this.timer.start()}},{key:"killTimer",value:function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener("timer",this.timerHandler))}},{key:"ping",value:function(){this.handleCounter()}},{key:"resetTime",value:function(){this.timerCounter=0}},{key:"setTime",value:function(t){this.timerCounter=t}},{key:"setTimeAsTotalSeconds",value:function(e){this.timerCounter=e*t.fr}},{key:"timerHandler",value:function(e){this.timerCounter=this.timerCounter+Math.ceil(t.fr*this.timerInc/1e3)}}],[{key:"translateTime",value:function(e){var i,r,n=Math.round(e%t.fr/t.fr*100);i=n<10?"0"+n:String(n);var s=Math.floor(e/t.fr)%60;r=s<10?"0"+s:String(s);var a=Math.floor(e/(60*t.fr));return(a<10?"0"+a:String(a))+":"+r+"."+i}}]),t}();P()(Se,"fr",30);var Ce=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e;return C()(this,n),(e=r.call(this)).user="bob",e.timer=new Se,e.user=t,e.timer.initTimer(),e.addEventListener(nt.flash.events.Event.ENTER_FRAME,e.counting),e.whoBeat.text=e.user+" just beat the level!",e}return T()(n,[{key:"counting",value:function(){this.timeOf.text=String(15-this.timer.getTimeAsSeconds())}},{key:"endNow",value:function(){this.timer.killTimer(),this.dispatchEvent(new It(It.SEND,"EndCountdown","End"))}},{key:"ping",value:function(t,e){this.x=t,this.y=e,15-this.timer.getTimeAsSeconds()<=0&&this.endNow()}}]),n}(nt.flash.display.MovieClip);var Le=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createEndPoint(At()(t)),t}return n}(nt.flash.display.MovieClip);var Te=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,14,t.frame15,29,t.frame30),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame15",value:function(){this.parent.loadNextSinglePlayerLevel()}},{key:"frame30",value:function(){this.parent.endFadeOut(this)}}]),n}(nt.flash.display.MovieClip);var Me=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Pe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Ae=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var De=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e,i){var s;return C()(this,n),(s=r.call(this,n.SCROLL,!1,!1))._direction=t,s._delta=e,s._position=i,s}return T()(n,[{key:"clone",value:function(){return new n(this._direction,this._delta,this._position)}},{key:"toString",value:function(){return this.formatToString("ScrollEvent","type","bubbles","cancelable","direction","delta","position")}},{key:"delta",get:function(){return this._delta}},{key:"direction",get:function(){return this._direction}},{key:"position",get:function(){return this._position}}]),n}(nt.flash.events.Event);P()(De,"SCROLL","scroll");var Oe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).achievements=new Array,t}return T()(n,[{key:"addListeners",value:function(){this.holder.backToButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"buttons",value:function(t){switch(t.currentTarget){case this.holder.backToButton:this.dispatchEvent(new It(It.GOTO,"FlairMenu","Back"))}}},{key:"handleScrollBarScroll",value:function(t){var e=this.height-50-this.holder.scrollBar_mc.height;this.y=0+this.holder.scrollBar_mc.percent*-e}},{key:"init",value:function(t,e){var i=null;this.playerObject=t,this.achievements=e,this.addListeners();for(var r=0;r<48;r++)i=e[r],this["s"+r].nam.text=i.achName,this["s"+r].desc.text=i.description,this.playerObject.achs[r]?(this["s"+r].lock.visible=!1,r>=24?(this["s"+r].headgear.handGear.gotoAndStop(r-23),this["s"+r].headgear.head.visible=!1,this["s"+r].headgear.head2.visible=!1):(this["s"+r].headgear.head.gotoAndStop(r+1),this["s"+r].headgear.handGear.visible=!1)):this["s"+r].headgear.visible=!1;this.holder.scrollBar_mc.addEventListener(De.SCROLL,this.handleScrollBarScroll,!1,0,!0)}},{key:"kill",value:function(){this.holder.backToButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping)}},{key:"ping",value:function(){this.holder.y=0-this.y}},{key:"updateScrollBar",value:function(){var t=this.height-50-this.holder.scrollBar_mc.height;this.holder.scrollBar_mc.maxScrollPosition=t,this.y=0+this.holder.scrollBar_mc.percent*-t}}]),n}(nt.flash.display.MovieClip);var Ne=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Be=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(634,t.frame635,689,t.frame690),t}return T()(n,[{key:"frame635",value:function(){this.parent.parent.endEnding()}},{key:"frame690",value:function(){this.parent.endEnding()}}]),n}(nt.flash.display.MovieClip);function Fe(){return nt.flash.display.Stage.__current.__children[0]}var Ie=function(){function t(){C()(this,t),this.stageHeight=500,this.lockX=!1,this.lockY=!1,this.enforceLimits=!0,this.yPos=0,this.driftSpeed=.6,this.stageWidth=800,this.camX=0,this.camY=0,this.xPos=0,this.limits=new Array(400,2e3,0,0)}return T()(t,[{key:"init",value:function(t){this.target=t}},{key:"move",value:function(t,e,i){if(!this.lockX&&this.limits[0]<this.limits[1]){var r=-t+this.stageWidth/2,n=this.stageWidth/2-this.limits[0],s=this.stageWidth/2-this.limits[1];this.enforceLimits&&(r=Math.max(Math.min(r,n),s)),this.target.x=i?Ft.ease(this.target.x,r,this.driftSpeed):r}if(!this.lockY){var a=-e+this.stageHeight/2,o=this.stageHeight/2-this.limits[2],l=this.stageHeight/2-this.limits[3];this.enforceLimits&&(a=Math.max(Math.min(a,o),l)),this.target.y=i?Ft.ease(this.target.y,a,this.driftSpeed):a}this.camX=this.target.x,this.camY=this.target.y}},{key:"ping",value:function(t,e){this.move(t,e,!0)}},{key:"rotateAt",value:function(t,e,i){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-i),this.affineTransform.rotate(t),this.affineTransform.translate(e,i),this.target.transform.matrix=this.affineTransform}},{key:"scaleAt",value:function(t,e,i){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-i),this.affineTransform.scale(t,t),this.affineTransform.translate(e,i),this.target.transform.matrix=this.affineTransform}}]),t}();var je=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).objects=new Array,t}return T()(n,[{key:"killObject",value:function(t){this.objects[t].parent.removeChild(this.objects[t]),this.objects[t]=null,this.objects.splice(t,1)}},{key:"manage",value:function(t){this.objects.push(t)}},{key:"ping",value:function(){for(var t=null,e=0;e<this.objects.length;e++)(t=this.objects[e]).timerKill?(t.ping(),t.killCounter--,t.killCounter<=0&&(this.killObject(e),e--)):t.currentFrame==t.totalFrames&&(this.killObject(e),e--)}}]),n}(nt.flash.display.MovieClip),Ue=function(){function t(){C()(this,t)}return T()(t,null,[{key:"clearKeys",value:function(e){t.keysDown=new Object}},{key:"initialize",value:function(e,i){t.dualKey=i,e.addEventListener(nt.flash.events.KeyboardEvent.KEY_DOWN,t.keyPressed),e.addEventListener(nt.flash.events.KeyboardEvent.KEY_UP,t.keyReleased),e.addEventListener(nt.flash.events.Event.DEACTIVATE,t.clearKeys),t.initialized=!0}},{key:"isDown",value:function(e){if(!t.initialized)throw new Error("Key class has yet been initialized.");if("number"==typeof e)return Boolean(e in t.keysDown);if(t.dualKey){if(e==t.LEFT)return Boolean(t.A in t.keysDown)||Boolean(t.LEFTKEY in t.keysDown);if(e==t.RIGHT)return Boolean(t.D in t.keysDown)||Boolean(t.RIGHTKEY in t.keysDown);if(e==t.UP)return Boolean(t.W in t.keysDown)||Boolean(t.UPKEY in t.keysDown);if(e==t.DOWN)return Boolean(t.S in t.keysDown)||Boolean(t.DOWNKEY in t.keysDown)}return!1}},{key:"isInitialized",value:function(){return t.initialized}},{key:"keyPressed",value:function(e){t.keysDown[e.keyCode]=!0}},{key:"keyReleased",value:function(e){e.keyCode in t.keysDown&&delete t.keysDown[e.keyCode]}}]),t}();P()(Ue,"A",65),P()(Ue,"allLetters",new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")),P()(Ue,"ARROWKEYS","arrowKeys"),P()(Ue,"D",68),P()(Ue,"DOWN","down"),P()(Ue,"DOWNKEY",nt.flash.ui.Keyboard.DOWN),P()(Ue,"dualKey",!1),P()(Ue,"EIGHT",56),P()(Ue,"FIVE",53),P()(Ue,"FOUR",52),P()(Ue,"initialized",!1),P()(Ue,"keysDown",new Object),P()(Ue,"LEFT","left"),P()(Ue,"LEFTKEY",nt.flash.ui.Keyboard.LEFT),P()(Ue,"M",77),P()(Ue,"NINE",57),P()(Ue,"ONE",49),P()(Ue,"P",80),P()(Ue,"Q",81),P()(Ue,"RIGHT","right"),P()(Ue,"RIGHTKEY",nt.flash.ui.Keyboard.RIGHT),P()(Ue,"S",83),P()(Ue,"SEVEN",55),P()(Ue,"SIX",54),P()(Ue,"THREE",51),P()(Ue,"TWO",50),P()(Ue,"UP","up"),P()(Ue,"UPKEY",nt.flash.ui.Keyboard.UP),P()(Ue,"W",87),P()(Ue,"WASD","wasd"),P()(Ue,"ZERO",48);var Ve=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).isMain=!0,t.level=15,t.oldX=0,t.placing=0,t.wins=295,t.oldY=0,t.id=0,t.kudos=10,t.curCheck=0,t.matches=1254,t.headType=3,t.toX=0,t.toY=0,t.handType=12,t.colour=16777215,t.time=45,t.xV=0,t.colour2=16777215,t.tCounter=0,t.userName="bob",t.xp=1500,t.completedLevel=!1,t.yV=0,t}return T()(n,[{key:"addCheckPoint",value:function(t){this.checkPoints[t].addFlag(this,this.colour,this.colour2)}},{key:"duck",value:function(){this.gotoAndStop(4)}},{key:"fuel",value:function(){this.setColours()}},{key:"handleSkin",value:function(){this.player.hitHalf?this.duck():this.player.jumpLevel?Ue.isDown(Ue.LEFT)?(Ue.isDown(Ue.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=-1):Ue.isDown(Ue.RIGHT)?(Ue.isDown(Ue.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=1):Ue.isDown(Ue.DOWN)?this.duck():this.gotoAndStop(1):this.gotoAndStop(3),this.x=this.player.x,this.y=this.player.y}},{key:"init",value:function(t,e){this.player=t,this.colour=this.player.colour,this.colour2=this.player.colour2,this.checkPoints=e}},{key:"ping",value:function(){this.handleSkin(),this.setColours()}},{key:"setChecks",value:function(t){this.checkPoints=t}},{key:"setColours",value:function(){var t=null;this.body.head.gotoAndStop(this.headType),this.body.handGear.handGear.gotoAndStop(this.handType);for(var e=new Array(this.body.cb.i,this.body.db.i,this.body.head.hat,this.body.handGear.handGear),i=0;i<e.length;i++)t=e[i],Ft.colourMe(t,this.colour2);var r=new Array(this.body.aa.o,this.body.aa.i,this.body.ba.o,this.body.ba.i,this.body.ab.o,this.body.ab.i,this.body.cb.o,this.body.db.o,this.body.head.o,this.body.body.o,this.body.bb.o,this.body.bb.i,this.body.ca.o,this.body.ca.i,this.body.da.o,this.body.da.i);for(i=0;i<r.length;i++)t=r[i],Ft.colourMe(t,this.colour);this.youArrow&&Ft.colourMe(this.youArrow.lilArrow,this.colour)}}]),n}(nt.flash.display.MovieClip);var Ge=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(Ve);var He=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).ghosts=new Array,t}return T()(n,[{key:"addGhosts",value:function(){for(var t=null,e=0;e<this.logs.length;e++)e!=this.logs.length-1&&(t=new Ge,this.addChild(t),this.ghosts.push(t),t.alpha=.2)}},{key:"handleGhosts",value:function(t){for(var e=null,i=null,r=0;r<this.ghosts.length;r++)e=this.ghosts[r],t<this.logs[r].length&&(i=this.logs[r][t],e.x=i[0],e.y=i[1],e.gotoAndStop(i[2]),e.scaleX=i[3])}},{key:"init",value:function(t){this.logs=t}},{key:"killGhosts",value:function(){for(var t=0;t<this.ghosts.length;t++)this.removeChild(this.ghosts[t]),this.ghosts[t]=null;this.ghosts.splice(0,this.ghosts.length)}},{key:"ping",value:function(t){this.handleGhosts(t)}},{key:"reset",value:function(){this.killGhosts(),this.addGhosts()}}]),n}(nt.flash.display.MovieClip);var Ke=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(78,t.frame79),t}return T()(n,[{key:"frame79",value:function(){this.dispatchEvent(new It(It.GOTO,"LevelEnd","Lobby"))}}]),n}(nt.flash.display.MovieClip);var ze=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e;return C()(this,n),(e=r.call(this)).startBox.stopAtStep=t,e}return n}(nt.flash.display.MovieClip),Xe=function(){function t(){C()(this,t),this.isAtCheckpoint=!1,this.maxLogLength=1e3,this.maxLogs=1,this.playHead=0,this.logs=new Array}return T()(t,[{key:"newLog",value:function(){this.logs.length>this.maxLogs&&this.logs.splice(0,1);var t=new Array;this.logs.push(t),this.curLog=this.logs[this.logs.length-1]}},{key:"ping",value:function(t){this.curLog.length<this.maxLogLength&&(this.curLog.push(new Array(t.x,t.y,t.currentFrame,t.body.currentFrame,t.scaleX,this.isAtCheckpoint)),this.playHead=this.curLog.length-1)}},{key:"setFromLog",value:function(t){t.x=this.curLog[this.playHead][0],t.y=this.curLog[this.playHead][1],t.gotoAndPlay(this.curLog[this.playHead][2]),t.body.gotoAndPlay(this.curLog[this.playHead][3]),t.scaleX=this.curLog[this.playHead][4]}}]),t}();var Ye=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).bodyParts=new Array,t}return T()(n,[{key:"addDeadBody",value:function(t,e){var i=0,r=null,n=t;for(i=0;i<6;i++)(r=new se).x=n.x,r.y=n.y,r.gotoAndStop(i+1),r.init(this.level),Ft.colourMe(r,e),r.colour=e,n.y>500?(r.xVel=re.range(5),r.yVel=-10-re.random(20)):(r.xVel=re.range(5),r.yVel=re.range(5)),this.addChild(r),this.bodyParts.push(r)}},{key:"destroy",value:function(t){var e=null,i=this.bodyParts[t];i.y<=500&&((e=new nt.flash.geom.ColorTransform).color=i.colour,this.bg.drawMovieClip(i,1,2,3,e)),this.removeChild(i),this.bodyParts[t]=null,this.bodyParts.splice(t,1)}},{key:"handleBodyParts",value:function(){for(var t=null,e=0;e<this.bodyParts.length;e++)(t=this.bodyParts[e]).ping(),this.bg.lineTo(t.lastX,t.lastY,t.x,t.y,1,16777215,.3),(0==Math.round(t.xVel)&&0==Math.round(t.yVel)||t.y>500)&&(t.deadCounter++,t.deadCounter>5&&this.destroy(e))}},{key:"init",value:function(t,e){this.level=t,this.bg=e}},{key:"ping",value:function(){this.handleBodyParts()}}]),n}(nt.flash.display.Sprite),qe=function(){function t(){C()(this,t)}return T()(t,[{key:"stopSound",value:function(){}}],[{key:"handleMute",value:function(){t.muted=!t.muted;var e=new nt.flash.media.SoundTransform;t.muted?e.volume=0:e.volume=1,nt.flash.media.SoundMixer.soundTransform=e}},{key:"killAll",value:function(){nt.flash.media.SoundMixer.stopAll()}},{key:"loopSound",value:function(t){(new(nt.flash.utils.getDefinitionByName(t))).play(0,999999)}},{key:"playSound",value:function(t){(new(nt.flash.utils.getDefinitionByName(t))).play(0,1)}},{key:"stopAllSounds",value:function(){nt.flash.media.SoundMixer.stopAll()}}]),t}();function We(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Je(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Je(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw s}}}}function Je(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}P()(qe,"muted",!1);var Ze=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).burningFlow=!1,t.isMain=!0,t.placing=0,t.level=15,t.wins=295,t.gameName="01234567",t.kudos=10,t.playerXNormalMax=8,t.playerXBurningMax=50,t.playerYMax=15,t.flowPoints=0,t.matches=1254,t.gameMode=0,t.burningXAcc=3,t.rewinding=!1,t.handType=0,t.playerXMax=8,t.headType=0,t.time=0,t.teleporting=!1,t.fullFlow=!1,t.levelNum=0,t.normalXAcc=.8,t.kudosToGive=2,t.hitHalf=!1,t.xp=1500,t.completedLevel=!1,t.beltSpeed=2,t.colour=re.randomColour(),t.colour2=re.randomColour(),t.userName="Naruto"+re.random(1e3),t}return T()(n,[{key:"checkPointInteraction",value:function(){for(var t=0;t<this.curLevel.checkPoints.length;t++)this.hitTestObject(this.curLevel.checkPoints[t])&&this.curLevel.startPoint!=this.curLevel.checkPoints[t]&&this.curLevel.checkPoints[t].isNew(this)&&(qe.playSound("CheckpointSound"),this.curLevel.startPoint=this.curLevel.checkPoints[t],this.curLevel.checkPoints[t].addFlag(this,this.colour,this.colour2))}},{key:"doTheJump",value:function(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(qe.playSound("JumpSound"),this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1,this.parent.playerObject.jumps++,this.parent.playerObject.jumps>=1e3&&this.dispatchEvent(new wt(wt.SEND,6)))}},{key:"handleFlow",value:function(){var t=Fe().multiplayer.game.level.flags&Gt.FlowModeMask;t!==Gt.FlowDisabled&&(this.burningFlow?(t!==Gt.FlowAlways&&(this.flowPoints=this.flowPoints-5),Ue.isDown(nt.flash.ui.Keyboard.SPACE)||Ue.isDown(nt.flash.ui.Keyboard.SHIFT)?this.flowPoints<=0&&(this.flowPoints=0,this.burningFlow=!1,this.parent.stopBurningFlowMusic(),this.fullFlow&&this.dispatchEvent(new wt(wt.SEND,8))):(this.burningFlow=!1,this.parent.stopBurningFlowMusic())):(t===Gt.FlowAlways?(this.flowPoints=400,this.fullFlow=!0):(Math.abs(this.xVel)>2?this.flowPoints=this.flowPoints+2:this.flowPoints=this.flowPoints-20,this.flowPoints<0&&(this.flowPoints=0),this.flowPoints>400?(this.flowPoints=400,this.dispatchEvent(new wt(wt.SEND,7)),this.fullFlow=!0):this.fullFlow=!1),(Ue.isDown(nt.flash.ui.Keyboard.SPACE)||Ue.isDown(nt.flash.ui.Keyboard.SHIFT))&&this.flowPoints>=100&&(this.burningFlow=!0,this.parent.startBurningFlowMusic(),qe.playSound("Takeoff"))))}},{key:"handleHalfTiles",value:function(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}},{key:"hitBlock",value:function(t){}},{key:"initPlayer",value:function(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8,this.normalXAcc=.8,this.burningXAcc=1.5,(Fe().multiplayer.game.level.flags&Gt.FlowModeMask)===Gt.FlowAlways&&(this.flowPoints=400,this.fullFlow=!0)}},{key:"kill",value:function(){this.dispatchEvent(new It(It.SEND,"KILL"))}},{key:"levelInteraction",value:function(){var t=this.curLevel.maxHeight;(t<=550&&this.y>550||t>550&&this.y>t+50)&&this.kill(),this.hitTestObject(this.curLevel.endPoint)&&(this.completedLevel=!0,this.parent.finishLevel())}},{key:"movePlayer",value:function(){Ue.isDown(Ue.UP)?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),Ue.isDown(Ue.DOWN)?(this.holdDown||(this.holdDownX=this.x),this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown&&Math.abs(this.holdDownX-this.x)>200&&this.dispatchEvent(new wt(wt.SEND,9)),this.holdDown=!1,this.xF=.7,this.scaleY=1),Ue.isDown(Ue.LEFT)?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):Ue.isDown(Ue.RIGHT)&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),Ue.isDown(Ue.LEFT)||Ue.isDown(Ue.RIGHT)?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5,this.burningFlow?(this.playerXMax=this.playerXBurningMax,this.xAcc=this.burningXAcc):(this.xAcc=this.normalXAcc,this.playerXMax=Ft.ease(this.playerXMax,this.playerXNormalMax,.3)),this.handleFlow()}},{key:"ping",value:function(){this.completedLevel||(this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.spikeInteraction(),this.levelInteraction(),this.teleporterInteraction(),this.checkPointInteraction())}},{key:"spikeInteraction",value:function(){for(var t=0;t<this.curLevel.spikes.length;t++)if(this.hitTestObject(this.curLevel.spikes[t].hitA))return void this.kill();for(t=0;t<this.curLevel.swingingAxes.length;t++)if(this.hitTestObject(this.curLevel.swingingAxes[t].axe)&&(this.hitTestObject(this.curLevel.swingingAxes[t].axe.side0)||this.hitTestObject(this.curLevel.swingingAxes[t].axe.side1)))return void this.kill();for(t=0;t<this.curLevel.popSpikes.length;t++)if(this.hitTestObject(this.curLevel.popSpikes[t].inside.spikes.hitA))return void this.kill();for(t=0;t<this.curLevel.grinders.length;t++)if(re.dist(this.x,this.y,this.curLevel.grinders[t].x,this.curLevel.grinders[t].y)<this.curLevel.grinders[t].dist)return void this.kill();var e,i=We(this.curLevel.bouncers);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(this.hitTestObject(r)&&1==r.currentFrame){var n=r.rotation*(Math.PI/180),s=0==n?0:Math.round(20*Math.sin(n)),a=Math.round(-20*Math.cos(n));return 0!=s&&(this.xVel=s),this.yVel=a,this.yLove=this.yVel>0?-1:1,r.bounces++,10==r.bounces&&this.dispatchEvent(new wt(wt.SEND,10)),this.playerJump=!0,this.jumpLevel=!1,r.gotoAndPlay(2),void qe.playSound("BouncerSound")}}}catch(t){i.e(t)}finally{i.f()}for(t=0;t<this.curLevel.plates.length;t++)this.hitTestObject(this.curLevel.plates[t])?(this.curLevel.plates[t].gotoAndStop(2),this.curLevel["lg"+this.curLevel.plates[t].name.substr(1,1)].gotoAndStop(2)):(this.curLevel.plates[t].gotoAndStop(1),this.curLevel["lg"+this.curLevel.plates[t].name.substr(1,1)].gotoAndStop(1));var o,l=We(this.curLevel.fallingSpikes);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=Math.round(u.rotation),h=void 0;switch(c){case 0:case 180:case-180:h=!0;break;case 90:case-90:h=!1;break;default:continue}if(0==u.smashState)(h?Math.abs(this.x-u.x)<10:Math.abs(this.y-u.y)<10)&&(u.smashState=1,qe.playSound("SpikeDrop"));else if(1==u.smashState){u.spikeIn.y-=20;var f,d=We(this.curLevel.tiles);try{for(d.s();!(f=d.n()).done;)if(f.value.hitTestObject(u.spikeIn.hitA)){u.smashState=2,qe.playSound("Thud");break}}catch(t){d.e(t)}finally{d.f()}}else 2==u.smashState&&(u.spikeIn.y+=10,u.spikeIn.y>0&&(u.smashState=0,u.spikeIn.y=0));if(this.hitTestObject(u.spikeIn.hitA))return void this.kill()}}catch(t){l.e(t)}finally{l.f()}}},{key:"teleporterInteraction",value:function(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),this.parent.emitBeam(this.x-17,this.y,25),void qe.playSound("WhooshSound")}},{key:"touchBlock",value:function(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}]),n}(ne);var Qe=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"ping",value:function(){this.parent.levelNum<100?this.x=0-this.parent.x/10:(this.x=0-this.parent.x,this.y=0-this.parent.y),3==this.currentFrame&&(this.cA.ping(),this.cB.ping())}}]),n}(nt.flash.display.MovieClip);var $e=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var ti=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).flowCount=0,t.levelNum=0,t.flow.flowInside.flowBar.scaleX=0,t.flow.flowReady.visible=!1,t}return T()(n,[{key:"movePanel",value:function(){this.x=0-this.handyCam.camX,this.y=0-this.handyCam.camY}},{key:"movePlayer",value:function(){}},{key:"ping",value:function(t,e){this.handyCam=t,this.player=e,this.movePanel(),this.updateFlow()}},{key:"updateFlow",value:function(){var t,e,i=null===(t=Fe().multiplayer)||void 0===t||null===(e=t.game)||void 0===e?void 0:e.level;if(i){var r=i.flags&Gt.FlowModeMask;switch(r){case Gt.FlowDisabled:return void(this.flow.visible=!1);case Gt.FlowNormal:this.flow.visible=!0,this.flow.flowInside.flowBar.scaleX=Ft.ease(this.flow.flowInside.flowBar.scaleX,this.player.flowPoints/400,.9);break;case Gt.FlowAlways:this.flow.visible=!0,this.flow.flowInside.flowBar.scaleX=1}this.player.burningFlow?(this.flowCount++,1==this.flowCount&&this.flow.flowReady.gotoAndPlay(31),this.flow.flowInside.filters=new Array(new nt.flash.filters.GlowFilter(39423,1,15,15,1.5))):(this.flowCount=this.flowCount-3,this.bordering.filters=new Array,this.flow.flowInside.filters=new Array,this.player.flowPoints>=100?(Ft.colourMe(this.flow.flowInside,16777215),0==this.flow.flowReady.visible&&r!==Gt.FlowAlways&&(this.flow.flowReady.visible=!0,this.flow.flowReady.gotoAndPlay(2),qe.playSound("FlowReady"))):(this.flow.flowReady.visible=!1,Ft.colourMe(this.flow.flowInside,11184810))),this.flowCount=Math.min(this.flowCount,100),this.flowCount<=0?(this.flowCount=0,this.bordering.filters=new Array):this.bordering.filters=new Array(new nt.flash.filters.GlowFilter(39423,Math.min(this.flowCount/10,1),0,Math.min(15,this.flowCount),Math.min(10,this.flowCount/10)))}}}]),n}(nt.flash.display.MovieClip);var ei=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ii=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ri=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ni=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var si=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).timeTotal=0,t}return n}(nt.flash.display.MovieClip);var ai=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var oi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e){var i;return C()(this,n),(i=r.call(this)).skin=t,i.playerData=e,i.nameOf.text=i.playerData.userName,Ft.colourMe(i.lilArrow,i.playerData.colour),i}return n}(nt.flash.display.MovieClip);var li=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ui=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ci=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var hi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var fi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var di=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var pi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var yi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var vi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var mi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).xCamX=375,t.yCamY=375,t.updateMethod=0,t.cLeft=!1,t.fastSound=!1,t.tCounter=0,t.levelFinished=!1,t.firstSoundPlay=!0,t.cUp=!1,t.updateRate=7,t.mode="PRACTICE",t.songPlaying="none",t.startTheCountdown=!1,t.levelNum=0,t.tryFrame=0,t.deathScreens=0,t.cRight=!1,t.level30Okay=!1,t.timeCounter=0,t.mpLevel=100,t.cDown=!1,t.goAhead=!1,t.rewindCounter=0,t.spaceDown=!1,t.buildStr="0.2.3",t.cheerCounter=0,t.isPaused=!1,t.tConnected=!1,t.camera=new Ie,t.logger=new Xe,t.ghosting=new He,t.placingBonuses=new Array(250,150,100,50),t.bg=new Nt,t.skinLayer=new nt.flash.display.MovieClip,t.morgue=new Ye,t.uiPanel=new ti,t.timer=new Se,t.emit=new je,t.robots=new Array,t.tempShape=new nt.flash.display.Shape,t.playerBars=new Array,t.checkPoints=new Array,t.youArrows=new Array,t.skyLine=new Qe,t.sForward=new ei,t.sBackward=new ii,t.sFast=new ri,t.players=new Array,t.tCounterGoal=t.updateRate,t.keysPressed=new Array(!1,!1,!1,!1),t.updaters=new Array(0,0,0,0,0,0,0,0),t.finalPlacingArray=new Array,t.playerSkins=new Array,t}return T()(n,[{key:"added",value:function(t){this.stage.focus=this.stage}},{key:"addSkin",value:function(){this.skin&&this.removeChild(this.skin),this.skin=new Ge,this.addChild(this.skin),this.skin.init(this.player,this.level.checkPoints),this.skin.headType=this.player.headType,this.skin.handType=this.player.handType}},{key:"checkPoint",value:function(){this.tConnected&&this.tubes.sendMessage("CHECK"+this.curLevel.startPoint.id)}},{key:"chooseMultiplayerSong",value:function(){this.startFinal()}},{key:"chooseSong",value:function(){this.levelNum<=2?this.startInside():this.levelNum<=9?this.startStadium():this.levelNum<=10?this.startInside():this.levelNum<=14?this.startLab():this.levelNum<=15?this.startInside():this.levelNum<=16?(this.startLab(),qe.stopAllSounds(),this.songPlaying="none"):this.levelNum<=19?this.startLab():this.levelNum<=24?this.startSkyline():this.levelNum<=29?this.startFinal():this.levelNum}},{key:"collectSign",value:function(){this.playerObject.signs[this.levelNum]=!0;for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;t>=1&&this.dispatchEvent(new wt(wt.SEND,15)),t>=8&&this.dispatchEvent(new wt(wt.SEND,16)),t>=15&&this.dispatchEvent(new wt(wt.SEND,17)),t>=24&&this.dispatchEvent(new wt(wt.SEND,18)),t>=30&&this.dispatchEvent(new wt(wt.SEND,19)),this.updateUISign(),this.uiPanel.caution.gotoAndPlay(2)}},{key:"countDownFinish",value:function(){this.goAhead=!0}},{key:"countdownStart",value:function(){this.levelStart=new ze("MP"===this.mode),this.levelStart.gotoAndPlay(1),this.addChild(this.levelStart),this.uiPanel&&this.contains(this.uiPanel)&&(this.levelStart.startBox.levelName.nameOf.text=this.uiPanel.levName.text)}},{key:"createNewLevel",value:function(){this.levelFinished=!1,this.tryFrame=0,this.checkPoints.splice(0,this.checkPoints.length),this.level.kill(),this.removeChild(this.level),this.level=null,this.curLevel=null,this.setLevel(),this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,this.camera.camX=0,this.camera.camY=0,this.x=0,this.y=0,"SP"===this.mode?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var t=0;t<this.playerBars.length;t++)this.uiPanel.removeChild(this.playerBars[t]),this.playerBars[t]=null;this.playerBars.splice(0,this.playerBars.length),this.startLevel()}},{key:"emitBeam",value:function(t,e,i){var r=new ni;this.addChild(r),r.x=t,r.y=e,r.width=i,Ft.colourMe(r,this.player.colour),this.emit.manage(r)}},{key:"endCountdownFinish",value:function(){var t=null,e=NaN,i=null;this.player.rewinding&&this.stopRewinding(),this.removeChild(this.endCountdown),this.endCountdown=null,this.levelEnd=new Ke,this.addChild(this.levelEnd),this.levelEnd.x=0-this.x,this.levelEnd.y=0-this.y,this.goAhead=!1;for(var r=new Array,n=0;n<this.players.length;n++)0==this.players[n].completedLevel&&r.push(this.players[n]);for(;r.length>0;){for(t=r[0],e=0,n=0;n<r.length;n++)t.x>r[n].x&&(t=r[n],e=Number(n));i=new si,this.uiPanel.addChild(i),i.x=800,i.y=180+30*this.playerBars.length,i.timeTotal=0,i.nameOf.text=t.userName,i.player=t,this.playerBars.push(i),this.finalPlacingArray.push(i),r.splice(e,1)}this.tubes.giveFinalList(this.finalPlacingArray)}},{key:"endEnding",value:function(){this.level30Okay=!0}},{key:"endFadeOut",value:function(){this.fadeOut&&(this.fadeOut.stop(),this.removeChild(this.fadeOut),this.fadeOut=null)}},{key:"endSoundBackward",value:function(t){this.soundBackward.stop(),this.soundBackward=this.sBackward.play(0,99999)}},{key:"endSoundFast",value:function(t){this.soundFast.stop(),this.soundFast=this.sFast.play(0,99999)}},{key:"endSoundForward",value:function(t){this.soundForward.stop(),this.soundForward=this.sForward.play(0,99999)}},{key:"exitOut",value:function(){qe.stopAllSounds(),"SP"===this.mode?(this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),this.dispatchEvent(new It(It.GOTO,"Game","SinglePlayerMenu"))):"PRACTICE"===this.mode&&this.dispatchEvent(new It(It.GOTO,"Game","EndPractice"))}},{key:"finishLevel",value:function(){var t=NaN;if("SP"===this.mode||"PRACTICE"===this.mode)this.levelFinished=!0,this.fadeOut=new Te,this.fadeOut.gotoAndPlay(2),this.player.burningFlow&&(this.player.burningFlow=!1,this.stopBurningFlowMusic()),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y;else if("MP"===this.mode)for(this.uiPanel.arrowKeysToPan.gotoAndStop(2),this.xCamX=this.player.x,this.yCamY=this.player.y,this.levelFinished=!0,t=0;t<this.players.length;t++)this.players[t].isPlayer&&(this.players[t].time=this.timer.getFrameTime(),this.tubes.sendTime(),this.iAmDone(this.players[t].userName))}},{key:"handleCamera",value:function(){if("SP"!==this.mode){var t=this.level.maxWidth,e=Math.max(this.level.maxHeight,225);"MP"===this.mode&&this.player.completedLevel?(Ue.isDown(Ue.LEFT)&&(this.xCamX-=20),Ue.isDown(Ue.RIGHT)&&(this.xCamX+=20),Ue.isDown(Ue.UP)&&(this.yCamY-=20),Ue.isDown(Ue.DOWN)&&(this.yCamY+=20),this.xCamX=Math.min(Math.max(this.xCamX,400),t-400),this.yCamY=Math.min(Math.max(this.yCamY,250),e-225),this.camera.limits=new Array(400,t-400,250,e-225),this.camera.ping(this.xCamX,this.yCamY)):"PRACTICE"!==this.mode||this.levelFinished||(this.camera.limits=new Array(400,t-400,250,e-225),this.camera.ping(this.player.x,this.player.y))}else if(this.camera.limits=new Array(400,this.level.maxWidth-400,0,0),this.player.burningFlow){var i=new nt.flash.geom.ColorTransform;i.color=16777215,this.camera.ping(this.player.x+200,this.player.y),this.skin.filters=new Array(new nt.flash.filters.GlowFilter(39423,1,15,15,1.5,1,!1,!0)),this.bg.drawMovieClip(this.skin,1,2,3,i)}else this.camera.ping(this.player.x,this.player.y),this.skin.filters=new Array}},{key:"handleCheering",value:function(){}},{key:"handleLaserCannons",value:function(){for(var t=null,e=NaN,i=NaN,r=NaN,n=NaN,s=NaN,a=!1,o=NaN,l=NaN,u=NaN,c=NaN,h=NaN,f=NaN,d=NaN,p=null,y=this.level.laserCannons,v=0;v<y.length;v++){for((t=y[v]).setAngle=re.rotateTo(this.player.x,this.player.y,t.x,t.y),e=.1,e=t.timeOut>=25?.5:.1,t.rotation=Ft.ease(t.rotation,t.rotation+re.getRotationDifference(t.rotation,t.fakeAngle),e),r=(i=10)*Math.sin(Math.PI/180*t.setAngle),n=0-i*Math.cos(Math.PI/180*t.setAngle),s=50,a=!1,o=3;o<s;o++)if(l=r*o+t.x,u=n*o+t.y,this.level.canvas.getAlpha(l,u)>0){this.tempShape.graphics.clear(),this.tempShape.graphics.lineStyle(1,16777215,1),this.tempShape.graphics.moveTo(t.x,t.y),this.tempShape.graphics.lineTo(l,u),this.addChild(this.tempShape),this.player.hitTestObject(this.tempShape)&&(a=!0,t.fakeAngle=t.setAngle),this.tempShape.graphics.clear();break}if(a&&(t.timeOut=0,0==t.beam.visible&&qe.playSound("Zap"),t.beam.visible=!0),t.timeOut++,t.timeOut>=25)t.fakeAngle=t.defaultAngle,t.beam.visible=!1;else for(c=i*Math.sin(Math.PI/180*t.rotation),h=0-i*Math.cos(Math.PI/180*t.rotation),o=3;o<s;){if(l=c*o+t.x,u=h*o+t.y,re.dist(l,u,this.player.x,this.player.y)<10&&!this.player.rewinding)return void this.kill();if(this.level.canvas.getAlpha(l,u)>0){for(f=re.dist(t.x,t.y,l,u)-30,t.beam.height=f,d=0;d<5;d++)(p=new ai).x=l+re.range(5),p.y=u+re.range(2),p.scaleX=.5*Math.random()+.5,p.scaleY=.5*Math.random()+.5,this.addChild(p),this.emit.manage(p);break}o++}}}},{key:"handleYouArrows",value:function(){for(var t=0;t<this.youArrows.length;t++)this.youArrows[t].x=Ft.ease(this.youArrows[t].x,this.youArrows[t].skin.x,.8),this.youArrows[t].y=Ft.ease(this.youArrows[t].y,this.youArrows[t].skin.y-30,.8)}},{key:"hotKeys",value:function(){Ue.isDown(nt.flash.ui.Keyboard.SPACE)?this.spaceDown||(this.spaceDown=!0):this.spaceDown=!1}},{key:"hub",value:function(t){switch(t.sender){case"KILL":this.kill();break;case"CHECK":this.checkPoint()}}},{key:"iAmDone",value:function(t){for(var e=null,i=0;i<this.players.length;i++)if(this.players[i].userName==t){if(this.players[i].isPlayer&&this.players[i].completedLevel)return;this.players[i].completedLevel=!0,e=new si,this.uiPanel.addChild(e),e.x=800,e.y=180+30*this.playerBars.length,e.timeTotal=this.players[i].time,e.nameOf.text=this.players[i].userName,e.player=this.players[i],this.playerBars.push(e),this.tSortTimes();break}}},{key:"init",value:function(t,e,i){this.addChild(this.skyLine),this.playerObject=e,"SP"===this.mode?(0==this.playerObject.gameLevel?this.timer.setTimeAsTotalSeconds(0):this.timer.setTimeAsTotalSeconds(this.playerObject.gameTime),this.levelNum=i):"MP"===this.mode?(this.tubes=t,this.tubes.debuggy.txt.text=" ",this.updateMethod=0,this.levelNum=i):"PRACTICE"===this.mode&&(this.timer.setTimeAsTotalSeconds(0),this.levelNum=i),this.setLevel(),this.player=new Ze,this.player.x=-200,this.player.y=-200,this.player.userName=this.playerObject.userName,this.player.xp=this.playerObject.xp,this.player.kudos=this.playerObject.kudos,this.player.wins=this.playerObject.wins,this.player.matches=this.playerObject.matches,this.player.headType=this.playerObject.headType,this.player.handType=this.playerObject.handType,this.player.colour=this.playerObject.colour,this.player.colour2=this.playerObject.colour2,this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,"MP"!==this.mode?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.bg.init(2e3,800),this.addChild(this.bg),this.addSkin(),this.ghosting.init(this.logger.logs),this.addChild(this.ghosting),this.addChild(this.player),this.addChild(this.morgue),this.morgue.init(this.level,this.bg),this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(It.SEND,this.hub,!1,0,!0),this.addEventListener(nt.flash.events.Event.ADDED_TO_STAGE,this.added,!1,0,!0),this.uiPanel.exitButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.exitOut,!1,0,!0),this.uiPanel.muteButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.uiPanel.pauseButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.pauseOut,!1,0,!0),this.uiPanel.qualityButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.qualityOut,!1,0,!0),"MP"===this.mode?(this.uiPanel.pauseButton.visible=!1,this.uiPanel.exitButton.visible=!1):"PRACTICE"===this.mode&&(this.uiPanel.pauseButton.visible=!1),this.camera.init(this),this.camera.lockX=this.level.lockCamX,this.camera.lockY=this.level.lockCamY,this.addChild(this.uiPanel),this.addChild(this.emit),this.level.createArray(),this.startLevel(),this.updatePing(0);var r=new oi(this.skin,this.player);this.addChild(r),this.youArrows.push(r),this.initSounds(),this.organizeDepth(),"SP"===this.mode?this.chooseSong():(this.chooseMultiplayerSong(),this.stage.focus=this.stage)}},{key:"initMP",value:function(){var t=null,e=null;this.players=this.tubes.players,this.player.x=this.level.startPoint.x+17.5,this.player.y=this.level.startPoint.y;for(var i=0;i<this.players.length;i++)this.players[i].completedLevel=!1,this.players[i].isPlayer?(this.players[i].time=0,this.playerSkins.push(null),this.skin.x=this.player.x,this.skin.y=this.player.y):((t=new Ge).x=this.players[i].xPos,t.y=this.players[i].yPos,t.setChecks(this.level.checkPoints),t.isMain=!1,this.skinLayer.addChild(t),this.playerSkins.push(t),e=new oi(t,this.players[i]),this.youArrows.push(e),t.youArrow=e,this.addChild(e))}},{key:"initPractice",value:function(){this.bg.ping(),this.skyLine.ping(),this.uiPanel.ping(this.camera,this.player),this.level.setPlayer(this.player),this.levelStart.x=-this.camera.camX,this.levelStart.y=-this.camera.camY}},{key:"initSounds",value:function(){this.soundRatio=this.sForward.length/this.sBackward.length,this.firstSoundPlay=!0}},{key:"kill",value:function(){this.player.rewinding||(this.tConnected&&this.tubes.sendMessage("die"),"SP"===this.mode&&16==this.levelNum&&0==this.playerObject.gameDeaths&&this.dispatchEvent(new wt(wt.SEND,14)),this.deathScreens=0,this.morgue.addDeadBody(this.player,this.player.colour),this.player.flowPoints=0,this.player.burningFlow=!1,this.skin.filters=new Array,this.uiPanel.ping(this.camera,this.player),"SP"===this.mode?(this.playerObject.gameDeaths++,this.startRewinding()):"MP"!==this.mode&&"PRACTICE"!==this.mode||(this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y))}},{key:"killS",value:function(){this.player.rewinding&&this.stopRewinding(),this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(It.SEND,this.hub),this.removeEventListener(nt.flash.events.Event.ADDED_TO_STAGE,this.added),this.uiPanel.exitButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.exitOut),this.uiPanel.muteButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.muteOut),this.uiPanel.pauseButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.pauseOut),this.uiPanel.qualityButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.qualityOut)}},{key:"loadNextSinglePlayerLevel",value:function(){if("PRACTICE"!==this.mode){if(this.levelNum++,this.chooseSong(),this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),3==this.levelNum&&(this.dispatchEvent(new wt(wt.SEND,0)),qe.playSound("Cheer")),this.levelNum>=4&&this.levelNum<=9&&(1==re.random(10)?qe.playSound("Cheer"):qe.playSound("Cheer2")),10==this.levelNum&&(this.dispatchEvent(new wt(wt.SEND,1)),0==this.playerObject.gameDeaths&&this.dispatchEvent(new wt(wt.SEND,13))),15==this.levelNum&&this.dispatchEvent(new wt(wt.SEND,2)),20==this.levelNum&&this.dispatchEvent(new wt(wt.SEND,3)),25==this.levelNum&&this.dispatchEvent(new wt(wt.SEND,4)),30==this.levelNum&&this.dispatchEvent(new wt(wt.SEND,5)),this.deathScreens++,10==this.deathScreens&&this.dispatchEvent(new wt(wt.SEND,11)),31==this.levelNum)return this.playerObject.gameLevel=0,void this.dispatchEvent(new It(It.GOTO,"Game","End"));this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,this.createNewLevel(),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y,this.skyLine.x=0,this.skyLine.y=0,this.dispatchEvent(new It(It.GOTO,"SaveGame"))}else this.dispatchEvent(new It(It.GOTO,"Game","EndPractice"))}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"organizeDepth",value:function(){this.addChild(this.skyLine),this.levelNum<=2?this.skyLine.gotoAndStop(2):this.levelNum<=9?this.skyLine.gotoAndStop(3):10==this.levelNum?this.skyLine.gotoAndStop(2):this.levelNum<=14?this.skyLine.gotoAndStop(4):this.levelNum<=16?this.skyLine.gotoAndStop(2):this.levelNum<=19?this.skyLine.gotoAndStop(5):this.levelNum<=24?this.skyLine.gotoAndStop(6):this.levelNum<=30?this.skyLine.gotoAndStop(1):this.skyLine.gotoAndStop(7),this.addChild(this.level),this.addChild(this.bg),30==this.levelNum&&(this.bg.visible=!1),this.addChild(this.player),this.addChild(this.skin),this.addChild(this.skinLayer),this.addChild(this.morgue),this.addChild(this.uiPanel),this.addChild(this.emit)}},{key:"pauseOut",value:function(){this.isPaused=!this.isPaused}},{key:"ping",value:function(){if(!this.isPaused){if(this.tryFrame++,"MP"===this.mode&&this.tUpdateFriendsENT(),this.startTheCountdown&&this.endCountdown&&this.endCountdown.ping(0-this.x,0-this.y),!this.goAhead)return this.skin.x=this.player.x,this.skin.y=this.player.y,this.gotoAndStop(1),void this.skin.fuel();if(30==this.levelNum&&!this.level30Okay)return this.skin.gotoAndStop(2),this.uiPanel.exitButton.visible=!1,this.uiPanel.muteButton.visible=!1,this.uiPanel.qualityButton.visible=!1,void(this.uiPanel.pauseButton.visible=!1);this.player.rewinding?this.rewind():(this.player.ping(),this.skin.ping(),this.logger.ping(this.skin)),this.handleCamera(),this.handleLaserCannons(),this.uiPanel.ping(this.camera,this.player),this.emit.ping(),this.ghosting.ping(this.tryFrame),this.hotKeys(),this.bg.ping(),this.morgue.ping(),this.levelFinished||30!=this.levelNum&&(this.timer.ping(),"MP"===this.mode&&this.tubes.player.host&&(this.tubes.player.hostTime=this.timer.getFrameTime())),30!=this.levelNum?this.uiPanel.timeDisp.text=this.timer.getTimeAsString():this.uiPanel.timeDisp.text=" ",this.level.timeString=this.timer.getTimeAsString(),30==this.levelNum&&this.setRank(),this.level.setPlayer(this.player),this.level.uniqueLevelPing(),this.skyLine.ping(),this.handleCheering(),this.static&&(this.static.x=0-this.x,this.static.y=0-this.y),"SP"===this.mode&&this.levelNum<30&&this.player.hitTestObject(this.level.cautionSign)&&this.level.cautionSign.visible&&(this.level.cautionSign.visible=!1,qe.playSound("Scratcher"),this.collectSign())}}},{key:"qualityOut",value:function(){"LOW"!=this.stage.quality?"HIGH"!=this.stage.quality||(this.stage.quality="LOW"):this.stage.quality="HIGH"}},{key:"reset",value:function(){for(var t=0;t<this.level.popSpikes.length;t++)this.level.popSpikes[t].inside.gotoAndPlay(this.level.popSpikes[t].name.substr(1,2));for(t=0;t<this.level.swingingAxes.length;t++)this.level.swingingAxes[t].axe.gotoAndPlay(this.level.swingingAxes[t].name.substr(1,2))}},{key:"rewind",value:function(){var t=null;this.skin.visible=!1;var e=!1,i=15;this.rewindCounter++,this.logger.playHead-i<0&&(i=Number(this.logger.playHead),e=!0);for(var r=0;r<i;r++)this.logger.playHead--,this.logger.setFromLog(this.skin),this.player.x=this.skin.x,this.player.y=this.skin.y,this.skin.ping(),!e&&this.skin.hitTestObject(this.level.startPoint)&&(e=!0),(t=new nt.flash.geom.ColorTransform).alphaMultiplier=.2,this.bg.drawMovieClip(this.skin,1,2,3,t,"normal");e&&this.stopRewinding()}},{key:"runTest",value:function(){for(var t=NaN,e=0,i=0,r=0;r<10;r++){for(t=nt.flash.utils.getTimer(),e=0;e<500;e++)this.ping();i=Number(i+(nt.flash.utils.getTimer()-t))}}},{key:"setLevel",value:function(){"MP"!==this.mode||this.levelNum||(this.levelNum=100,this.tubes.myNextLevel=this.levelNum),this.level=Fe().createLevel(this.levelNum),this.level.init(),this.addChild(this.level),this.curLevel=this.level,this.morgue.init(this.level,this.bg),0==this.levelNum&&(this.playerObject.gameDeaths=0)}},{key:"setPlayerName",value:function(t){this.playerObject.gameName=t,this.player.gameName=t}},{key:"setRank",value:function(){this.timer.getTimeAsTotalSeconds()>1200?this.level.timeRank="TAKING MY TIME   ":this.timer.getTimeAsTotalSeconds()>1e3?this.level.timeRank="PRETTY FAIR JOB  ":this.timer.getTimeAsTotalSeconds()>900?this.level.timeRank="PACING OKAY      ":this.timer.getTimeAsTotalSeconds()>720?(this.dispatchEvent(new wt(wt.SEND,20)),this.level.timeRank="MAYBE A JOG      "):this.timer.getTimeAsTotalSeconds()>540?(this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.level.timeRank="POWERWALKER      "):this.timer.getTimeAsTotalSeconds()>510?(this.level.timeRank="FAIR PERFORMANCE ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22))):this.timer.getTimeAsTotalSeconds()>480?(this.level.timeRank="MODERATE PACE    ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22))):this.timer.getTimeAsTotalSeconds()>450?(this.level.timeRank="IMPRESSIVE TIME  ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22))):this.timer.getTimeAsTotalSeconds()>420?(this.level.timeRank="FAIRLY QUICK     ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22))):this.timer.getTimeAsTotalSeconds()>390?(this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22)),this.dispatchEvent(new wt(wt.SEND,23)),this.level.timeRank="ZIPPING AROUND   "):this.timer.getTimeAsTotalSeconds()>360?(this.level.timeRank="ZOOM ZOOM ZOOMER ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22)),this.dispatchEvent(new wt(wt.SEND,23))):this.timer.getTimeAsTotalSeconds()>330?(this.level.timeRank="WICKED FAST PACE ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22)),this.dispatchEvent(new wt(wt.SEND,23))):(this.level.timeRank="TOP RANKING RUN  ",this.dispatchEvent(new wt(wt.SEND,20)),this.dispatchEvent(new wt(wt.SEND,21)),this.dispatchEvent(new wt(wt.SEND,22)),this.dispatchEvent(new wt(wt.SEND,23)))}},{key:"startBurningFlowMusic",value:function(){this.soundFast=this.sFast.play(this.soundForward.position,1),this.soundFast.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundForward.removeEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop(),this.fastSound=!0}},{key:"startFinal",value:function(){"final"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="final",this.sForward=new Me,this.sBackward=new Ae,this.sFast=new Pe,this.initSounds(),this.startForwardMusic())}},{key:"startForwardMusic",value:function(){var t=0;this.fastSound=!1,this.firstSoundPlay?(this.firstSoundPlay=!1,this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundForward)):(t=nt.__internal.avm2.Runtime.int((this.sBackward.length-this.soundBackward.position)*this.soundRatio),qe.stopAllSounds(),t<this.sForward.length&&t>0?this.soundForward=this.sForward.play(t,1):this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundBackward.removeEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundBackward.stop())}},{key:"startInside",value:function(){"inside"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="inside",this.sForward=new ei,this.sBackward=new ii,this.sFast=new ri,this.initSounds(),this.startForwardMusic())}},{key:"startLab",value:function(){"lab"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="lab",this.sForward=new li,this.sBackward=new ui,this.sFast=new ci,this.initSounds(),this.startForwardMusic())}},{key:"startLevel",value:function(){this.level.generateLevel(),this.logger.newLog(),this.ghosting.reset(),this.startPlayer(this.player),this.player.xVel=0,this.player.yVel=0,this.tryFrame=0,this.player.completedLevel=!1,this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,30!=this.levelNum?this.uiPanel.levDisplay.text="Stage "+(this.levelNum+1):this.uiPanel.levDisplay.text="Ending",this.levelNum<=2?this.uiPanel.levName.text="Getting Out":this.levelNum<=9?this.uiPanel.levName.text="The Stadium":this.levelNum<=10?this.uiPanel.levName.text="The Audit":this.levelNum<=14?this.uiPanel.levName.text="Lab Testing":this.levelNum<=16?this.uiPanel.levName.text="The Path to Freedom":this.levelNum<=19?this.uiPanel.levName.text="Backrooms":this.levelNum<=24?this.uiPanel.levName.text="Outside":this.levelNum<=32?this.uiPanel.levName.text="Skyline City Limits":this.levelNum<=100?this.uiPanel.levName.text="Marathon":this.levelNum<=101?this.uiPanel.levName.text="Front Door":this.levelNum<=102?this.uiPanel.levName.text="Crossroads":this.levelNum<=103?this.uiPanel.levName.text="Tubes":this.levelNum<=104?this.uiPanel.levName.text="Death Wall":this.levelNum<=105?this.uiPanel.levName.text="The Maze":this.levelNum<=106?this.uiPanel.levName.text="Lunge":this.levelNum<=107?this.uiPanel.levName.text="Unfriendly Teleporters":this.levelNum<=108?this.uiPanel.levName.text="Funk":this.levelNum<=109?this.uiPanel.levName.text="Cubicles":this.levelNum<=110?this.uiPanel.levName.text="Over and Under":this.levelNum<=111?this.uiPanel.levName.text="Zipper":this.levelNum<=112?this.uiPanel.levName.text="Jumper":this.levelNum<=113?this.uiPanel.levName.text="Slip and Slide":this.levelNum<=114?this.uiPanel.levName.text="Wombat":this.levelNum<=115?this.uiPanel.levName.text="Fuzz Balls":this.levelNum<=116?this.uiPanel.levName.text="Secret Staircase":this.levelNum<=117?this.uiPanel.levName.text="Cubey":this.levelNum<=118?this.uiPanel.levName.text="Descending":this.levelNum<=119?this.uiPanel.levName.text="Treadmillvania":this.uiPanel.levName.text=this.level.name,this.updateUISign(),this.reset(),"MP"===this.mode&&(this.tConnected=!0),this.organizeDepth(),this.camera.limits=[400,this.level.maxWidth-375,250,this.level.maxHeight<225?225:this.level.maxHeight-225],this.camera.move(this.player.x,this.player.y,!1)}},{key:"startPlayer",value:function(t){this.player,t.x=this.level.startPoint.x+12.5,t.y=this.level.startPoint.y;var e=new ni;this.addChild(e),e.x=this.level.startPoint.x,e.y=this.level.startPoint.y,this.emit.manage(e)}},{key:"startReverseMusic",value:function(){this.fastSound?(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundFast.position)/this.soundRatio,1),this.soundBackward.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundFast.removeEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1):(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundForward.position)/this.soundRatio,1),this.soundBackward.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundForward.removeEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop())}},{key:"startRewinding",value:function(){this.player.rewinding=!0,this.startReverseMusic(),this.dispatchEvent(new It(It.SEND,"StartJitter","StartJitter")),this.static=new $e,this.addChild(this.static)}},{key:"startSinglePlayer",value:function(){this.goAhead=!0}},{key:"startSkyline",value:function(){"skyline"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="skyline",this.sForward=new hi,this.sBackward=new fi,this.sFast=new di,this.initSounds(),this.startForwardMusic())}},{key:"startStadium",value:function(){"stadium"!=this.songPlaying&&(qe.stopAllSounds(),this.songPlaying="stadium",this.sForward=new pi,this.sBackward=new yi,this.sFast=new vi,this.initSounds(),this.startForwardMusic())}},{key:"stopBurningFlowMusic",value:function(){this.soundForward=this.sForward.play(this.soundFast.position,1),this.soundForward.addEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundFast.removeEventListener(nt.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1}},{key:"stopRewinding",value:function(){this.player.rewinding=!1,this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y,this.dispatchEvent(new It(It.SEND,"EndJitter","EndJitter")),this.removeChild(this.static),this.static=null,this.rewindCounter>150&&this.dispatchEvent(new wt(wt.SEND,12)),this.startForwardMusic()}},{key:"tCheck",value:function(t,e){for(var i=0;i<this.players.length;i++)if(this.players[i].userName==t)return void this.playerSkins[i].addCheckPoint(e)}},{key:"tDie",value:function(t,e){this.tubes.getMyName()}},{key:"tMarkTime",value:function(t,e){t.completedLevel=!0,t.time=Number(e)}},{key:"tRemovePlayer",value:function(t){for(var e=void 0,i=0;i<this.players.length;i++)if(this.players[i].userName==t){for(e=0;e<this.youArrows.length;e++)this.youArrows[e].skin==this.playerSkins[i]&&(this.removeChild(this.youArrows[e]),this.youArrows[e]=null,this.youArrows.splice(e,1));return this.skinLayer.removeChild(this.playerSkins[i]),this.playerSkins[i]=null,void this.playerSkins.splice(i,1)}}},{key:"tSortTimes",value:function(){var t=null,e=NaN,i=new Array;this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var r=0;r<this.playerBars.length;r++)i.push(this.playerBars[r]);for(;i.length>0;){for(t=i[0],e=0,r=0;r<i.length;r++)t.timeTotal>i[r].timeTotal&&(t=i[r],e=Number(r));this.finalPlacingArray.push(t),i.splice(e,1)}for(r=0;r<this.finalPlacingArray.length;r++)this.finalPlacingArray[r].y=180+36*r,this.finalPlacingArray[r].timeOf.text=this.timer.getRealTime(this.finalPlacingArray[r].timeTotal),this.finalPlacingArray[r].posOf.text=String(r+1);this.startTheCountdown||(this.endCountdown=new Ce(this.playerBars[0].player.userName),this.addChild(this.endCountdown),this.startTheCountdown=!0),this.finalPlacingArray.length==this.players.length&&(this.endCountdown||(this.startTheCountdown=!0,this.endCountdown=new Ce(this.playerBars[0].player.userName),this.addChild(this.endCountdown)),this.endCountdown.endNow())}},{key:"tUpdateFriendsENT",value:function(){for(var t=NaN,e=1,i=0;i<this.players.length;i++){if(this.players[i].isPlayer)this.players[i].xPos=this.skin.x,this.players[i].yPos=this.skin.y,this.players[i].fr=this.skin.currentFrame,this.players[i].xScale=this.skin.scaleX;else{for(this.players[i].tCounter++,this.players[i].tCounter>this.players[i].tCounterGoal?(this.playerSkins[i].x=this.players[i].xPos,this.playerSkins[i].y=this.players[i].yPos):(this.playerSkins[i].x=this.players[i].oldX+this.players[i].xV*this.players[i].tCounter,this.playerSkins[i].y=this.players[i].oldY+this.players[i].yV*this.players[i].tCounter),this.playerSkins[i].colour=this.players[i].colour,this.playerSkins[i].colour2=this.players[i].colour2,this.playerSkins[i].headType=this.players[i].headType,this.playerSkins[i].handType=this.players[i].handType,this.playerSkins[i].scaleX=this.players[i].xScale,this.playerSkins[i].gotoAndStop(this.players[i].fr),this.playerSkins[i].setColours(),t=0;t<this.curLevel.fallingSpikes.length;t++)0!=this.curLevel.fallingSpikes[t].rotation&&180!=this.curLevel.fallingSpikes[t].rotation||0==this.curLevel.fallingSpikes[t].smashState&&Math.abs(this.playerSkins[i].x-this.curLevel.fallingSpikes[t].x)<10&&(this.curLevel.fallingSpikes[t].smashState=1);this.player.x<this.playerSkins[i].x&&e++}for(t=0;t<this.playerBars.length;t++)if(this.playerBars[t].player==this.players[i]){this.playerBars[t].timeTotal!=this.players[i].time&&(this.playerBars[t].timeTotal=this.players[i].time,this.tSortTimes());break}}if(this.updatePlayerPosition(e),1==this.updateMethod)for(i=0;i<this.robots.length;i++);this.handleYouArrows()}},{key:"updatePing",value:function(t){}},{key:"updatePlayerPosition",value:function(t){this.levelFinished||(this.uiPanel.placing.positionNum.text=String(t),this.uiPanel.placing.nth.text=1==t?"st":2==t?"nd":3==t?"rd":"th",this.uiPanel.placing.totalPlayers.text="of "+this.players.length+" runners")}},{key:"updateUISign",value:function(){for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;this.uiPanel.caution.signsTot.text=t+"/30","SP"===this.mode&&(this.playerObject.signs[this.levelNum]?(this.level.cautionSign.visible=!1,this.uiPanel.caution.gotoAndStop(11)):this.uiPanel.caution.gotoAndStop(1)),"SP"!==this.mode&&(this.uiPanel.caution.visible=!1)}}]),n}(nt.flash.display.MovieClip);var gi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var bi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).dist=t.width,t.parent.createGrinder(At()(t)),t.dist=t.width/2,t}return n}(nt.flash.display.MovieClip);var _i=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createHalfBlock(At()(t)),t}return n}(nt.flash.display.MovieClip);var xi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createInvisibleBlock(At()(t)),t}return n}(nt.flash.display.MovieClip);var Ri=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var ki=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(14,t.frame15),t}return T()(n,[{key:"frame15",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var wi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Ei=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).timeOut=30,t.setAngle=0,t.defaultAngle=0,t.foundTarget=!1,t.fakeAngle=0,t.parent.createLaserCannon(At()(t)),t.beam.visible=!1,t.defaultAngle=t.rotation,t}return T()(n,[{key:"ping",value:function(t){this.foundTarget}}]),n}(nt.flash.display.MovieClip);var Si=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t.parent.createLaserGun(At()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Ci=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).flags=Gt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.__1532.ping(),this._6530.ping(),this._OPEN_.ping()}}]),n}(ie);var Li=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Ti=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).touching=!1,t.turnstile=new Li,t.flags=Gt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString("        "),this.addChild(this.turnstile),this.turnstile.x=1217.15,this.turnstile.y=429.25,this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping(),this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.turnstile.play(),this.sign.TICKERAB.changeString("^^^^^^^^"),this.player.parent.setPlayerName(this.sign.TICKERAB.word))}}]),n}(ie);var Mi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).touching=!1,t.hasTouched=!1,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKE.changeString("     ",!0),this.addChild(this.turnstile),this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKE.ping();var t=NaN;if(this.touching)this.player.hitTestObject(this.turnstile)||(this.touching=!1);else if(!this.hasTouched&&this.player.hitTestObject(this.turnstile)){for(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKE.changeString("AUDIT",!0),this.slidingDoor.play(),this.parent.startLab(),t=0;t<7;t++)this["b"+t].gotoAndStop(2),this["b"+t].beacon.gotoAndPlay(re.random(this["b"+t].beacon.totalFrames-1)+1);this.addChild(this.redPing),this.redPing.gotoAndStop(2)}}}]),n}(ie);var Pi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ai=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Di=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Oi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ni=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Bi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Fi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ii=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var ji=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ui=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Vi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Gi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Hi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ki=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var zi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Xi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Yi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var qi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Wi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Ji=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Zi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).levelType="MP",t}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Qi=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var $i=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var tr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"preInitCheck",value:function(){this.levelColour=0,this.obstacleColour=0,this.repaint()}},{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var er=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var ir=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).triggeredLight=!1,t.flags=Gt.FlowDisabled,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.lightOn)}},{key:"uniqueLevelPing",value:function(){this.triggeredLight||this.player.x>970&&(this.triggeredLight=!0,this.lightOn.play(),this.parent.startLab())}}]),n}(ie);var rr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var nr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var sr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var ar=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.addChild(this.blackOver)}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var or=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var lr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var ur=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var cr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var hr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var fr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var dr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var pr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var yr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var vr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var mr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping()}}]),n}(ie);var gr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).touching=!1,t.hasTouched=!1,t}return T()(n,[{key:"endEnding",value:function(){this.ending.visible=!1,this.ending.stop(),this.removeChild(this.ending)}},{key:"uniqueLevelInit",value:function(){this.sign.TICKERA.changeString("        ",!0),this.sign.TICKERB.changeString("                 ",!0),this.addChild(this.turnstile),this.addChild(this.ending),this.parent.bg.visible=!1}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERA.ping(),this.sign.TICKERB.ping(),this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):!this.hasTouched&&this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKERA.changeString(this.timeString,!1),this.sign.TICKERB.changeString(this.timeRank,!1))}}]),n}(ie);var br=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var _r=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var xr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var Rr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var kr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"uniqueLevelInit",value:function(){}},{key:"uniqueLevelPing",value:function(){}}]),n}(ie);var wr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).triggeredLight=!1,t}return T()(n,[{key:"uniqueLevelInit",value:function(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}},{key:"uniqueLevelPing",value:function(){this.sign.TICKERAB.ping(),this.triggeredLight||this.player.x>1775&&(this.triggeredLight=!0,qe.playSound("Cheer2"),qe.playSound("Cheer"))}}]),n}(ie);var Er=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createStartPoint(At()(t)),t}return n}(nt.flash.display.MovieClip);var Sr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createTile(At()(t)),t}return n}(nt.flash.display.MovieClip);var Cr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createSpike(At()(t)),t}return n}(nt.flash.display.MovieClip);var Lr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createPopSpikes(At()(t)),t}return n}(nt.flash.display.MovieClip);var Tr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).smashState=0,t.parent.createFallingSpike(At()(t)),t.smashState=0,t}return n}(nt.flash.display.MovieClip);var Mr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createSwingingAxe(At()(t)),t}return n}(nt.flash.display.MovieClip);var Pr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).letter="a",t.type="1",t.parent.createTeleporter(At()(t)),t}return T()(n,[{key:"init",value:function(){this.letter=this.name.substr(1,1),this.type=this.name.substr(2,1),"1"==this.type&&(this.partner=this.parent.getChildByName("t".concat(this.letter,"2"))),"2"==this.type&&(this.partner=this.parent.getChildByName("t".concat(this.letter,"1"))),this.lett.text=this.letter,this.parent.flags&Gt.ShowTeleporterName||(this.lett.visible=!1)}}]),n}(nt.flash.display.MovieClip);var Ar=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createTreadmillBlock(At()(t),"L"),t}return n}(nt.flash.display.MovieClip);var Dr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).parent.createTreadmillBlock(At()(t),"R"),t}return n}(nt.flash.display.MovieClip);var Or=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),t=r.call(this),P()(At()(t),"txt",new nt.flash.text.TextField),t.txt.__container.layoutBounds[2]=50,t.txt.__container.layoutBounds[3]=50,t.txt.__container.wordWrap=!0,t.txt.__container.multiline=!0,t.txt.__container.defaultTextFormat.color=4294967295,t.txt.__container.defaultTextFormat.font="Bitstream Vera Sans",t.txt.__container.defaultTextFormat.size=12,t.txt.width=50,t.txt.height=50,t.addChild(t.txt),t}return n}(nt.flash.display.Sprite);function Nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Br=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t){var e;return C()(this,n),(e=r.call(this)).levelType="MP",e.lockCamX=!1,e.lockCamY=!1,e.initUserLevel(t),e}return T()(n,[{key:"initUserLevel",value:function(t){var e=this;this.name=t.name,this.flags=t.flags;var i,r=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Nr(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Nr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw s}}}}(t.objects);try{var n=function(){var t,r=i.value,n=nt.flash.display.DisplayObject.__initChar((function(){return e.makeObject(r.type)}),(function(t){e.addChild(t),t.name=r.name,""!==t.name&&(e[t.name]=t);var i=new nt.flash.geom.Matrix;i.a=r.matrix[0],i.b=r.matrix[1],i.c=r.matrix[2],i.d=r.matrix[3],i.tx=r.matrix[4],i.ty=r.matrix[5],t.transform.matrix=i}));n instanceof Or&&(n.txt.text=null!==(t=r.text)&&void 0!==t?t:"")};for(r.s();!(i=r.n()).done;)n()}catch(t){r.e(t)}finally{r.f()}}},{key:"makeObject",value:function(t){switch(t){case"start-point":return new Er;case"end-point":return new Le;case"tile":return new Sr;case"half-tile":return new _i;case"invisible-tile":return new xi;case"bouncer":return new le;case"spikes":return new Cr;case"pop-spikes":return new Lr;case"fall-spikes":return new Tr;case"laser-cannon":return new Ei;case"swinging-axe":return new Mr;case"grinder":return new bi;case"checkpoint":return new de;case"teleporter":return new Pr;case"left-treadmill":return new Ar;case"right-treadmill":return new Dr;case"text":return new Or}}}]),n}(ie),Fr=function(){function t(){C()(this,t)}return T()(t,null,[{key:"cash",value:function(e){return t.delimit(e,",",3,2)}},{key:"commaSnob",value:function(t){if(t<1e3)return String(t);for(var e=String(t).length,i=new Array,r=0;r<e;r++)i.push(String(t).charAt(e-1-r));var n="";for(r=0;r<e;r++)n=r%3==0&&0!=r?i[r]+","+n:i[r]+n;return n}},{key:"delimit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=null,s=t.toFixed(r);"0."==s&&0==r&&(s="0");var a=r>0?1:0;if(s.length<=i+(r+a))return s;for(var o=s.substring(s.length-(r+a),s.length),l=s.substring(0,s.length-(r+a)),u=new Array,c=l.length;c>=0;c-=i)""!=(n=l.substring(c-i,c))&&u.unshift(n);for(var h="",f=0;f<u.length;f++)h+=u[f]+(f!=u.length-1?e:"");return h+o}},{key:"hexToString",value:function(t){return String(t)}},{key:"lower",value:function(t){return t.toLowerCase()}},{key:"parseSentence",value:function(t){for(var e=null,i=0,r=0,n=new Array,s=0;s<t.length;s++)if(" "==t.charAt(s)){for(e="",i=nt.__internal.avm2.Runtime.uint(r);i<s;i++)e+=t.charAt(i);r=nt.__internal.avm2.Runtime.uint(s+1)," "!=e&&e.length>=1&&n.push(e)}return n.push(t.substr(r,t.length)),n}},{key:"upper",value:function(t){return t.toUpperCase()}}]),t}();var Ir=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).kudosRound=0,t.totXP=0,t.xpRound=0,t}return T()(n,[{key:"init",value:function(t){this.player=t,this.updateBox()}},{key:"updateBox",value:function(){this.playerInfo.text=this.player.userName,this.xp.text=Fr.commaSnob(this.player.xp)+" XP",this.totXP=this.player.xp,this.levelTitle.text=this.parent.parent.parent.getRankByXP(this.totXP),this.levelNum.text=this.parent.parent.parent.getLevelByXP(this.totXP),this.kudos.text=Fr.commaSnob(this.player.kudos),this.matchNum.text=Fr.commaSnob(this.player.matches)+" Matches",this.wins.text=Fr.commaSnob(this.player.wins)+" Wins",this.skinner.colour=this.player.colour,this.skinner.colour2=this.player.colour2,this.skinner.headType=this.player.headType,this.skinner.handType=this.player.handType,Ft.colourMe(this.backdrop,this.player.colour),Ft.colourMe(this.side,this.player.colour2),this.skinner.fuel()}},{key:"updateKudos",value:function(t){this.kudosRound=this.kudosRound+t,this.kudosThisRound.text="+"+this.kudosRound}},{key:"updateXP",value:function(t){this.xpRound=this.xpRound+t,this.xpThisRound.text=Fr.commaSnob(this.xpRound)+" XP"}}]),n}(nt.flash.display.MovieClip);var jr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"init",value:function(t,e){this.levelNum.text=String(t),this.levelStr.text=String(e),this.okayButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(nt.flash.display.MovieClip);var Ur=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var Vr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).newXP=0,t.oldLevel=0,t.timeToGo=5,t.newLevel=0,t.returning=!1,t.oldXP=0,t.players=new Array,t.bars=new Array,t.ranking=new Array,t.timer=new Se,t.addFrameScript(0,t.frame1),t}return T()(n,[{key:"addBar",value:function(){var t=new Ur;this.addChild(t),this.bars.push(t),t.kudosButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.giveKudo,!1,0,!0),t.kudosButton.visible=!1,this.levelUpWindow&&this.contains(this.levelUpWindow)&&this.addChild(this.levelUpWindow)}},{key:"backTo",value:function(t){this.dispatchEvent(new It(It.GOTO,"Lobby","Back"))}},{key:"exchangeKudos",value:function(t,e){for(var i=0;i<this.players.length;i++)if(this.players[i].userName==t)return this.bars[i].boxy.giveKudo.play(),this.bars[i].boxy.updateXP(25),this.bars[i].boxy.updateKudos(1),void(this.players[i].isPlayer&&(this.bars[i].boxy.kudosRound>=5&&this.dispatchEvent(new wt(wt.SEND,34)),this.bars[i].boxy.kudosRound>=7&&this.dispatchEvent(new wt(wt.SEND,35))))}},{key:"frame1",value:function(){this.stop(),this.dispatchEvent(new It(It.SEND,"Results","Init"))}},{key:"giveKudo",value:function(t){for(var e=NaN,i=0;i<this.bars.length;i++)if(this.bars[i]==t.currentTarget.parent&&this.tubes.sendMessage("kudokudo"+this.players[i].userName),this.players[i].isPlayer&&(this.players[i].kudosToGive--,this.kudosLeft.text="Kudos To Give: "+this.players[i].kudosToGive,this.players[i].kudosToGive<=0)){for(e=0;e<this.bars.length;e++)this.bars[e].kudosButton.visible=!1;this.kudosLeft.text="Kudos To Give: 0"}}},{key:"init",value:function(t){this.tubes=t,this.backToMenuButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.backTo,!1,0,!0),this.sendButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.sendMessage,!1,0,!0),this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(nt.flash.events.MouseEvent.CLICK,this.mouseClick,!1,0,!0),this.stage.focus=this.texter,this.texter.text="",this.players=this.tubes.players,this.initPlayers()}},{key:"initPlayers",value:function(){for(var t=0;t<this.players.length;t++)this.addBar(),this.updateBar(t),this.bars[t].kudosButton.visible=!1}},{key:"kill",value:function(){this.sendButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.sendMessage),this.backToMenuButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.backTo),this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.mouseClick)}},{key:"mouseClick",value:function(){for(var t=0;t<this.bars.length;t++)if(this.bars[t].sMute.hitTestPoint(this.mouseX,this.mouseY))return this.tubes.isPlayerMuted(this.players[t].userName)?(this.tubes.unMutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(1)):(this.tubes.mutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(2))}},{key:"ping",value:function(){Ue.isDown(nt.flash.ui.Keyboard.ENTER)&&this.sendMessage(),this.players.length>1?this.nextInfo.text="Next game will start in "+this.timeToGo+" second(s)":this.nextInfo.text="Waiting for more players...",this.sortPlayers(),this.tubes.ping(),this.xpDisp.text=Fr.commaSnob(this.tubes.playerObject.xp)+" XP";var t=this.parent.getLevelByXP(this.tubes.playerObject.xp),e=this.parent.getRankByXP(this.tubes.playerObject.xp),i=this.parent.ranks[t+1],r=this.parent.ranks[t],n=i-this.tubes.playerObject.xp;this.xpAndLevel.text=String(t),this.xpTill.text=Fr.commaSnob(n)+" XP until the next Level",this.xpBar.barIn.scaleX=Ft.ease(this.xpBar.barIn.scaleX,(this.tubes.playerObject.xp-r)/(i-r),.3),this.levelRank.text=e}},{key:"removeBar",value:function(t){this.bars[t].kudosButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.giveKudo),this.removeChild(this.bars[t]),this.bars[t]=null,this.bars.splice(t,1)}},{key:"reRank",value:function(){}},{key:"returnFromGame",value:function(){this.returning=!0,this.tubes.timeToGo=this.tubes.timeToGoStart;for(var t=0;t<this.players.length;t++)this.players[t].matches++,this.players[t].isPlayer?(this.oldXP=this.tubes.playerObject.xp,this.oldLevel=this.parent.getLevelByXP(this.tubes.playerObject.xp),this.players[t].host&&(this.tubes.setRoomVariable("state","Lobby"),this.tubes.resetTimeToGo()),this.tubes.playerObject.matches++,this.dispatchEvent(new wt(wt.SEND,15)),this.bars[t].kudosButton.visible=!1):this.bars[t].kudosButton.visible=!0,0==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+3,this.players[t].xp=this.players[t].xp+250,this.players[t].wins++,this.updateBar(t),this.bars[t].boxy.updateXP(250),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+250,this.tubes.playerObject.wins++,this.tubes.playerObject.wins>=1&&this.dispatchEvent(new wt(wt.SEND,24)),this.tubes.playerObject.wins>=10&&this.dispatchEvent(new wt(wt.SEND,25)),this.tubes.playerObject.wins>=100&&this.dispatchEvent(new wt(wt.SEND,26)))):1==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+2,this.players[t].xp=this.players[t].xp+150,this.updateBar(t),this.bars[t].boxy.updateXP(150),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+150)):2==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+1,this.players[t].xp=this.players[t].xp+100,this.updateBar(t),this.bars[t].boxy.updateXP(100),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+100)):(this.players[t].kudosToGive=this.players[t].kudosToGive+0,this.players[t].xp=this.players[t].xp+25,this.tubes.playerObject.xp=this.tubes.playerObject.xp+25,this.updateBar(t),this.bars[t].boxy.updateXP(25),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+25));this.tubes.chooseUserLevel();var e=this.parent.getRankByXP(this.tubes.playerObject.xp),i=this.parent.getLevelByXP(this.tubes.playerObject.xp);if(i>this.oldLevel){for(this.levelUpWindow=new jr,this.levelUpWindow.init(i,e),this.addChild(this.levelUpWindow),t=0;t<this.players[t];t++)this.players[t].isPlayer&&this.updateBar(t);this.tubes.sendMessage("LVX"+this.tubes.playerObject.userName+" has just leveled up to Level "+i+": "+e)}this.dispatchEvent(new It(It.GOTO,"SaveGame"));var r=this.tubes.playerObject.matches;r>=5&&this.dispatchEvent(new wt(wt.SEND,30)),r>=25&&this.dispatchEvent(new wt(wt.SEND,31)),r>=100&&this.dispatchEvent(new wt(wt.SEND,32)),r>=250&&this.dispatchEvent(new wt(wt.SEND,33)),i>=3&&this.dispatchEvent(new wt(wt.SEND,36)),i>=5&&this.dispatchEvent(new wt(wt.SEND,37)),i>=8&&this.dispatchEvent(new wt(wt.SEND,38)),i>=10&&this.dispatchEvent(new wt(wt.SEND,39)),i>=15&&this.dispatchEvent(new wt(wt.SEND,40)),i>=20&&this.dispatchEvent(new wt(wt.SEND,41)),i>=25&&this.dispatchEvent(new wt(wt.SEND,42)),i>=30&&this.dispatchEvent(new wt(wt.SEND,43)),i>=35&&this.dispatchEvent(new wt(wt.SEND,44)),i>=38&&this.dispatchEvent(new wt(wt.SEND,45)),i>=39&&this.dispatchEvent(new wt(wt.SEND,46)),i>=40&&this.dispatchEvent(new wt(wt.SEND,47))}},{key:"sendMessage",value:function(){if(""==this.texter.text||" "==this.texter.text||"\n"==this.texter.text||" \n"==this.texter.text||this.texter.text.length<=1)return this.texter.text="",void(this.stage.focus=this.texter);Ue.isDown(nt.flash.ui.Keyboard.ENTER)?this.texter.text=this.texter.text.substr(0,this.texter.text.length-1):this.texter.text=this.texter.text.substr(0,this.texter.text.length),this.tubes.sendMessage("!!"+this.texter.text),this.texter.text="",this.stage.focus=this.texter}},{key:"sortPlayers",value:function(){for(var t=NaN,e=0;e<this.players.length;e++)for(this.bars[e].x=50,t=0;t<this.tubes.finalList.length;t++)this.tubes.finalList[t]==this.players[e]&&(this.bars[e].y=Ft.ease(this.bars[e].y,100+50*t,.3))}},{key:"updateBar",value:function(t){var e=t,i=this.bars[e],r=this.players[e];i&&r&&(i.x=50,i.boxy.init(r),i.placingNum.text=String(r.placing+1),r.completedLevel?i.timeDisp.text=this.timer.getRealTime(r.time):this.returning?(i.timeDisp.text="No Finish",i.boxy.kudoImage.visible=!0):(i.timeDisp.text="New!",i.boxy.xpThisRound.text=" ",i.boxy.kudosThisRound.text=" ",i.boxy.kudoImage.visible=!1),1==r.isPlayer?(i.playerBorder.visible=!0,i.kudosButton.visible=!1,r.kudosToGive>0&&(this.kudosLeft.text="Kudos To Give: "+r.kudosToGive),i.sMute.visible=!1):i.playerBorder.visible=!1,this.tubes.isPlayerMuted(r.userName)?i.sMute.gotoAndStop(2):i.sMute.gotoAndStop(1),i.boxy.updateBox())}},{key:"updateKudosToGive",value:function(){for(var t=0;t<this.players.length;t++){if(this.players[t].isPlayer)return void(this.players[t].kudosToGive>0?this.kudosLeft.text="Kudos To Give: "+this.players[t].kudosToGive:this.kudosLeft.text="Kudos To Give: 0");this.bars[t].kudosButton.visible=!0}}}]),n}(nt.flash.display.MovieClip);var Gr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.noThankYou)}},{key:"noThankYou",value:function(t){this.okayButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.noThankYou),this.parent&&this.parent.removeChild(this)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.noThankYou),this.dispatchEvent(new It(It.GOTO,"ExitPathLink")),this.parent&&this.parent.removeChild(this)}}]),n}(nt.flash.display.MovieClip);var Hr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return C()(this,n),(t=r.call(this)).agDomain=!1,t.mpButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.mpButtonHandler,!1,0,!0),t.spButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.spButtonHandler,!1,0,!0),t.fButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.fButtonHandler,!1,0,!0),t.mButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.mButtonHandler,!1,0,!0),t.twitterButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.tButtonHandler,!1,0,!0),t.facebookButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.fbButtonHandler,!1,0,!0),t.armorGamesButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.agButtonHandler,!1,0,!0),t.gogogo.addEventListener(nt.flash.events.MouseEvent.CLICK,t.goHandler,!1,0,!0),t.muteButton.addEventListener(nt.flash.events.MouseEvent.CLICK,t.muteOut,!1,0,!0),t.agDomain=e,t}return T()(n,[{key:"agButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"ArmorGames"))}},{key:"fbButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"Facebook"))}},{key:"fButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"MainMenu","Flair"))}},{key:"goHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"DeleteAllData"))}},{key:"kill",value:function(){this.mpButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.mpButtonHandler),this.spButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.spButtonHandler),this.fButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.fButtonHandler),this.mButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.mButtonHandler),this.twitterButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.tButtonHandler),this.facebookButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.fbButtonHandler),this.armorGamesButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.agButtonHandler),this.gogogo.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.goHandler),this.muteButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.muteOut),this.parent.killAGISaver()}},{key:"mButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"MainMenu","CharacterEdit"))}},{key:"mpButtonHandler",value:function(){this.agDomain?this.dispatchEvent(new It(It.GOTO,"MainMenu","Multiplayer")):(this.warning=new Gr,this.addChild(this.warning),this.warning.init())}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"spButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"MainMenu","SinglePlayer"))}},{key:"tButtonHandler",value:function(){this.dispatchEvent(new It(It.GOTO,"Twitter"))}}]),n}(nt.flash.display.MovieClip);var Kr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var zr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Xr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"buttons",value:function(t){switch(t.currentTarget){case this.qp:this.dispatchEvent(new It(It.GOTO,"MultiplayerMenu","QuickPlay"));break;case this.backToMenuButton:this.dispatchEvent(new It(It.GOTO,"MultiplayerMenu","Back"))}}},{key:"customGo",value:function(t){this.dispatchEvent(new It(It.GOTO,"MultiplayerMenu","CharacterSelection"))}},{key:"init",value:function(t){this.playerObject=t,this.qp.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToMenuButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.customGo,!1,0,!0),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerInfo.xpDisp.text=Fr.commaSnob(this.playerObject.xp)+" XP",this.playerInfo.kudosDisp.text=Fr.commaSnob(this.playerObject.kudos)+" Kudos",this.playerInfo.winDisp.text=Fr.commaSnob(this.playerObject.wins)+" Wins",this.playerInfo.matchDisp.text=Fr.commaSnob(this.playerObject.matches)+" Matches";var e=this.parent.getLevelByXP(this.playerObject.xp),i=this.parent.getRankByXP(this.playerObject.xp),r=this.parent.ranks[e+1],n=this.parent.ranks[e],s=r-this.playerObject.xp;this.playerInfo.xpAndLevel.text=e+" "+i,this.playerInfo.xpTill.text=Fr.commaSnob(s)+" XP until the next Level",this.playerInfo.xpBar.barIn.scaleX=(this.playerObject.xp-n)/(r-n),this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}},{key:"kill",value:function(){this.qp.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.backToMenuButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.customGo)}}]),n}(nt.flash.display.MovieClip);var Yr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"addListeners",value:function(){this.playButt.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.viewButt.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.eraseButt.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.yesButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.noButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.userLevelButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0)}},{key:"buttons",value:function(t){switch(t.currentTarget){case this.playButt:this.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","StartGame"));break;case this.viewButt:this.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","ViewHighscores"));break;case this.eraseButt:this.deleteSure.visible=!0;break;case this.backToButton:this.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","BackButton"));break;case this.customizeButton:this.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","CharacterSelection"));break;case this.userLevelButton:this.dispatchEvent(new ht({type:"sp-user-level"}));break;case this.deleteSure.yesButton:this.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","Delete"));break;case this.deleteSure.noButton:this.deleteSure.visible=!1}}},{key:"init",value:function(t){this.playerObject=t,this.addListeners(),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerObject.bestTime<=9999999?this.bestTime.text=Se.translateTime(this.playerObject.bestTime):this.bestTime.text="No Run",0==this.playerObject.gameLevel?this.currentProgress.text="Not Started":this.currentProgress.text="Level "+(1+this.playerObject.gameLevel);for(var e=0,i=0;i<this.playerObject.signs.length;i++)1==this.playerObject.signs[i]&&e++;this.signsCollected.text=e+"/30",this.deleteSure.visible=!1,this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}},{key:"kill",value:function(){this.playButt.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.viewButt.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.eraseButt.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.backToButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.yesButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.noButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons)}}]),n}(nt.flash.display.MovieClip);var qr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).completedLevel=!1,t.isMain=!0,t.level=15,t.oldX=0,t.placing=-1,t.hostTime=0,t.wins=295,t.oldY=0,t.id=0,t.kudos=10,t.yPos=250,t.host=!1,t.isPlayer=!1,t.curCheck=0,t.xScale=1,t.matches=1254,t.xPos=250,t.toX=0,t.toY=0,t.headType=3,t.tCounterGoal=0,t.handType=3,t.colour=16777215,t.time=0,t.xV=0,t.colour2=16777215,t.tCounter=0,t.kudosToGive=0,t.fr=1,t.userName="bob",t.xp=1500,t.yV=0,t.ping=re.random(400),t.timer=new Se,t}return T()(n,[{key:"init",value:function(){}}]),n}(nt.flash.display.MovieClip);var Wr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"connect",value:function(t){}},{key:"createRoom",value:function(t){}},{key:"disconnect",value:function(){}},{key:"getActiveRoom",value:function(){return null}},{key:"getAllRooms",value:function(){return[]}},{key:"getRoomList",value:function(){}},{key:"joinRoom",value:function(t){}},{key:"login",value:function(t,e,i){}},{key:"roundTripBench",value:function(){}},{key:"sendPrivateMessage",value:function(t,e){}},{key:"sendPublicMessage",value:function(t){}},{key:"setRoomVariables",value:function(t){}},{key:"setUserVariables",value:function(t){}}]),n}(nt.flash.events.EventDispatcher);var Jr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e){var i;return C()(this,n),(i=r.call(this,t)).params=e,i}return T()(n,[{key:"clone",value:function(){return new n(this.type,this.params)}},{key:"toString",value:function(){return this.formatToString("SFSEvent","type","bubbles","cancelable","eventPhase","params")}}]),n}(nt.flash.events.Event);P()(Jr,"onAdminMessage","onAdminMessage"),P()(Jr,"onBuddyList","onBuddyList"),P()(Jr,"onBuddyListError","onBuddyListError"),P()(Jr,"onBuddyListUpdate","onBuddyListUpdate"),P()(Jr,"onBuddyPermissionRequest","onBuddyPermissionRequest"),P()(Jr,"onBuddyRoom","onBuddyRoom"),P()(Jr,"onConfigLoadFailure","onConfigLoadFailure"),P()(Jr,"onConfigLoadSuccess","onConfigLoadSuccess"),P()(Jr,"onConnection","onConnection"),P()(Jr,"onConnectionLost","onConnectionLost"),P()(Jr,"onCreateRoomError","onCreateRoomError"),P()(Jr,"onDebugMessage","onDebugMessage"),P()(Jr,"onExtensionResponse","onExtensionResponse"),P()(Jr,"onJoinRoom","onJoinRoom"),P()(Jr,"onJoinRoomError","onJoinRoomError"),P()(Jr,"onLogin","onLogin"),P()(Jr,"onLogout","onLogout"),P()(Jr,"onModeratorMessage","onModMessage"),P()(Jr,"onObjectReceived","onObjectReceived"),P()(Jr,"onPlayerSwitched","onPlayerSwitched"),P()(Jr,"onPrivateMessage","onPrivateMessage"),P()(Jr,"onPublicMessage","onPublicMessage"),P()(Jr,"onRandomKey","onRandomKey"),P()(Jr,"onRoomAdded","onRoomAdded"),P()(Jr,"onRoomDeleted","onRoomDeleted"),P()(Jr,"onRoomLeft","onRoomLeft"),P()(Jr,"onRoomListUpdate","onRoomListUpdate"),P()(Jr,"onRoomVariablesUpdate","onRoomVariablesUpdate"),P()(Jr,"onRoundTripResponse","onRoundTripResponse"),P()(Jr,"onSpectatorSwitched","onSpectatorSwitched"),P()(Jr,"onUserCountChange","onUserCountChange"),P()(Jr,"onUserEnterRoom","onUserEnterRoom"),P()(Jr,"onUserLeaveRoom","onUserLeaveRoom"),P()(Jr,"onUserVariablesUpdate","onUserVariablesUpdate");var Zr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).minPlayers=2,t.timeToGoStart=25,t.startedGame=!1,t.tCounterGoal=6,t.pingCounter=0,t.timeToGo=25,t.allAlone=!1,t.locate="QPL",t.levelStarted=!1,t.allAloneCounter=0,t.timeCounter=0,t.NEWLINE="\n",t.timerUpdateRate=20,t.timeOutCounter=0,t.firstTimeIn=!0,t.timeToGoCounter=0,t.maxPlayers=5,t.inLimbo=!1,t.pingCount=0,t.totalPingTime=0,t.firstTimeSend=!1,t.tCounter=0,t.mpLevels=new Array(100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119),t.myNextLevel=100+re.random(10),t.timer=new nt.flash.utils.Timer(200),t.hostTimer=new nt.flash.utils.Timer(1e3),t.muteList=new Array,t.updaters=new Object,t.players=new Array,t.finalList=new Array,t.currentPing=re.random(1e4),t}return T()(n,[{key:"addPlayer",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new qr;r.userName=e,r.id=t,r.isPlayer=i,r.placing=this.players.length,this.players.push(r),this.finalList.push(r),i||"QPL"!=this.locate&&"Lobby"==this.locate&&this.parent.lobby&&this.parent&&this.parent.lobby.addBar(),i&&(r.level=this.playerObject.level,r.xp=this.playerObject.xp,r.kudos=this.playerObject.kudos,r.wins=this.playerObject.wins,r.matches=this.playerObject.matches,r.time=0,r.colour=this.playerObject.colour,r.colour2=this.playerObject.colour2,r.headType=this.playerObject.headType,r.handType=this.playerObject.handType,r.ping=this.playerObject.ping,this.player=r)}},{key:"broadcastPlayerPing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,i=!1,r=null,n=0;this.tCounter=6,this.tCounterGoal=6,this.player&&this.tCounter==this.tCounterGoal&&(this.tCounter=0,e=new Object,i=!1,r="QD",this.updaters.ping!=this.currentPing&&(this.updaters.ping=this.currentPing,e.ping=this.currentPing),this.player.host&&this.updaters.hostTime!=this.player.hostTime&&(this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime),this.updaters.xScale!=this.player.xScale&&(this.updaters.xScale=this.player.xScale,e.scX=this.player.xScale),this.updaters.colour!=this.player.colour&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour),this.updaters.colour2!=this.player.colour2&&(this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2),this.updaters.headType!=this.player.headType&&(this.updaters.headType=this.player.headType,e.pH=this.player.headType),this.updaters.handType!=this.player.handType&&(this.updaters.handType=this.player.handType,e.pI=this.player.handType),this.updaters.xp!=this.player.xp&&(this.updaters.xp=this.player.xp,e.xp=this.player.xp),this.updaters.wins!=this.player.wins&&(this.updaters.wins=this.player.wins,e.wins=this.player.wins),this.updaters.matches!=this.player.matches&&(this.updaters.matches=this.player.matches,e.matches=this.player.matches),this.updaters.kudos!=this.player.kudos&&(this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos),this.updaters.host!=this.player.host&&(this.updaters.host=this.player.host,e.host=this.player.host),r+="x",this.updaters.xPos!=Math.floor(this.player.xPos)&&(this.updaters.xPos=Math.floor(this.player.xPos),r+=String(Math.floor(this.player.xPos)),i=!0),r+="y",this.updaters.yPos!=Math.floor(this.player.yPos)&&(this.updaters.yPos=Math.floor(this.player.yPos),r+=String(Math.floor(this.player.yPos)),i=!0),r+="f",this.updaters.fr!=this.player.fr&&(this.updaters.fr=this.player.fr,r+=String(this.player.fr),i=!0),r+="q",this.updaters.time!=this.player.time&&(this.updaters.time=this.player.time,e.time=this.player.time),t&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour,this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2,this.updaters.headType=this.player.headType,e.pH=this.player.headType,this.updaters.handType=this.player.handType,e.pI=this.player.handType,this.updaters.xp=this.player.xp,e.xp=this.player.xp,this.updaters.wins=this.player.wins,e.wins=this.player.wins,this.updaters.ping=this.currentPing,e.ping=this.currentPing,this.updaters.matches=this.player.matches,e.matches=this.player.matches,this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos,this.updaters.host=this.player.host,e.host=this.player.host,this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime,this.updaters.xPos=this.player.xPos,e.xPos=this.player.xPos,this.updaters.yPos=this.player.yPos,e.yPos=this.player.yPos),n=Object.keys(e).length,i&&(i=!1,this.sendMessage(r)),0!=n&&this.setUserVariables(e))}},{key:"chooseUserLevel",value:function(){this.myNextLevel=this.myNextLevel+(re.random(2)+1),this.myNextLevel>119&&(this.myNextLevel=100),this.myNextLevel<100&&(this.myNextLevel=100),this.setRoomVariable("level",String(this.myNextLevel))}},{key:"colourPlayer",value:function(t){return"<FONT COLOR='#"+re.toHex(t.colour)+"'>"+t.userName+"</FONT>"}},{key:"createRoom",value:function(){for(var t=null,e=!1,i=null,r=null,n=null,s=null,a=new Object,o=!1,l=this.sfs.getAllRooms();!o;){for(s in e=!1,i=this.randomAnimal(),r=this.randomRoadType(),n=re.random(1e4)+" "+i+" "+r,l)if(l[s].getName()==n){e=!0;break}e||(t=n,o=!0)}a.name=t,a.isGame=!0,a.maxUsers=this.maxPlayers;var u=new Array;u.push({name:"host",val:this.playerObject.userName,persistent:!0}),a.vars=u,this.sfs.createRoom(a)}},{key:"debugTrace",value:function(t){this.debuggy.txt.htmlText=this.debuggy.txt.htmlText+t}},{key:"disconnect",value:function(){this.sfs.disconnect()}},{key:"getMyID",value:function(){return this.sfs.myUserId}},{key:"getMyName",value:function(){return this.sfs.myUserName}},{key:"getMyRoom",value:function(){return this.sfs.myUserName}},{key:"getRoomCount",value:function(){return this.players.length}},{key:"getRoomMax",value:function(){return this.maxPlayers}},{key:"getVariable",value:function(t){return this.sfs.getActiveRoom().getVariable(t)}},{key:"giveFinalList",value:function(t){var e=NaN;this.finalList=new Array;for(var i=0;i<t.length;i++)for(e=0;e<this.players.length;e++)if(t[i].player.userName==this.players[e].userName){this.finalList.push(this.players[e]),this.players[e].placing=i;break}this.timeToGo=this.timeToGoStart}},{key:"hostDuty",value:function(){}},{key:"init",value:function(t){this.timer.addEventListener("timer",this.timerHandler),this.timer.start(),this.hostTimer.addEventListener("timer",this.timerHandler2),this.hostTimer.start(),this.playerObject=t,this.inLimbo=!1,this.firstTimeIn=!0,this.sfs=new Wr(!0),this.sfs.addEventListener(Jr.onConnection,this.onConnection),this.sfs.addEventListener(Jr.onConnectionLost,this.onConnectionLost),this.sfs.addEventListener(Jr.onLogin,this.onLogin),this.sfs.addEventListener(Jr.onRoomListUpdate,this.onRoomListUpdate),this.sfs.addEventListener(Jr.onJoinRoom,this.onJoinRoom),this.sfs.addEventListener(Jr.onJoinRoomError,this.onJoinRoomError),this.sfs.addEventListener(Jr.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.addEventListener(Jr.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.addEventListener(Jr.onPublicMessage,this.onPublicMessageHandler),this.sfs.addEventListener(Jr.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.addEventListener(Jr.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.addEventListener(Jr.onRoomAdded,this.onRoomAddedHandler),this.sfs.addEventListener(Jr.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.addEventListener(Jr.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.addEventListener(Jr.onAdminMessage,this.onAdminMessageHandler),this.sfs.addEventListener(nt.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.addEventListener(nt.flash.events.IOErrorEvent.IO_ERROR,this.onIOError),this.sfs.debug=!1,this.sfs.isConnected?this.debugTrace("You are already connected!"):this.sfs.connect("multiplayer.armorgames.com",9339)}},{key:"isPlayerMuted",value:function(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return!0;return!1}},{key:"joinRoom",value:function(t){this.sfs.joinRoom(t)}},{key:"kill",value:function(){this.timer.removeEventListener("timer",this.timerHandler),this.timer.stop(),this.timer=null,this.hostTimer.removeEventListener("timer",this.timerHandler2),this.hostTimer.stop(),this.hostTimer=null,this.sfs.removeEventListener(Jr.onConnection,this.onConnection),this.sfs.removeEventListener(Jr.onConnectionLost,this.onConnectionLost),this.sfs.removeEventListener(Jr.onLogin,this.onLogin),this.sfs.removeEventListener(Jr.onRoomListUpdate,this.onRoomListUpdate),this.sfs.removeEventListener(Jr.onJoinRoom,this.onJoinRoom),this.sfs.removeEventListener(Jr.onJoinRoomError,this.onJoinRoomError),this.sfs.removeEventListener(Jr.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.removeEventListener(Jr.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.removeEventListener(Jr.onPublicMessage,this.onPublicMessageHandler),this.sfs.removeEventListener(Jr.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.removeEventListener(Jr.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.removeEventListener(Jr.onRoomAdded,this.onRoomAddedHandler),this.sfs.removeEventListener(Jr.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.removeEventListener(Jr.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.removeEventListener(Jr.onAdminMessage,this.onAdminMessageHandler),this.sfs.removeEventListener(nt.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.removeEventListener(nt.flash.events.IOErrorEvent.IO_ERROR,this.onIOError)}},{key:"mutePlayer",value:function(t){this.muteList.push(t),this.debugTrace(t+" has been muted, you will no longer see this user's messages.")}},{key:"onAdminMessageHandler",value:function(t){this.debugTrace("<FONT COLOR='#"+re.toHex(16711680)+"'><B>Admin Overlord Message:</B> "+t.params.message+"</FONT>")}},{key:"onConnection",value:function(t){t.params.success?(this.debugTrace("Connection successful!"),this.parent.step(1),this.sfs.login("ExitGame",this.playerObject.userName,"")):this.debugTrace("Connection failed!")}},{key:"onConnectionLost",value:function(t){this.debugTrace("Connection lost!")}},{key:"onIOError",value:function(t){this.debugTrace("I/O Error: "+t.text)}},{key:"onJoinRoom",value:function(t){var e=null,i=null;if(this.debugTrace("Successfully arrived at "+t.params.room.getName()),"Party Room"!=t.params.room.getName()){this.parent.step(3);var r=t.params.room.getUserList();for(e in r)r[e].getName()==this.getMyName()?(this.addPlayer(r[e].getId(),r[e].getName(),!0),t.params.room.getVariable("host")==this.playerObject.userName&&(this.debugTrace("You have been made host of this address!"),this.setRoomVariable("state","Lobby"),this.chooseUserLevel(),this.resetTimeToGo(),this.player.host=!0,1==this.players.length&&this.startSingleRoomTimeOut())):this.addPlayer(r[e].getId(),r[e].getName());(i=this.sfs.getActiveRoom()).getUserCount()>=this.minPlayers&&this.parent.step(4),this.parent.updateUserCount(i.getUserCount(),i.getMaxUsers())}else this.sfs.getRoomList()}},{key:"onJoinRoomError",value:function(t){this.debugTrace("Room join error; the following error occurred: "+t.params.error),this.parent.step(1),this.sfs.joinRoom("Party Room")}},{key:"onLogin",value:function(t){t.params.success?this.debugTrace("Successfully logged in"):this.debugTrace("Login failed. Reason: "+t.params.error)}},{key:"onPrivateMessageHandler",value:function(t){for(var e=JSON.parse(t.params.message),i=0;i<this.players.length;i++)if(this.players[i].userName==t.params.sender.getName()&&this.players[i]!=this.player)return this.players[i].xp=e.xp,this.players[i].kudos=e.kudos,this.players[i].wins=e.wins,this.players[i].matches=e.matches,this.players[i].colour=e.colour,this.players[i].colour2=e.colour2,this.players[i].headType=e.headType,this.players[i].handType=e.handType,this.players[i].host=e.host,void("Lobby"==this.locate&&this.parent.lobby.updateBar(i))}},{key:"onPublicMessageHandler",value:function(t){var e=null,i=NaN,r=null,n=NaN,s=NaN;if("QD"!=t.params.message.substr(0,2)){if("kudokudo"!=t.params.message.substr(0,8)){if("TIME "==t.params.message.substr(0,5))return this.timeToGo=Number(t.params.message.substr(5,3)),"Lobby"==this.locate&&(this.parent.lobby.timeToGo=this.timeToGo),this.timeToGo<=5&&this.timeToGo>=0&&(qe.playSound("Boop1"),this.startedGame=!1),void(this.parent.game&&"Game"==this.locate&&0==this.startedGame&&(-4==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(20),-5==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(36),-6==this.timeToGo&&(this.parent.game.levelStart.startBox.gotoAndPlay(55),this.startedGame=!0),this.timeToGo<=-7&&0==this.parent.game.goAhead&&0==this.parent.game.levelFinished&&(this.parent.game.goAhead=!0,this.startedGame=!0,this.timeToGo=-7)));if("!!"==t.params.message.substr(0,2))for(s=0;s<this.players.length;s++)if(this.players[s].userName==t.params.sender.getName()){if(this.isPlayerMuted(this.players[s].userName))return;return void this.debugTrace(this.colourPlayer(this.players[s])+": "+t.params.message.substr(2,t.params.message.length))}if("CHECK"!=t.params.message.substr(0,5)){if("LVX"==t.params.message.substr(0,3))return this.debugTrace("<FONT COLOR='#00CC00'>"+t.params.message.substr(3,t.params.message.length)+"</FONT>"),this.debugTrace("<FONT COLOR='#00CC00'>KudoBomb!  As celebration, all room members earn +2 kudos to give!</FONT>"),this.player.kudosToGive=this.player.kudosToGive+2,void("Lobby"==this.locate&&this.parent.lobby&&this.parent.lobby.updateKudosToGive());switch(t.params.message){case"die":"Game"==this.locate&&this.parent.game.tDie(t.params.sender.getId(),t.params.sender.getName());break;case"done":break;case"START":this.timeToGo=0,this.player.kudosToGive=0,qe.playSound("Boop2"),this.myNextLevel=Number(this.getVariable("level")),this.dispatchEvent(new It(It.GOTO,"Lobby","StartGame"));break;default:this.debugTrace(t.params.sender.getName()+": "+t.params.message)}}else t.params.sender.getName()!=this.player.userName&&this.parent.game.tCheck(t.params.sender.getName(),Number(t.params.message.substr(5,1)))}else if(e=t.params.message.substr(8,t.params.message.length),"Lobby"==this.locate&&this.parent.lobby.exchangeKudos(e,t.params.sender.getName()),e==this.player.userName){if(i=this.parent.getLevelByXP(this.playerObject.xp),qe.playSound("GetKudos"),this.debugTrace(t.params.sender.getName()+" has given you kudos!  You now have "+(this.playerObject.kudos+1)),this.player.kudos++,this.playerObject.kudos++,this.player.xp=this.player.xp+5,this.playerObject.xp=this.playerObject.xp+5,this.playerObject.kudos>=10&&this.dispatchEvent(new wt(wt.SEND,27)),this.playerObject.kudos>=100&&this.dispatchEvent(new wt(wt.SEND,28)),this.playerObject.kudos>=250&&this.dispatchEvent(new wt(wt.SEND,29)),"Lobby"==this.locate&&(r=this.parent.getRankByXP(this.playerObject.xp),(n=this.parent.getLevelByXP(this.playerObject.xp))>i))for(this.parent.lobby.levelUpWindow=new jr,this.parent.lobby.levelUpWindow.init(n,r),this.parent.lobby.addChild(this.parent.lobby.levelUpWindow),this.sendMessage("LVX"+this.player.userName+" has just leveled up to Level "+n+": "+r),s=0;s<this.players[s];s++)this.players[s].isPlayer&&this.parent.lobby.updateBar(s);this.dispatchEvent(new It(It.GOTO,"SaveGame"))}}else this.parseDataString(t.params.sender.getName(),t.params.message.substr(2,t.params.message.length))}},{key:"onRoomAddedHandler",value:function(t){}},{key:"onRoomListUpdate",value:function(t){var e=null,i=null;if(this.firstTimeIn)return this.firstTimeIn=!1,void this.sfs.joinRoom("Party Room");for(e in this.parent.step(2),t.params.roomList)if("Party Room"!=(i=t.params.roomList[e]).getName()&&i.isGame()&&i.getUserCount()<i.getMaxUsers()&&"Lobby"==i.getVariable("state"))return void this.joinRoom(i.getName());this.debugTrace("No room found, creating room..."),this.createRoom()}},{key:"onRoomVariablesUpdateHandler",value:function(t){var e=null,i=t.params.changedVars;for(e in i)"level"==e&&(this.myNextLevel=Number(t.params.room.getVariable(e)))}},{key:"onRoundTripResponseHandler",value:function(t){var e=t.params.elapsed;this.totalPingTime=this.totalPingTime+e/2,this.pingCount++;var i=Math.round(this.totalPingTime/this.pingCount);this.currentPing=i,this.player&&(this.player.ping=this.currentPing,this.firstTimeSend&&0!=this.currentPing&&(this.firstTimeSend=!1)),"Game"==this.locate&&this.parent.game.updatePing(this.currentPing)}},{key:"onSecurityError",value:function(t){this.debugTrace("Security error: "+t.text)}},{key:"onUserEnterRoomHandler",value:function(t){var e=this.sfs.getActiveRoom();if("Party Room"!=e.getName()){this.debugTrace("User "+t.params.user.getName()+" entered the room"),this.addPlayer(t.params.user.getId(),t.params.user.getName()),this.allAlone&&(this.allAlone=!1),this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),e.getUserCount()>=this.minPlayers&&this.parent.step(4);var i=new Object;i.xp=this.player.xp,i.kudos=this.player.kudos,i.wins=this.player.wins,i.matches=this.player.matches,i.colour=this.player.colour,i.colour2=this.player.colour2,i.headType=this.player.headType,i.handType=this.player.handType,i.host=this.player.host,i.ping=this.player.ping;var r=JSON.stringify(i);this.sendPrivateMessage(r,t.params.user.getId())}}},{key:"onUserLeaveRoomHandler",value:function(t){var e=this.sfs.getActiveRoom();"Party Room"!=e.getName()&&(this.debugTrace("User "+t.params.userName+" left the room"),this.locate,this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),this.removePlayer(t.params.userID,t.params.userName),this.player.host&&1==this.players.length&&"Lobby"==this.locate&&this.setRoomVariable("state","Lobby"))}},{key:"onUserVariablesUpdateHandler",value:function(t){for(var e=t.params,i=e.changedVars,r=0;r<this.players.length;r++)if(this.players[r].userName==e.user.getName()){if(this.players[r].isPlayer)return;for(var n in i)switch(n){case"pX":this.players[r].toX=Number(e.user.getVariable("pX"));continue;case"pY":this.players[r].toY=Number(e.user.getVariable("pY"));continue;case"fr":this.players[r].fr=Number(e.user.getVariable("fr"));continue;case"pH":this.players[r].headType=Number(e.user.getVariable("pH"));continue;case"pI":this.players[r].handType=Number(e.user.getVariable("pI"));continue;case"scX":this.players[r].xScale=e.user.getVariable("scX");continue;case"colour":this.players[r].colour=e.user.getVariable("colour");continue;case"colour2":this.players[r].colour2=e.user.getVariable("colour2");continue;case"xp":this.players[r].xp=e.user.getVariable("xp");continue;case"kudos":this.players[r].kudos=e.user.getVariable("kudos");continue;case"wins":this.players[r].wins=e.user.getVariable("wins");continue;case"matches":this.players[r].matches=e.user.getVariable("matches");continue;case"host":this.players[r].host=e.user.getVariable("host");continue;case"hostTime":this.players[r].hostTime=e.user.getVariable("hostTime"),"Game"==this.locate&&this.parent.game&&this.parent.game.timer.setTime(this.players[r].hostTime);continue;case"ping":this.players[r].ping=e.user.getVariable("ping");continue;case"stopX":this.players[r].oldX=this.players[r].xPos;continue;case"stopY":this.players[r].oldY=this.players[r].yPos;continue;case"xPos":this.players[r].xPos=e.user.getVariable("xPos");continue;case"yPos":this.players[r].yPos=e.user.getVariable("yPos");continue;case"time":this.players[r].time=e.user.getVariable("time"),this.players[r].time>0&&(this.debugTrace(this.players[r].userName+" has just beat the level."),"Game"==this.locate&&this.parent.game.iAmDone(this.players[r].userName));continue;default:continue}return void("Lobby"==this.locate?this.parent.lobby.updateBar(r):this.locate)}}},{key:"parseDataString",value:function(t,e){var i=null,r=0;for(r=0;r<this.players.length;r++)if(this.players[r].userName==t){if(i=this.players[r],this.players[r].userName==this.player.userName)return;break}i.tCounter=0,i.oldX=i.xPos,i.oldY=i.yPos,i.xV=0,i.yV=0;var n=0,s=0,a=0,o=0;for(r=0;r<e.length;r++)"x"==e.substr(r,1)&&(n=Number(r)),"y"==e.substr(r,1)&&(s=Number(r)),"f"==e.substr(r,1)&&(a=Number(r)),"q"==e.substr(r,1)&&(o=Number(r));var l=!1,u=!1;s-n!=1&&(i.xPos=Number(e.substr(n+1,s-n-1)),l=!0),a-s!=1&&(i.yPos=Number(e.substr(s+1,a-s-1)),u=!0),o-a!=1&&(i.fr=Number(e.substr(a+1,o-a-1))),i.tCounterGoal=6+Math.floor(this.currentPing/1e3*30),l?i.xV=(i.xPos-i.oldX)/i.tCounterGoal:(i.xV=0,i.oldX=i.xPos),u?i.yV=(i.yPos-i.oldY)/i.tCounterGoal:(i.yV=0,i.oldY=i.yPos),"Lobby"==this.locate?this.parent.lobby.updateBar(r):this.locate}},{key:"ping",value:function(){this.pingCounter++,this.pingCounter>=90&&(this.pingCounter=0,this.sfs.roundTripBench()),this.hostDuty(),"Game"==this.locate&&this.talkToTheGame(),this.timeOutPlayer()}},{key:"randomAnimal",value:function(){var t=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish");return t[re.random(t.length-1)]}},{key:"randomNoun",value:function(){var t=new Array("Stadium","Farm","Factory","Park","Lake","Forest","Island","Market","Garden","Bunker");return t[re.random(t.length-1)]}},{key:"randomRoadType",value:function(){var t=new Array("Rd.","St.","Blvd.","Alley.","Ave.","Ct.","Ln.","Dr.");return t[re.random(t.length-1)]}},{key:"removePlayer",value:function(t,e){for(var i=NaN,r=!1,n=NaN,s=0;s<this.players.length;s++)if(this.players[s].userName==e){for(i=0;i<this.players.length;i++)if(this.finalList[i]==this.players[s]){this.finalList.splice(i,1);break}if(this.players[s].host){for(r=!1,n=0,i=0;i<this.players.length;i++)s!=i&&(r?(this.players[i].ping<this.players[n].ping||this.players[i].ping==this.players[n].ping&&this.players[i].id<this.players[n].id)&&(n=Number(i)):(r=!0,n=Number(i)));this.players[n].userName==this.player.userName?(this.player.host=!0,this.debugTrace("You have been made host of this address! (Ping:"+this.player.ping+")"),this.setRoomVariable("host",this.playerObject.userName),"Lobby"==this.locate?this.setRoomVariable("state","Lobby"):this.setRoomVariable("state","Game"),this.chooseUserLevel()):this.players[n].host=!0}return"Lobby"==this.locate&&this.parent.lobby.removeBar(s),"Game"==this.locate&&this.parent.game.tRemovePlayer(this.players[s].userName),this.players[s]=null,void this.players.splice(s,1)}}},{key:"resetTimeToGo",value:function(){this.timeToGo=this.timeToGoStart,this.timeToGoCounter=0}},{key:"sendMessage",value:function(t){this.sfs.sendPublicMessage(t)}},{key:"sendPrivateMessage",value:function(t,e){this.sfs.sendPrivateMessage(t,e)}},{key:"sendTime",value:function(){this.broadcastPlayerPing()}},{key:"setRoomVariable",value:function(t,e){var i=new Array;i.push({name:t,val:e,persistent:!0}),this.sfs.setRoomVariables(i)}},{key:"setUserVariables",value:function(t){this.sfs.setUserVariables(t)}},{key:"startSingleRoomTimeOut",value:function(){this.allAlone=!0,this.allAloneCounter=0}},{key:"talkToTheGame",value:function(){}},{key:"timeOutPlayer",value:function(){}},{key:"timerHandler",value:function(t){this.broadcastPlayerPing()}},{key:"timerHandler2",value:function(t){if(this.timeOutCounter++,this.timeOutCounter>120)return this.dispatchEvent(new It(It.GOTO,"Tubes","TimeOut")),void(this.timeOutCounter=0);if(this.allAlone&&this.allAloneCounter++,(Ue.isDown(Ue.LEFT)||Ue.isDown(Ue.RIGHT))&&(this.timeOutCounter=0),this.player){if(!this.player.host)return;return this.players.length>1&&!this.allAlone?(this.timeToGo--,this.timeToGo<-7&&(this.timeToGo=-7),this.timeToGo<0&&"Lobby"==this.locate&&(this.timeToGo=this.timeToGoStart),this.timeToGo>10&&"Game"==this.locate&&(this.timeToGo=-7),(this.timeToGo>25||this.timeToGo<-7)&&(this.timeToGo=25),isNaN(this.timeToGo)&&(this.timeToGo=25)):this.timeToGo=this.timeToGoStart,void(0==this.timeToGo?(this.sendMessage("START"),this.timeToGo=0,this.timeToGoCounter=-1e4):(this.timeToGoCounter=0,5==this.timeToGo&&this.player.host&&this.setRoomVariable("state","Game"),this.sendMessage("TIME "+this.timeToGo)))}}},{key:"unMutePlayer",value:function(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return this.muteList.splice(e,1),void this.debugTrace(t+" is now unmuted.")}}]),n}(nt.flash.display.MovieClip);var Qr=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).isSinglePlayer=!1,t.xpLevels=41,t.xpBase=125,t.ranks=new Array,t.levelNames=new Array("Novice","Walker","Jogger","Runner","Sprinter","Windwalker","Speedrunner","Marathoner","Earthrunner","Pacer","Drifter","Voyager","Nimble","Expeditive","Quick","Outlast","Spring","Survivor","Swift","Trekker","Tour","Grace","Agility","Fast","Zoom","Fervor","Rush","Fly","Momentum","Haste","Fleetness","Forge","Drive","Boost","Velocity","Swiftness","Accelerator","Impel","Breakneck","Run Master","Grandmaster","Grandmaster"),t}return T()(n,[{key:"getLevelByXP",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return e-1;return this.ranks.length-1}},{key:"getRankByXP",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.levelNames[e-1];return this.levelNames[this.ranks.length-1]}},{key:"getXPBetweenLevels",value:function(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.ranks[e]-this.ranks[e-1];return 99999999}},{key:"gotRoomList",value:function(){}},{key:"init",value:function(t){this.initRanks(),this.playerObject=t,this.multiplayerMenu=new Xr,this.addChild(this.multiplayerMenu),this.multiplayerMenu.init(this.playerObject),this.isSinglePlayer=!0,this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"init2",value:function(t){this.playerObject=t,this.singlePlayerMenu=new Yr,this.addChild(this.singlePlayerMenu),this.singlePlayerMenu.init(this.playerObject),this.isSinglePlayer=!1}},{key:"initRanks",value:function(){for(var t=0;t<this.xpLevels;t++)0==t?this.ranks.push(0):this.ranks.push(this.ranks[t-1]+t*this.xpBase);this.ranks.push(this.ranks[this.ranks.length-1])}},{key:"ping",value:function(t){this.game&&this.game.tConnected&&this.tubes&&this.tubes.ping()}},{key:"quickJoinRoom",value:function(){this.startGame()}},{key:"rejoin",value:function(){this.step(3),this.updateUserCount(this.tubes.getRoomCount(),this.tubes.getRoomMax())}},{key:"startGame",value:function(){}},{key:"startQPM",value:function(){this.tubes=new Zr,this.tubes.init(this.playerObject),this.addChild(this.tubes)}},{key:"startRoom",value:function(){}},{key:"startSinglePlayer",value:function(){this.game=new mi,this.game.mode="SP",this.isSinglePlayer=!0,this.game.init(this.tubes,this.playerObject,this.playerObject.gameLevel),this.addChild(this.game),this.game.startSinglePlayer()}},{key:"step",value:function(t){this.quickPlayLobby&&(this.quickPlayLobby.step=t)}},{key:"updateUserCount",value:function(t,e){this.quickPlayLobby&&this.quickPlayLobby.updateUserCount(t,e)}}]),n}(nt.flash.display.MovieClip);var $r=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).id=0,t.userName="bob",t}return n}(nt.flash.display.MovieClip);var tn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(nt.flash.display.MovieClip);var en=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(t,e){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return C()(this,n),(i=r.call(this,new nt.flash.display.BitmapData(s>0?s:t.height,e,!0,0)))._mustRender=!1,i._texture=t,i._cameraHeight=e,i._cameraY=e,i._oldCamY=0,i._rect=new nt.flash.geom.Rectangle(0,0,i._texture.width,i._texture.height),i._topIndex=0,i._bottomIndex=0,i._renderPoint=new nt.flash.geom.Point,i.preRender(),i}return T()(n,[{key:"destroy",value:function(){this._texture.dispose(),this._texture=null,this.bitmapData.dispose(),this.bitmapData=null}},{key:"preRender",value:function(){for(this._renderHeight=this.bitmapData.height,this._renderPoint.y=0,this.bitmapData.lock();this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this._renderHeight=this._renderHeight-this._rect.height,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex=this._bottomIndex+this._rect.height,this._bottomIndex>=this._texture.height&&(this._bottomIndex=0);this.bitmapData.unlock()}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||this._mustRender){var e=this._oldCamY-this._cameraY;if(this._oldCamY=this._cameraY,0!=e){if(e>this.bitmapData.height&&(e=this.bitmapData.height),this._renderHeight=Math.abs(e),this.bitmapData.lock(),this.bitmapData.scroll(0,e),e<0)for(this._renderPoint.y=this.bitmapData.height+e;this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex>=this._texture.height?this._bottomIndex=this._rect.height-(this._texture.height-this._bottomIndex):this._bottomIndex=this._bottomIndex+this._rect.height,this._topIndex>=this._texture.height?this._topIndex=this._rect.height-(this._texture.height-this._topIndex):this._topIndex=this._topIndex+this._rect.height;else for(;this._renderHeight>0;)this._renderHeight>this._texture.height-(this._texture.height-this._topIndex)?(this._rect.height=this._texture.height-(this._texture.height-this._topIndex),this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=e-this._rect.height):(this._rect.height=this._renderHeight,this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=0),this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y-this._rect.height,this._bottomIndex<=0?this._bottomIndex=this._texture.height-(this._rect.height-this._bottomIndex):this._bottomIndex=this._bottomIndex-this._rect.height,this._topIndex<=0?this._topIndex=this._texture.height-(this._rect.height-this._topIndex):this._topIndex=this._topIndex-this._rect.height;this.bitmapData.unlock(),this._mustRender=!1}}}},{key:"cameraHeight",get:function(){return this._cameraHeight},set:function(t){this._cameraHeight=t,this._mustRender=!0}},{key:"cameraY",get:function(){return this._cameraY},set:function(t){this._cameraY=t,this._mustRender=!0}}]),n}(nt.flash.display.Bitmap);var rn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var nn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t.parent.createPlate(At()(t)),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var sn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).numPlayers=0,t.step=0,t.totalPlayers=1,t.gameReady=!1,t.startCounter=0,t}return T()(n,[{key:"buttons",value:function(t){switch(t.currentTarget){case this.backToMenuButton:this.dispatchEvent(new It(It.GOTO,"QuickPlayLobby","Back"))}}},{key:"init",value:function(){this.backToMenuButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.step=0,this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}},{key:"kill",value:function(){this.backToMenuButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.buttons)}},{key:"ping",value:function(t){this.gameReady&&this.dispatchEvent(new It(It.GOTO,"QuickPlayLobby","OpenLobby")),0==this.step&&(this.connectionMeter.matcher.width=Ft.ease(this.connectionMeter.matcher.width,0,.3),this.playerCountText.text="Connecting..."),1==this.step&&(this.connectionMeter.matcher.width=Ft.ease(this.connectionMeter.matcher.width,20,.3),this.playerCountText.text="Poking Server..."),2==this.step&&(this.connectionMeter.matcher.width=Ft.ease(this.connectionMeter.matcher.width,182,.3),this.playerCountText.text="Finding Room..."),3==this.step&&(this.connectionMeter.matcher.width=Ft.ease(this.connectionMeter.matcher.width,345+166/this.totalPlayers*this.numPlayers,.3)),4==this.step&&(this.connectionMeter.matcher.width=Ft.ease(this.connectionMeter.matcher.width,511,.3),this.gameReady=!0)}},{key:"updateUserCount",value:function(t,e){this.playerCountText.text=t+"/"+e+" Players Found",this.numPlayers=t,this.totalPlayers=e,t>1&&(this.gameReady=!0,this.step=4)}}]),n}(nt.flash.display.MovieClip);var an=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.display.MovieClip);var on=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).isMain=!1,t.playerXMax=8,t.l=!1,t.time=0,t.teleporting=!1,t.id=5,t.levelNum=0,t.d=!1,t.playerYMax=15,t.hitHalf=!1,t.r=!1,t.gameMode=0,t.u=!1,t.beltSpeed=2,t.userName="hello",t.colour=re.randomColour(),t.colour2=re.randomColour(),t}return T()(n,[{key:"doTheJump",value:function(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1)}},{key:"handleHalfTiles",value:function(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}},{key:"hitBlock",value:function(t){}},{key:"initPlayer",value:function(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8}},{key:"levelInteraction",value:function(){for(var t=0;t<this.curLevel.bouncers.length;t++)if(this.hitTestObject(this.curLevel.bouncers[t])&&1==this.curLevel.bouncers[t].currentFrame)return this.yVel=-20,this.playerJump=!0,this.jumpLevel=!1,this.yLove=1,void this.curLevel.bouncers[t].gotoAndPlay(2)}},{key:"movePlayer",value:function(){this.u?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),this.d?(this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown=!1,this.xF=.7,this.scaleY=1),this.l?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):this.r&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),this.l||this.r?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5}},{key:"ping",value:function(){this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.levelInteraction(),this.teleporterInteraction()}},{key:"teleporterInteraction",value:function(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),void this.parent.emitBeam(this.x-17,this.y,25)}},{key:"touchBlock",value:function(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}]),n}(ne);var ln=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound),un=function t(){C()(this,t)};P()(un,"HORIZONTAL","horizontal"),P()(un,"VERTICAL","vertical");var cn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this))._position=0,t._maxScrollPosition=1,t._thumbHeld=!1,t._oldPosition=0,t.addEventListener(nt.flash.events.Event.ADDED_TO_STAGE,t.handleAddedToStage,!1,0,!0),t._position=0,t._maxScrollPosition=1,t}return T()(n,[{key:"handleAddedToStage",value:function(t){this.removeEventListener(nt.flash.events.Event.ADDED_TO_STAGE,this.handleAddedToStage),this._position=0,this._maxScrollPosition=1,this.update(),this.thumb_mc.y=this.bar_mc.y,this.addEventListener(nt.flash.events.MouseEvent.MOUSE_DOWN,this.handleMouseDown,!1,0,!0),this.stage.addEventListener(nt.flash.events.MouseEvent.MOUSE_UP,this.handleMouseUp,!1,0,!0),this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.handleEnterFrame,!1,0,!0)}},{key:"handleEnterFrame",value:function(t){this._thumbHeld&&(this.thumb_mc.y=this.mouseY-this.thumb_mc.height/2,this.thumb_mc.y>this.bar_mc.height-this.thumb_mc.height&&(this.thumb_mc.y=this.bar_mc.height-this.thumb_mc.height),this.thumb_mc.y<this.bar_mc.y&&(this.thumb_mc.y=this.bar_mc.y),this._oldPosition=this._position,this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.dispatchEvent(new De(un.VERTICAL,this._position-this._oldPosition,this._position)))}},{key:"handleMouseDown",value:function(t){this._thumbHeld=!0}},{key:"handleMouseUp",value:function(t){this._thumbHeld=!1}},{key:"update",value:function(){this.thumb_mc.y=this._position/this._maxScrollPosition*(this.bar_mc.height-this.thumb_mc.height),this.on=this._position!=this._maxScrollPosition}},{key:"height",get:function(){return this.bar_mc.height}},{key:"maxScrollPosition",get:function(){return this._maxScrollPosition},set:function(t){this._maxScrollPosition=t,this._maxScrollPosition<0&&(this._maxScrollPosition=0),this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.update()}},{key:"on",get:function(){return this.thumb_mc.visible},set:function(t){this.thumb_mc.visible=t,this.buttonMode=t}},{key:"percent",get:function(){return 0==this._maxScrollPosition?0:this._position/this._maxScrollPosition}},{key:"scrollPosition",get:function(){return this._position},set:function(t){this._position=t,this._position>this._maxScrollPosition&&(this._position=this._maxScrollPosition),this._position<0&&(this._position=0),this.update()}}]),n}(nt.flash.display.MovieClip);var hn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(cn);var fn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var dn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var pn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var yn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var vn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C()(this,n),(t=r.call(this)).setCounter=0,t.prevChar="A",t.characters=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"," ","!",",",".","_",":"),t.startingCharacter=2+re.random(t.characters.length-3),t.curCharacter=t.startingCharacter,t.prevCharacter=t.startingCharacter-1,t.goalCharacter=re.random(t.characters.length-1),t.curChar=t.characters[t.startingCharacter],t.goalCharacter=null==e?t.getPosition(t.name):t.getPosition(e),i&&(t.startingCharacter=t.goalCharacter),t}return T()(n,[{key:"checkLetters",value:function(){var t=this.goalCharacter-this.curCharacter;t<0&&(t+=this.characters.length),this.setCounter++,t>=3?(this.setCounter=0,this.swapLetters(),this.filters=new Array(new nt.flash.filters.BlurFilter(0,8,1))):t>=2?(this.filters=new Array(new nt.flash.filters.BlurFilter(0,5,1)),this.setCounter>3&&(this.setCounter=0,this.swapLetters())):t>=1?(this.filters=new Array,this.setCounter>5&&(this.setCounter=0,this.swapLetters())):0==t&&this.currentFrame==this.totalFrames&&(this.setCharacters(),this.stop())}},{key:"getPosition",value:function(t){for(var e=0;e<this.characters.length;e++)if(t==this.characters[e])return e;return 0}},{key:"newCharacter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.goalCharacter;"^"==t&&(t=this.characters[re.random(36)]),this.goalCharacter=this.getPosition(t),e&&(this.curCharacter=this.goalCharacter,this.prevCharacter=i,this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters(),this.gotoAndPlay(1))}},{key:"ping",value:function(){this.checkLetters()}},{key:"setCharacters",value:function(){this.above.let.text=this.prevChar,this.topBack.let.text=this.curChar,this.belowNow.let.text=this.curChar,this.bottomBack.let.text=this.prevChar}},{key:"swapLetters",value:function(){this.gotoAndPlay(1),this.prevCharacter=this.curCharacter,this.curCharacter++,this.curCharacter==this.characters.length&&(this.curCharacter=0),this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters()}}]),n}(nt.flash.display.MovieClip);function mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var gn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;C()(this,n);var i=null;(t=r.call(this)).tickers=new Array,t.word="",t.bg.visible=!1,null==e&&(e=t.name),t.word=e;for(var s=0;s<e.length;s++)(i=new vn(e.substr(s,1),!0)).x=s*i.width+2,i.y=0,t.addChild(i),t.tickers.push(i);return t}return T()(n,[{key:"changeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;this.word=t;for(var r=0;r<this.tickers.length;r++)i=this.tickers[r],t.substr(r,1)!=i.characters[i.goalCharacter]&&i.newCharacter(t.substr(r,1),e);if(t.length>this.tickers.length)for(r=Number(this.tickers.length);r<t.length;r++)(i=new vn(t.substr(r,1),!0)).x=r*i.width+2,i.y=0,this.addChild(i),this.tickers.push(i);var n="";for(r=0;r<this.tickers.length;r++)n+=this.tickers[r].characters[this.tickers[r].goalCharacter];this.word=n}},{key:"ping",value:function(){var t,e=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return mn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?mn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw s}}}}(this.tickers);try{for(e.s();!(t=e.n()).done;)t.value.ping()}catch(t){e.e(t)}finally{e.f()}}}]),n}(nt.flash.display.MovieClip);var bn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"init",value:function(){this.okayButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.okay)}},{key:"okay",value:function(t){this.okayButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}]),n}(nt.flash.display.MovieClip);var _n=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return T()(n,[{key:"ping",value:function(){this.cA.ping(),this.cB.ping()}}]),n}(nt.flash.display.MovieClip);var xn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var Rn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){return C()(this,n),r.call(this)}return n}(nt.flash.media.Sound);var kn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,309,t.frame310),t}return T()(n,[{key:"frame1",value:function(){this.gotoAndPlay(2)}},{key:"frame310",value:function(){this.stop(),this.dispatchEvent(new It(It.GOTO,"endIntro"," "))}}]),n}(nt.flash.display.MovieClip);var wn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var En=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(1,t.frame2),t}return T()(n,[{key:"frame2",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Sn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,19,t.frame20),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame20",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Cn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Ln=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Tn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Mn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Pn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var An=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,30,t.frame31),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame31",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Dn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var On=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Nn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Bn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Fn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(95,t.frame96),t}return T()(n,[{key:"frame96",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var In=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,62,t.frame63),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame63",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip),jn=function t(){C()(this,t),P()(this,"userName",void 0),P()(this,"colour",void 0),P()(this,"colour2",void 0),P()(this,"headType",void 0),P()(this,"handType",void 0),P()(this,"xp",void 0),P()(this,"kudos",void 0),P()(this,"matches",void 0),P()(this,"wins",void 0),P()(this,"jumps",void 0),P()(this,"deaths",void 0),P()(this,"gameDeaths",void 0),P()(this,"gameLevel",void 0),P()(this,"gameName",void 0),P()(this,"gameTime",void 0),P()(this,"bestTime",void 0),P()(this,"ping",void 0),P()(this,"signs",void 0),P()(this,"achs",void 0)};var Un=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),t=r.call(this),P()(At()(t),"userLevel",null),t.addFrameScript(0,t.frame1,1,t.frame2,2,t.frame3),t}return T()(n,[{key:"achCenter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=null;0==this.achievements[t.achNum].got&&(this.achievements[t.achNum].got=!0,this.playerObj.achs[t.achNum]=!0,e=new Et,this.addChild(e),qe.playSound("AchSound"),t.achNum>=24?(e.ach.box.handGear.gotoAndStop(t.achNum-23),e.ach.box.head.visible=!1,e.ach.box.head2.visible=!1):(e.ach.box.head.gotoAndStop(t.achNum+1),e.ach.box.handGear.visible=!1),e.ach.achTitle.text=this.achievements[t.achNum].achName)}},{key:"agiLoginPop",value:function(t){this.agi&&(this.agi.showLogin(this.loginPopCheck,this),this.agiLogin.hitA.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.agiLoginPop))}},{key:"checkDomain",value:function(){return!!this.agDomain}},{key:"closeHandler",value:function(){this.isHS?(this.multiplayer&&this.contains(this.multiplayer)&&this.multiplayer.singlePlayerMenu.addListeners(),this.isHS=!1):(this.isLoggedIn=this.agi.isLoggedIn(),qe.playSound("Cheer2"),this.isLoggedIn&&this.loadGame(),this.agiLogin.hitA.addEventListener(nt.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.fixUpAgiLogin())}},{key:"deleteAllData",value:function(){var t=new Object;this.savedGame.data.saveObj=t,this.savedGame.data.hasSaved=!1,this.savedGame.flush(),this.loadGame(),this.saveGame()}},{key:"endMenus",value:function(){this.endUIBackground(),qe.stopAllSounds(),this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}},{key:"endUIBackground",value:function(){this.removeChild(this.uiBackground),this.uiBackground=null,this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.uiBG)}},{key:"fixUpAgiLogin",value:function(){this.agiLogin&&this.contains(this.agiLogin)&&(this.isLoggedIn?this.agiLogin.disp.htmlText="You are logged in as <FONT COLOR='#"+re.toHex(this.playerObj.colour)+"'>"+this.playerObj.userName+"</FONT>! [Click to Logout]":this.agiLogin.disp.htmlText="You are currently not logged in [Click to Login]")}},{key:"frame1",value:function(){this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.muteButton.addEventListener(nt.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.stop(),this.url=this.stage.loaderInfo.url,this.urlStart=this.url.indexOf("://")+3,this.urlEnd=this.url.indexOf("/",this.urlStart),this.domain=this.url.substring(this.urlStart,this.urlEnd),this.LastDot=this.domain.lastIndexOf(".")-1,this.domEnd=this.domain.lastIndexOf(".",this.LastDot)+1,this.domain=this.domain.substring(this.domEnd,this.domain.length),this.currentDomain=this.domain,this.agDomain=!0}},{key:"frame2",value:function(){this.play()}},{key:"frame3",value:function(){Ue.initialize(this.stage,!0),this.stop(),this.myCountry="Other",this.achievements=new Array,this.achievements.push(new kt("Underground","Finish the underground portion")),this.achievements.push(new kt("Stadium","Finish the stadium portion")),this.achievements.push(new kt("Lab","Complete the lab stages")),this.achievements.push(new kt("Outside","Complete the escape sequence")),this.achievements.push(new kt("Bridge","Complete the bridge")),this.achievements.push(new kt("Limits","Reach the city limits and win")),this.achievements.push(new kt("Jump","Jump 1,000 times")),this.achievements.push(new kt("Fill","Fill FLOW to maximum")),this.achievements.push(new kt("Burn","Burn a full FLOW bar")),this.achievements.push(new kt("Slide","Slide for more than 8 blocks")),this.achievements.push(new kt("Bounce","Bounce 10 times on a platform")),this.achievements.push(new kt("Survive","Go 10 screens without dying")),this.achievements.push(new kt("Rewind","Rewind for more than 5 seconds")),this.achievements.push(new kt("Freewind","Don't die before level 11")),this.achievements.push(new kt("Mindwind","Don't die before the extermination room level 16, then die")),this.achievements.push(new kt("Signage","Collect a caution sign")),this.achievements.push(new kt("SignEight","Collect 25% of caution signs")),this.achievements.push(new kt("SignFifteen","Collect 50% of caution signs")),this.achievements.push(new kt("SignTwentyFour","Collect 75% of caution signs")),this.achievements.push(new kt("SignAll","Collect all caution signs")),this.achievements.push(new kt("Fast","Beat single player in 15 minutes")),this.achievements.push(new kt("Faster","Beat single player in 12 minutes")),this.achievements.push(new kt("Fastest","Beat single player in 9 minutes")),this.achievements.push(new kt("Perfect","Beat single player in 7 minutes")),this.achievements.push(new kt("First","Win a multiplayer race")),this.achievements.push(new kt("Ten","Win ten races")),this.achievements.push(new kt("Hundred","Win one hundred races")),this.achievements.push(new kt("Kudomonger","Earn 10 kudos")),this.achievements.push(new kt("Kudomonster","Earn 100 kudos")),this.achievements.push(new kt("Kudomaster","Earn 250 kudos")),this.achievements.push(new kt("Matched","Run 5 Races")),this.achievements.push(new kt("Matchy","Run 25 Races")),this.achievements.push(new kt("Matchier","Run 100 Races")),this.achievements.push(new kt("Matchiest","Run 250 Races")),this.achievements.push(new kt("Reel","Earn 5 kudos in one race")),this.achievements.push(new kt("Rack","Earn 7 kudos in one race")),this.achievements.push(new kt("Runner","Reach Level 3")),this.achievements.push(new kt("Windwalker","Reach Level 5")),this.achievements.push(new kt("Earthrunner","Reach Level 8")),this.achievements.push(new kt("Drifter","Reach Level 10")),this.achievements.push(new kt("Outlast","Reach Level 15")),this.achievements.push(new kt("Tour","Reach Level 20")),this.achievements.push(new kt("Fervor","Reach Level 25")),this.achievements.push(new kt("Fleetness","Reach Level 30")),this.achievements.push(new kt("Swiftness","Reach Level 35")),this.achievements.push(new kt("Breakneck","Reach Level 38")),this.achievements.push(new kt("Runmaster","Reach Level 39")),this.achievements.push(new kt("Grandmaster","Reach Level 40")),this.peopleNames=new Array("John","Tony","Dan","Fil","Ian","Mike","Larry","Krin","Con","Louissi","Justin"),this.titles=new Array("Rifle","Cannon","Frostbite","Wolf","Claws","Saw","Shock"),this.animals=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish"),this.playerObj=new jn,this.playerObj.ping=0,this.savedGame=nt.flash.net.SharedObject.getLocal("Exit-Path"),this.loadGame(),this.saveGame(),this.isLoggedIn=!1,this.multiplayer=new Qr,this.singlePlayer=!0,this.agIntro=new Tt,this.addChild(this.agIntro),this.agiLogin=new Lt,this.agiLogin.hitA.addEventListener(nt.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0,this.twitterLink=new nt.flash.net.URLRequest("http://twitter.com/armorgames/"),this.armorGamesLink=new nt.flash.net.URLRequest("http://armorgames.com/"),this.exitPathLink=new nt.flash.net.URLRequest("http://armorgames.com/play/5917/exit-path"),this.facebookLink=new nt.flash.net.URLRequest("http://www.facebook.com/pages/Armor-Games/19522089061"),this.addEventListener(It.GOTO,this.hub,!1,0,!0),this.addEventListener(It.SEND,this.messageCenter,!1,0,!0),this.addEventListener(wt.SEND,this.achCenter,!1,0,!0),this.bitmapData=new nt.flash.display.BitmapData(800,500),this.bitmapData.draw(this.multiplayer,null,null,null),this.rewind=new an,this.psb=new en(this.bitmapData,500,800),this.clearBitmap=new nt.flash.display.BitmapData(800,500,!0,0)}},{key:"getAGIName",value:function(){return this.agi?this.agi.getUserProfile().username:this.getRandomName()}},{key:"getAGISaver",value:function(){this.agi&&this.contains(this.agi)}},{key:"getRandomName",value:function(){return"Guest_"+this.animals[re.random(this.animals.length)]+re.random(1e5)}},{key:"highscoresHandler",value:function(){}},{key:"highscoreSub",value:function(){}},{key:"hub",value:function(t){var e=NaN;if("Twitter"==t.sender&&nt.flash.net.navigateToURL(this.twitterLink,"_blank"),"Facebook"==t.sender&&nt.flash.net.navigateToURL(this.facebookLink,"_blank"),"ArmorGames"==t.sender&&nt.flash.net.navigateToURL(this.armorGamesLink,"_blank"),"ExitPathLink"==t.sender&&nt.flash.net.navigateToURL(this.exitPathLink,"_blank"),"endIntro"==t.sender)return this.mainMenu=new Hr(this.agDomain),this.startMenus(),this.addChild(this.mainMenu),void this.startMainMenu();if("SaveGame"==t.sender&&this.saveGame(),"DeleteAllData"==t.sender&&this.deleteAllData(),"LevelEnd"==t.sender&&(this.multiplayer.game.removeChild(this.multiplayer.game.levelEnd),this.multiplayer.game.levelEnd=null,this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startLowMenu(),this.multiplayer.lobby=new Vr,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.lobby.returnFromGame()),"MainMenu"==t.sender)switch(this.killAgiLogin(),t.msg){case"Multiplayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new Qr,this.addChild(this.multiplayer),this.multiplayer.init(this.playerObj),this.isLoggedIn||(this.notLoggedIn=new tn,this.addChild(this.notLoggedIn),this.notLoggedIn.init());break;case"SinglePlayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new Qr,this.addChild(this.multiplayer),this.multiplayer.init2(this.playerObj);break;case"Flair":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.flairMenu=new Oe,this.addChild(this.flairMenu),this.flairMenu.init(this.playerObj,this.achievements);break;case"CharacterEdit":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.characterSelection=new fe(this.playerObj),this.addChild(this.characterSelection),this.charSelectFromMainMenu=!0}if("MultiplayerMenu"==t.sender)switch(t.msg){case"Back":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new Hr(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"QuickPlay":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.quickPlayLobby=new sn,this.multiplayer.quickPlayLobby.init(),this.multiplayer.addChild(this.multiplayer.quickPlayLobby),this.multiplayer.startQPM(),this.startLowMenu(),this.killAgiLogin();break;case"CharacterSelection":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.characterSelection=new fe(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0}if("Tubes"==t.sender)switch(t.msg){case"TimeOut":switch(qe.stopAllSounds(),this.multiplayer.tubes.locate){case"Lobby":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null;break;case"Game":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null;break;case"QPL":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null}this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new Xr,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.timeOutWindow=new bn,this.addChild(this.timeOutWindow),this.timeOutWindow.init()}if("FlairMenu"==t.sender)switch(t.msg){case"Back":this.flairMenu.kill(),this.removeChild(this.flairMenu),this.flairMenu=null,this.mainMenu=new Hr(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu()}if("SinglePlayerMenu"==t.sender)switch(t.msg){case"BackButton":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new Hr(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"Delete":this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameDeaths=0,this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"StartGame":this.endMenus(),this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.startSinglePlayer();break;case"ViewHighscores":this.highscoresHandler();break;case"CharacterSelection":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.characterSelection=new fe(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!1}if("CharacterSelection"==t.sender)switch(t.msg){case"Back":if(this.charSelectFromMainMenu)return this.characterSelection.kill(),this.removeChild(this.characterSelection),this.characterSelection=null,this.mainMenu=new Hr(this.agDomain),this.addChild(this.mainMenu),void this.startMainMenu();this.multiplayer.characterSelection.kill(),this.multiplayer.removeChild(this.multiplayer.characterSelection),this.multiplayer.characterSelection=null,this.charSelectFromMulti?(this.multiplayer.multiplayerMenu=new Xr,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj)):(this.multiplayer.singlePlayerMenu=new Yr,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj))}if("QuickPlayLobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.multiplayerMenu=new Xr,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null;break;case"StartGame":this.endMenus(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.game.reset(),this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes);break;case"OpenLobby":this.endUIBackground(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.lobby=new Vr,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes)}if("Lobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null,this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new Xr,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj);break;case"StartGame":this.multiplayer.tubes.locate="Game",this.multiplayer.contains(this.multiplayer.lobby)&&(this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill()),this.multiplayer.lobby=null,this.multiplayer.game=new mi,this.multiplayer.game.mode="MP",this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.init(this.multiplayer.tubes,this.playerObj,this.multiplayer.tubes.myNextLevel),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.game.initMP()}if("Game"==t.sender)switch(t.msg){case"SinglePlayerMenu":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new Yr,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"End":this.lastScore=this.multiplayer.game.timer.getTimeAsTotalSeconds(),(e=this.multiplayer.game.timer.timerCounter)<this.playerObj.bestTime&&(this.playerObj.bestTime=e),this.multiplayer.game.endFadeOut(),this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new Yr,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj),this.highscoreSub(),this.saveGame(),this.startLowMenu();break;case"EndPractice":this.multiplayer.game.endFadeOut(),this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.startLowMenu()}}},{key:"killAch",value:function(t){t.stop(),this.removeChild(t),t=null}},{key:"killAgiLogin",value:function(){this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}},{key:"killAGISaver",value:function(){this.agi&&this.contains(this.agi)}},{key:"loadGame",value:function(){this.isLoggedIn?this.agi.retrieveUserData(this.yumyum):0==this.savedGame.data.hasSaved||null==this.savedGame.data.hasSaved?this.newGame():this.loadGamez()}},{key:"loadGamez",value:function(){this.playerObj.userName=this.getRandomName(),this.playerObj.colour=Number(this.savedGame.data.saveObj.colour),this.playerObj.colour2=Number(this.savedGame.data.saveObj.colour2),this.playerObj.headType=Number(this.savedGame.data.saveObj.headType),this.playerObj.handType=Number(this.savedGame.data.saveObj.handType),this.playerObj.xp=Number(this.savedGame.data.saveObj.xp),this.playerObj.kudos=Number(this.savedGame.data.saveObj.kudos),this.playerObj.matches=Number(this.savedGame.data.saveObj.matches),this.playerObj.wins=Number(this.savedGame.data.saveObj.wins),this.playerObj.jumps=Number(this.savedGame.data.saveObj.jumps),this.playerObj.deaths=Number(this.savedGame.data.saveObj.deaths),this.playerObj.gameDeaths=Number(this.savedGame.data.saveObj.gameDeaths),this.playerObj.gameLevel=Number(this.savedGame.data.saveObj.gameLevel),this.playerObj.gameTime=Number(this.savedGame.data.saveObj.gameTime),null==this.savedGame.data.saveObj.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(this.savedGame.data.saveObj.gameName),this.playerObj.bestTime=Number(this.savedGame.data.saveObj.bestTime),this.playerObj.signs=this.savedGame.data.saveObj.signs,this.playerObj.achs=this.savedGame.data.saveObj.achs,this.playerObj.ping=0;for(var t=0;t<this.playerObj.achs.length;t++)this.achievements[t].got=this.playerObj.achs[t]}},{key:"loginPopCheck",value:function(t){t.success&&(this.playerObj.userName=t.username,this.fixUpAgiLogin())}},{key:"messageCenter",value:function(t){if("StartBox"==t.sender)switch(t.msg){case"go":this.multiplayer.game.countDownFinish()}if("EndCountdown"==t.sender)switch(t.msg){case"End":this.multiplayer.game.endCountdownFinish()}"StartJitter"==t.sender&&(this.addChild(this.psb),this.addChild(this.rewind),this.psb.cameraY=0,this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.something)),"EndJitter"==t.sender&&(this.removeChild(this.rewind),this.removeChild(this.psb),this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.something))}},{key:"muteOut",value:function(){qe.handleMute()}},{key:"newGame",value:function(){this.playerObj.userName=this.getRandomName(),this.playerObj.colour=3394815,this.playerObj.colour2=16777215,this.playerObj.headType=1,this.playerObj.handType=1,this.playerObj.xp=0,this.playerObj.kudos=0,this.playerObj.matches=0,this.playerObj.wins=0,this.playerObj.jumps=0,this.playerObj.deaths=0,this.playerObj.gameDeaths=0,this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameName="01234567",this.playerObj.ping=0,this.playerObj.bestTime=9999999999,this.playerObj.signs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1),this.playerObj.achs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}},{key:"preload",value:function(t){var e=this.stage.loaderInfo.bytesTotal,i=this.stage.loaderInfo.bytesLoaded,r=i/e*100;this.preloader.l.text="Loading... "+Math.floor(r)+"%",this.preloader.bar.bar.scaleX=r/100,i>=e?(this.preloader.bar.bar.scaleX=1,this.removeEventListener(nt.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.playB.addEventListener(nt.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.playB.visible=!0):this.preloader.playB.visible=!1}},{key:"saveGame",value:function(){var t=new Object;t.colour=String(this.playerObj.colour),t.colour2=String(this.playerObj.colour2),t.headType=String(this.playerObj.headType),t.handType=String(this.playerObj.handType),t.xp=String(this.playerObj.xp),t.kudos=String(this.playerObj.kudos),t.matches=String(this.playerObj.matches),t.wins=String(this.playerObj.wins),t.jumps=String(this.playerObj.jumps),t.deaths=String(this.playerObj.deaths),t.gameDeaths=String(this.playerObj.gameDeaths),t.gameLevel=String(this.playerObj.gameLevel),t.gameName=String(this.playerObj.gameName),t.gameTime=String(this.playerObj.gameTime),t.bestTime=String(this.playerObj.bestTime),t.signs=this.playerObj.signs,t.achs=this.playerObj.achs,this.savedGame.data.hasSaved=!0,this.savedGame.data.saveObj=t,this.savedGame.flush(),this.isLoggedIn&&this.agi.submitUserDataObject(t)}},{key:"something",value:function(){this.psb._texture.copyPixels(this.clearBitmap,this.clearBitmap.rect,new nt.flash.geom.Point),this.psb._texture.draw(this.multiplayer,null,null,null),this.psb.render(),this.psb.cameraY=this.psb.cameraY-(490+re.random(20))}},{key:"startAGILogin",value:function(){this.checkDomain()&&(this.addChild(this.agiLogin),this.fixUpAgiLogin())}},{key:"startIt",value:function(t){this.preloader.playB.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.muteButton.removeEventListener(nt.flash.events.MouseEvent.CLICK,this.muteOut),this.gotoAndStop("intro")}},{key:"startLowMenu",value:function(){qe.stopAllSounds(),qe.loopSound("MenuLow")}},{key:"startMainMenu",value:function(){this.getAGISaver(),this.startAGILogin()}},{key:"startMenus",value:function(){this.startUIBackground(),qe.stopAllSounds(),qe.loopSound("MainMenuSong")}},{key:"startUIBackground",value:function(){this.uiBackground=new _n,this.addChild(this.uiBackground),this.addEventListener(nt.flash.events.Event.ENTER_FRAME,this.uiBG,!1,0,!0)}},{key:"uiBG",value:function(t){this.mainMenu&&this.uiBackground.ping()}},{key:"yumyum",value:function(t){var e=t.data;if(null!=e.colour){this.playerObj.userName=this.getAGIName(),this.playerObj.colour=Number(e.colour),this.playerObj.colour2=Number(e.colour2),this.playerObj.headType=Number(e.headType),this.playerObj.handType=Number(e.handType),this.playerObj.xp=Number(e.xp),this.playerObj.kudos=Number(e.kudos),this.playerObj.matches=Number(e.matches),this.playerObj.wins=Number(e.wins),this.playerObj.jumps=Number(e.jumps),this.playerObj.deaths=Number(e.deaths),this.playerObj.gameDeaths=Number(e.gameDeaths),null==e.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(e.gameName),this.playerObj.gameLevel=Number(e.gameLevel),this.playerObj.gameTime=Number(e.gameTime),this.playerObj.bestTime=Number(e.bestTime),this.playerObj.ping=0,this.playerObj.signs=e.signs,this.playerObj.achs=e.achs;for(var i=0;i<this.playerObj.achs.length;i++)this.achievements[i].got=this.playerObj.achs[i]}else this.saveGame()}},{key:"setUserLevel",value:function(t){this.userLevel=t}},{key:"startPracticeLevel",value:function(t){this.endMenus(),this.multiplayer.game=new mi,this.multiplayer.game.mode="PRACTICE",this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.init(null,this.playerObj,t),this.multiplayer.game.countdownStart(),this.multiplayer.game.initPractice()}},{key:"createLevel",value:function(t){return 999===t&&this.userLevel?new Br(this.userLevel):new(nt.flash.utils.getDefinitionByName("Level".concat(t)))}}]),n}(nt.flash.display.MovieClip);var Vn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Gn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(5,t.frame6),t}return T()(n,[{key:"frame6",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Hn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Kn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(4,t.frame5),t}return T()(n,[{key:"frame5",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var zn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(5,t.frame6),t}return T()(n,[{key:"frame6",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Xn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1,24,t.frame25),t}return T()(n,[{key:"frame1",value:function(){this.stop()}},{key:"frame25",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Yn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),t=r.call(this),P()(At()(t),"stopAtStep",!0),t.addFrameScript(18,t.frame19,24,t.frame25,43,t.frame44,55,t.frame56,82,t.frame83),t}return T()(n,[{key:"frame19",value:function(){this.stopAtStep&&this.stop()}},{key:"frame25",value:function(){this.stopAtStep&&this.stop()}},{key:"frame44",value:function(){this.stopAtStep&&this.stop()}},{key:"frame56",value:function(){this.dispatchEvent(new It(It.SEND,"StartBox","go"))}},{key:"frame83",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var qn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(10,t.frame11),t}return T()(n,[{key:"frame11",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Wn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.stop()}}]),n}(nt.flash.display.MovieClip);var Jn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t;return C()(this,n),(t=r.call(this)).addFrameScript(0,t.frame1),t}return T()(n,[{key:"frame1",value:function(){this.beacon.gotoAndPlay(Math.floor(10*Math.random()))}}]),n}(nt.flash.display.MovieClip);var Zn=function(t){at()(n,t);var e,i,r=(e=n,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ct()(e);if(i){var n=ct()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return lt()(this,t)});function n(){var t,e;return C()(this,n),t=r.call(this),P()(At()(t),"elem",((e=document.createElement("input")).type="color",e.style.setProperty("width","".concat(22,"px"),"important"),e.style.setProperty("height","".concat(22,"px"),"important"),e.style.setProperty("padding","0","important"),e.style.setProperty("margin","0","important"),e.style.setProperty("border","none","important"),e.style.setProperty("outline","none","important"),e.style.setProperty("position","absolute"),e)),P()(At()(t),"renderX",null),P()(At()(t),"renderY",null),P()(At()(t),"value",16777215),t.__node.setRenderObjects([],Float32Array.of(0,0,22,22)),t.elem.oninput=function(){var e=parseInt(t.elem.value.slice(1),16);t.value=e,t.dispatchEvent(new he(he.CHANGE,e))},t}return T()(n,[{key:"selectedColor",get:function(){return this.value},set:function(t){this.value=t,this.elem.value="#"+t.toString(16).padStart(6,"0")}}]),T()(n,[{key:"layout",value:function(){var t=this.getBounds(this.stage),e=t.x,i=t.y;this.renderX!==e&&(this.elem.style.setProperty("left","".concat(e,"px")),this.renderX=e),this.renderY!==i&&(this.elem.style.setProperty("top","".concat(i,"px")),this.renderY=i)}},{key:"__onRender",value:function(){Ot()(ct()(n.prototype),"__onRender",this).call(this),this.layout()}},{key:"__onAddedToStage",value:function(t){Ot()(ct()(n.prototype),"__onAddedToStage",this).call(this,t),this.layout(),t.__canvas.container.appendChild(this.elem)}},{key:"__onRemovedFromStage",value:function(t){this.elem.remove(),this.renderX=null,this.renderX=null,Ot()(ct()(n.prototype),"__onRemovedFromStage",this).call(this,t)}}]),n}(nt.flash.display.DisplayObject),Qn=Rt;nt.__internal.ClassRegistry.instance.addClassRoot(b);var $n=function(){function t(){var e=this;C()(this,t),P()(this,"loadPromise",null),P()(this,"value",null),P()(this,"loadProgress",0),P()(this,"loadError",""),P()(this,"reportProgress",(function(t){e.loadProgress=t})),P()(this,"onLoadCompleted",(function(t){e.loadPromise=null,e.loadProgress=1,e.value=t})),P()(this,"onLoadError",(function(t){e.loadPromise=null,e.loadError=String(t)})),(0,A.ky)(this)}return T()(t,[{key:"isLoading",get:function(){return!!this.loadPromise}}]),T()(t,[{key:"load",value:function(){this.isLoading||this.value||(this.loadProgress=0,this.loadError="",this.loadPromise=nt.__internal.loadManifest(Qn,this.reportProgress),this.loadPromise.then(this.onLoadCompleted,this.onLoadError))}}]),t}();function ts(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var es=function(){function t(e){C()(this,t),P()(this,"nextInstanceId",1),P()(this,"instances",[]),this.root=e,(0,A.ky)(this)}return T()(t,[{key:"present",value:function(t){var e=this.nextInstanceId++;return this.instances.push(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ts(Object(i),!0).forEach((function(e){P()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ts(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({id:e},t)),e}},{key:"dismiss",value:function(t){var e=this.instances.findIndex((function(e){return e.id===t}));e<0||this.instances.splice(e,1)}}]),t}(),is=function(){function t(e){var i=this;C()(this,t),P()(this,"_mode",null),P()(this,"replayIndex",0),P()(this,"doReplay",!1),P()(this,"recording",[]),P()(this,"replayRecords",[]),P()(this,"exitFrame",(0,A.aD)((function(){switch(i._mode){case"recording":var t=0;(Ue.isDown(nt.flash.ui.Keyboard.SPACE)||Ue.isDown(nt.flash.ui.Keyboard.SHIFT))&&(t|=1),Ue.isDown(Ue.LEFT)&&(t|=2),Ue.isDown(Ue.RIGHT)&&(t|=4),Ue.isDown(Ue.UP)&&(t|=8),Ue.isDown(Ue.DOWN)&&(t|=16),i.recording.push(t);break;case"replaying":if(!i.doReplay)return;if(i.replayIndex>=i.recording.length)return Ue.keysDown={},void(i._mode=null);var e=i.recording[i.replayIndex++];Ue.keysDown={},1&e&&(Ue.keysDown[nt.flash.ui.Keyboard.SPACE]=!0),2&e&&(Ue.keysDown[nt.flash.ui.Keyboard.LEFT]=!0),4&e&&(Ue.keysDown[nt.flash.ui.Keyboard.RIGHT]=!0),8&e&&(Ue.keysDown[nt.flash.ui.Keyboard.UP]=!0),16&e&&(Ue.keysDown[nt.flash.ui.Keyboard.DOWN]=!0);var r=i.root.game.instance;i.replayRecords.push({playerX:r.multiplayer.game.player.x,playerY:r.multiplayer.game.player.y,otherX:0,otherY:0,a:0,b:0})}}))),this.root=e,(0,A.ky)(this),(0,A.EH)((function(){var t=i.root.game.stage;if(t)return t.__withContext((function(){return t.addEventListener(nt.flash.events.Event.ENTER_FRAME,i.exitFrame)}))(),t.__withContext((function(){return t.removeEventListener(nt.flash.events.Event.ENTER_FRAME,i.exitFrame)}))}))}return T()(t,[{key:"mode",get:function(){return this._mode}}]),T()(t,[{key:"skipToSPMenu",value:function(){var t=this.root.game.instance,e=this.root.game.stage;t&&e&&e.__withContext((function(){t.gotoAndStop(3),t.removeChild(t.agIntro),t.dispatchEvent(new It(It.GOTO,"endIntro"," ")),t.dispatchEvent(new It(It.GOTO,"MainMenu","SinglePlayer"))}))()}},{key:"startSPGame",value:function(t){var e=this.root.game.instance,i=this.root.game.stage;e&&i&&(i.__withContext((function(){e.multiplayer.game&&e.dispatchEvent(new It(It.GOTO,"Game","SinglePlayerMenu")),e.playerObj.gameLevel=t,e.playerObj.gameTime=0,e.dispatchEvent(new It(It.GOTO,"SinglePlayerMenu","StartGame"))}))(),this.doReplay=!0)}},{key:"startRecord",value:function(){this.recording=[],this._mode="recording"}},{key:"stopRecord",value:function(){this._mode=null}},{key:"startReplay",value:function(){this.replayIndex=0,this.replayRecords=[],this._mode="replaying",this.doReplay=!1}},{key:"stopReplay",value:function(){Ue.keysDown={},this._mode=null}}]),t}(),rs=new $n,ns=function(){function t(){C()(this,t),P()(this,"library",rs),P()(this,"game",new ft(this)),P()(this,"modal",new es(this)),P()(this,"recorder",new is(this)),P()(this,"controller",null),(0,A.ky)(this)}return T()(t,[{key:"dispose",value:function(){this.game.dispose()}}]),t}(),ss=i(4403),as=i.n(ss),os=i(4923);var ls=(0,os.Pi)((function(t){var e=E().game;return(0,R.useEffect)((function(){e.start()}),[e]),R.createElement("div",{className:as()("_29p0fzQbWnS5kYeP40IRhK",t.className),ref:e.setContainer})}));function us(){return(us=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function cs(t,e){if(null==t)return{};var i,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}const hs=!("undefined"==typeof window||!window.document||!window.document.createElement);var fs=!1,ds=!1;try{var ps={get passive(){return fs=!0},get once(){return ds=fs=!0}};hs&&(window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,!0))}catch(t){}const ys=function(t,e,i,r){if(r&&"boolean"!=typeof r&&!ds){var n=r.once,s=r.capture,a=i;!ds&&n&&(a=i.__once||function t(r){this.removeEventListener(e,t,s),i.call(this,r)},i.__once=a),t.addEventListener(e,a,fs?r:s)}t.addEventListener(e,i,r)};function vs(t){return t&&t.ownerDocument||document}const ms=function(t,e,i,r){var n=r&&"boolean"!=typeof r?r.capture:r;t.removeEventListener(e,i,n),i.__once&&t.removeEventListener(e,i.__once,n)};var gs;function bs(t){if((!gs&&0!==gs||t)&&hs){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),gs=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return gs}function _s(t){var e=function(t){var e=(0,R.useRef)(t);return(0,R.useEffect)((function(){e.current=t}),[t]),e}(t);return(0,R.useCallback)((function(){return e.current&&e.current.apply(e,arguments)}),[e])}function xs(t){var e,i,r=(e=t,(i=(0,R.useRef)(e)).current=e,i);(0,R.useEffect)((function(){return function(){return r.current()}}),[])}var Rs=/([A-Z])/g,ks=/^ms-/;function ws(t){return function(t){return t.replace(Rs,"-$1").toLowerCase()}(t).replace(ks,"-ms-")}var Es=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ss=function(t,e){var i="",r="";if("string"==typeof e)return t.style.getPropertyValue(ws(e))||function(t,e){return function(t){var e=vs(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(ws(e));Object.keys(e).forEach((function(n){var s=e[n];s||0===s?function(t){return!(!t||!Es.test(t))}(n)?r+=n+"("+s+") ":i+=ws(n)+": "+s+";":t.style.removeProperty(ws(n))})),r&&(i+="transform: "+r+";"),t.style.cssText+=";"+i},Cs=function(t,e,i,r){return ys(t,e,i,r),function(){ms(t,e,i,r)}};function Ls(t,e,i,r){var n,s;null==i&&(s=-1===(n=Ss(t,"transitionDuration")||"").indexOf("ms")?1e3:1,i=parseFloat(n)*s||0);var a=function(t,e,i){void 0===i&&(i=5);var r=!1,n=setTimeout((function(){r||function(t){var e=document.createEvent("HTMLEvents");e.initEvent("transitionend",!0,!0),t.dispatchEvent(e)}(t)}),e+i),s=Cs(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(n),s()}}(t,i,r),o=Cs(t,"transitionend",e);return function(){a(),o()}}function Ts(t){void 0===t&&(t=vs());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Ms(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var Ps=i(2652),As=i.n(Ps),Ds=i(3961);function Os(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ns(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Bs(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=Ns(t.className,e):t.setAttribute("class",Ns(t.className&&t.className.baseVal||"",e))}function Fs(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function Is(t){var e;return Fs(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=Fs(t)?vs():vs(t),i=Fs(t)||e.defaultView;return e.body.clientWidth<i.innerWidth}(t):t.scrollHeight>t.clientHeight}var js=["template","script","style"],Us=function(t,e,i){[].forEach.call(t.children,(function(t){var r,n,s;-1===e.indexOf(t)&&(n=(r=t).nodeType,s=r.tagName,1===n&&-1===js.indexOf(s.toLowerCase()))&&i(t)}))};function Vs(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}const Gs=function(){function t(t){var e=void 0===t?{}:t,i=e.hideSiblingNodes,r=void 0===i||i,n=e.handleContainerOverflow,s=void 0===n||n;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=s,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=bs()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return e=this.data,i=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(t,e){return!!i(t)&&(r=e,!0)})),r;var e,i,r},e.setContainerStyle=function(t,e){var i={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(i.paddingRight=parseInt(Ss(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Ss(e,i)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,i){var r=this.modals.indexOf(t),n=this.containers.indexOf(e);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var i=e.dialog,r=e.backdrop;Us(t,[i,r],(function(t){return Vs(!0,t)}))}(e,t),-1!==n)return this.data[n].modals.push(t),r;var s={modals:[t],classes:i?i.split(/\s+/):[],overflowing:Is(e)};return this.handleContainerOverflow&&this.setContainerStyle(s,e),s.classes.forEach(Os.bind(null,e)),this.containers.push(e),this.data.push(s),r},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var i=this.containerIndexFromModal(t),r=this.data[i],n=this.containers[i];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.classes.forEach(Bs.bind(null,n)),this.handleContainerOverflow&&this.removeContainerStyle(r,n),this.hideSiblingNodes&&function(t,e){var i=e.dialog,r=e.backdrop;Us(t,[i,r],(function(t){return Vs(!1,t)}))}(n,t),this.containers.splice(i,1),this.data.splice(i,1);else if(this.hideSiblingNodes){var s=r.modals[r.modals.length-1],a=s.backdrop;Vs(!1,s.dialog),Vs(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();var Hs,Ks=function(t){var e;return"undefined"==typeof document?null:null==t?vs().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),(null==(e=t)?void 0:e.nodeType)&&t||null)};var zs=(0,R.forwardRef)((function(t,e){var i=t.show,r=void 0!==i&&i,n=t.role,s=void 0===n?"dialog":n,a=t.className,o=t.style,l=t.children,u=t.backdrop,c=void 0===u||u,h=t.keyboard,f=void 0===h||h,d=t.onBackdropClick,p=t.onEscapeKeyDown,y=t.transition,v=t.backdropTransition,m=t.autoFocus,g=void 0===m||m,b=t.enforceFocus,_=void 0===b||b,x=t.restoreFocus,k=void 0===x||x,w=t.restoreFocusOptions,E=t.renderDialog,S=t.renderBackdrop,C=void 0===S?function(t){return R.createElement("div",t)}:S,L=t.manager,T=t.container,M=t.containerClassName,P=t.onShow,A=t.onHide,D=void 0===A?function(){}:A,O=t.onExit,N=t.onExited,B=t.onExiting,F=t.onEnter,I=t.onEntering,j=t.onEntered,U=cs(t,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),V=function(t,e){var i=(0,R.useState)((function(){return Ks(t)})),r=i[0],n=i[1];if(!r){var s=Ks(t);s&&n(s)}return(0,R.useEffect)((function(){}),[e,r]),(0,R.useEffect)((function(){var e=Ks(t);e!==r&&n(e)}),[t,r]),r}(T),G=function(t){var e=t||(Hs||(Hs=new Gs),Hs),i=(0,R.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(t,r){return e.add(i.current,t,r)},remove:function(){return e.remove(i.current)},isTopModal:function(){return e.isTopModal(i.current)},setDialogRef:(0,R.useCallback)((function(t){i.current.dialog=t}),[]),setBackdropRef:(0,R.useCallback)((function(t){i.current.backdrop=t}),[])})}(L),H=function(){var t=(0,R.useRef)(!0),e=(0,R.useRef)((function(){return t.current}));return(0,R.useEffect)((function(){return function(){t.current=!1}}),[]),e.current}(),K=function(t){var e=(0,R.useRef)(null);return(0,R.useEffect)((function(){e.current=t})),e.current}(r),z=(0,R.useState)(!r),X=z[0],Y=z[1],q=(0,R.useRef)(null);(0,R.useImperativeHandle)(e,(function(){return G}),[G]),hs&&!K&&r&&(q.current=Ts()),y||r||X?r&&X&&Y(!1):Y(!0);var W=_s((function(){if(G.add(V,M),et.current=Cs(document,"keydown",$),tt.current=Cs(document,"focus",(function(){return setTimeout(Z)}),!0),P&&P(),g){var t=Ts(document);G.dialog&&t&&!Ms(G.dialog,t)&&(q.current=t,G.dialog.focus())}})),J=_s((function(){var t;G.remove(),null==et.current||et.current(),null==tt.current||tt.current(),k&&(null==(t=q.current)||null==t.focus||t.focus(w),q.current=null)}));(0,R.useEffect)((function(){r&&V&&W()}),[r,V,W]),(0,R.useEffect)((function(){X&&J()}),[X,J]),xs((function(){J()}));var Z=_s((function(){if(_&&H()&&G.isTopModal()){var t=Ts();G.dialog&&t&&!Ms(G.dialog,t)&&G.dialog.focus()}})),Q=_s((function(t){t.target===t.currentTarget&&(null==d||d(t),!0===c&&D())})),$=_s((function(t){f&&27===t.keyCode&&G.isTopModal()&&(null==p||p(t),t.defaultPrevented||D())})),tt=(0,R.useRef)(),et=(0,R.useRef)(),it=y;if(!V||!(r||it&&!X))return null;var rt=us({role:s,ref:G.setDialogRef,"aria-modal":"dialog"===s||void 0},U,{style:o,className:a,tabIndex:-1}),nt=E?E(rt):R.createElement("div",rt,R.cloneElement(l,{role:"document"}));it&&(nt=R.createElement(it,{appear:!0,unmountOnExit:!0,in:!!r,onExit:O,onExiting:B,onExited:function(){Y(!0);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];null==N||N.apply(void 0,e)},onEnter:F,onEntering:I,onEntered:j},nt));var st=null;if(c){var at=v;st=C({ref:G.setBackdropRef,onClick:Q}),at&&(st=R.createElement(at,{appear:!0,in:!!r},st))}return R.createElement(R.Fragment,null,Ds.createPortal(R.createElement(R.Fragment,null,st,nt),V))})),Xs={show:As().bool,container:As().any,onShow:As().func,onHide:As().func,backdrop:As().oneOfType([As().bool,As().oneOf(["static"])]),renderDialog:As().func,renderBackdrop:As().func,onEscapeKeyDown:As().func,onBackdropClick:As().func,containerClassName:As().string,keyboard:As().bool,transition:As().elementType,backdropTransition:As().elementType,autoFocus:As().bool,enforceFocus:As().bool,restoreFocus:As().bool,restoreFocusOptions:As().shape({preventScroll:As().bool}),onEnter:As().func,onEntering:As().func,onEntered:As().func,onExit:As().func,onExiting:As().func,onExited:As().func,manager:As().instanceOf(Gs)};zs.displayName="Modal",zs.propTypes=Xs;const Ys=Object.assign(zs,{Manager:Gs});function qs(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}i(626);var Ws=Function.prototype.bind.call(Function.prototype.call,[].slice);function Js(t,e){return Ws(t.querySelectorAll(e))}var Zs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qs=".sticky-top",$s=".navbar-toggler",ta=function(t){function e(){return t.apply(this,arguments)||this}qs(e,t);var i=e.prototype;return i.adjustAndStore=function(t,e,i){var r,n=e.style[t];e.dataset[t]=n,Ss(e,((r={})[t]=parseFloat(Ss(e,t))+i+"px",r))},i.restore=function(t,e){var i,r=e.dataset[t];void 0!==r&&(delete e.dataset[t],Ss(e,((i={})[t]=r,i)))},i.setContainerStyle=function(e,i){var r=this;if(t.prototype.setContainerStyle.call(this,e,i),e.overflowing){var n=bs();Js(i,Zs).forEach((function(t){return r.adjustAndStore("paddingRight",t,n)})),Js(i,Qs).forEach((function(t){return r.adjustAndStore("marginRight",t,-n)})),Js(i,$s).forEach((function(t){return r.adjustAndStore("marginRight",t,n)}))}},i.removeContainerStyle=function(e,i){var r=this;t.prototype.removeContainerStyle.call(this,e,i),Js(i,Zs).forEach((function(t){return r.restore("paddingRight",t)})),Js(i,Qs).forEach((function(t){return r.restore("marginRight",t)})),Js(i,$s).forEach((function(t){return r.restore("marginRight",t)}))},e}(Gs);const ea=R.createContext(null);var ia="unmounted",ra="exited",na="entering",sa="entered",aa="exiting",oa=function(t){function e(e,i){var r;r=t.call(this,e,i)||this;var n,s=i&&!i.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(n=ra,r.appearStatus=na):n=sa:n=e.unmountOnExit||e.mountOnEnter?ia:ra,r.state={status:n},r.nextCallback=null,r}qs(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===ia?{status:ra}:null};var i=e.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var i=this.state.status;this.props.in?i!==na&&i!==sa&&(e=na):i!==na&&i!==sa||(e=aa)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,i,r=this.props.timeout;return t=e=i=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,i=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:i}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===na?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===ra&&this.setState({status:ia})},i.performEnter=function(t){var e=this,i=this.props.enter,r=this.context?this.context.isMounting:t,n=this.props.nodeRef?[r]:[Ds.findDOMNode(this),r],s=n[0],a=n[1],o=this.getTimeouts(),l=r?o.appear:o.enter;t||i?(this.props.onEnter(s,a),this.safeSetState({status:na},(function(){e.props.onEntering(s,a),e.onTransitionEnd(l,(function(){e.safeSetState({status:sa},(function(){e.props.onEntered(s,a)}))}))}))):this.safeSetState({status:sa},(function(){e.props.onEntered(s)}))},i.performExit=function(){var t=this,e=this.props.exit,i=this.getTimeouts(),r=this.props.nodeRef?void 0:Ds.findDOMNode(this);e?(this.props.onExit(r),this.safeSetState({status:aa},(function(){t.props.onExiting(r),t.onTransitionEnd(i.exit,(function(){t.safeSetState({status:ra},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:ra},(function(){t.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,i=!0;return this.nextCallback=function(r){i&&(i=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var i=this.props.nodeRef?this.props.nodeRef.current:Ds.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(i&&!r){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],s=n[0],a=n[1];this.props.addEndListener(s,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===ia)return null;var e=this.props,i=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,cs(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return R.createElement(ea.Provider,{value:null},"function"==typeof i?i(t,r):R.cloneElement(R.Children.only(i),r))},e}(R.Component);function la(){}oa.contextType=ea,oa.propTypes={},oa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:la,onEntering:la,onEntered:la,onExit:la,onExiting:la,onExited:la},oa.UNMOUNTED=ia,oa.EXITED=ra,oa.ENTERING=na,oa.ENTERED=sa,oa.EXITING=aa;const ua=oa;var ca,ha=((ca={}).entering="show",ca.entered="show",ca),fa=R.forwardRef((function(t,e){var i=t.className,r=t.children,n=cs(t,["className","children"]),s=(0,R.useCallback)((function(t){!function(t){t.offsetHeight}(t),n.onEnter&&n.onEnter(t)}),[n]);return R.createElement(ua,us({ref:e,addEndListener:Ls},n,{onEnter:s}),(function(t,e){return R.cloneElement(r,us({},e,{className:as()("fade",i,r.props.className,ha[t])}))}))}));fa.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},fa.displayName="Fade";const da=fa;var pa=/-(.)/g,ya=R.createContext({});function va(t,e){var i=(0,R.useContext)(ya);return t||i[e]||e}ya.Consumer,ya.Provider;function ma(t,e){var i,r,n=void 0===e?{}:e,s=n.displayName,a=void 0===s?(i=t)[0].toUpperCase()+(r=i,r.replace(pa,(function(t,e){return e.toUpperCase()}))).slice(1):s,o=n.Component,l=n.defaultProps,u=R.forwardRef((function(e,i){var r=e.className,n=e.bsPrefix,s=e.as,a=void 0===s?o||"div":s,l=cs(e,["className","bsPrefix","as"]),u=va(n,t);return R.createElement(a,us({ref:i,className:as()(r,u)},l))}));return u.defaultProps=l,u.displayName=a,u}const ga=ma("modal-body"),ba=R.createContext({onHide:function(){}});var _a=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.className,n=t.contentClassName,s=t.centered,a=t.size,o=t.children,l=t.scrollable,u=cs(t,["bsPrefix","className","contentClassName","centered","size","children","scrollable"]),c=(i=va(i,"modal"))+"-dialog";return R.createElement("div",us({},u,{ref:e,className:as()(c,r,a&&i+"-"+a,s&&c+"-centered",l&&c+"-scrollable")}),R.createElement("div",{className:as()(i+"-content",n)},o))}));_a.displayName="ModalDialog";const xa=_a,Ra=ma("modal-footer");var ka={label:As().string.isRequired,onClick:As().func},wa=R.forwardRef((function(t,e){var i=t.label,r=t.onClick,n=t.className,s=cs(t,["label","onClick","className"]);return R.createElement("button",us({ref:e,type:"button",className:as()("close",n),onClick:r},s),R.createElement("span",{"aria-hidden":"true"},""),R.createElement("span",{className:"sr-only"},i))}));wa.displayName="CloseButton",wa.propTypes=ka,wa.defaultProps={label:"Close"};const Ea=wa;var Sa=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.closeLabel,n=t.closeButton,s=t.onHide,a=t.className,o=t.children,l=cs(t,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);i=va(i,"modal-header");var u=(0,R.useContext)(ba),c=_s((function(){u&&u.onHide(),s&&s()}));return R.createElement("div",us({ref:e},l,{className:as()(a,i)}),o,n&&R.createElement(Ea,{label:r,onClick:c}))}));Sa.displayName="ModalHeader",Sa.defaultProps={closeLabel:"Close",closeButton:!1};const Ca=Sa;const La=ma("modal-title",{Component:("h4",R.forwardRef((function(t,e){return R.createElement("div",us({},t,{ref:e,className:as()(t.className,"h4")}))})))});var Ta,Ma={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:xa};function Pa(t){return R.createElement(da,t)}function Aa(t){return R.createElement(da,t)}var Da=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.className,n=t.style,s=t.dialogClassName,a=t.contentClassName,o=t.children,l=t.dialogAs,u=t["aria-labelledby"],c=t.show,h=t.animation,f=t.backdrop,d=t.keyboard,p=t.onEscapeKeyDown,y=t.onShow,v=t.onHide,m=t.container,g=t.autoFocus,b=t.enforceFocus,_=t.restoreFocus,x=t.restoreFocusOptions,k=t.onEntered,w=t.onExit,E=t.onExiting,S=t.onEnter,C=t.onEntering,L=t.onExited,T=t.backdropClassName,M=t.manager,P=cs(t,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),A=(0,R.useState)({}),D=A[0],O=A[1],N=(0,R.useState)(!1),B=N[0],F=N[1],I=(0,R.useRef)(!1),j=(0,R.useRef)(!1),U=(0,R.useRef)(null),V=(0,R.useState)(null),G=V[0],H=V[1],K=_s(v);i=va(i,"modal"),(0,R.useImperativeHandle)(e,(function(){return{get _modal(){return G}}}),[G]);var z=(0,R.useMemo)((function(){return{onHide:K}}),[K]);function X(){return M||(Ta||(Ta=new ta),Ta)}function Y(t){if(hs){var e=X().isContainerOverflowing(G),i=t.scrollHeight>vs(t).documentElement.clientHeight;O({paddingRight:e&&!i?bs():void 0,paddingLeft:!e&&i?bs():void 0})}}var q=_s((function(){G&&Y(G.dialog)}));xs((function(){ms(window,"resize",q),U.current&&U.current()}));var W=function(){I.current=!0},J=function(t){I.current&&G&&t.target===G.dialog&&(j.current=!0),I.current=!1},Z=function(){F(!0),U.current=Ls(G.dialog,(function(){F(!1)}))},Q=function(t){"static"!==f?j.current||t.target!==t.currentTarget?j.current=!1:v():function(t){t.target===t.currentTarget&&Z()}(t)},$=(0,R.useCallback)((function(t){return R.createElement("div",us({},t,{className:as()(i+"-backdrop",T,!h&&"show")}))}),[h,T,i]),tt=us({},n,{},D);return h||(tt.display="block"),R.createElement(ba.Provider,{value:z},R.createElement(Ys,{show:c,ref:H,backdrop:f,container:m,keyboard:!0,autoFocus:g,enforceFocus:b,restoreFocus:_,restoreFocusOptions:x,onEscapeKeyDown:function(t){d||"static"!==f?d&&p&&p(t):(t.preventDefault(),Z())},onShow:y,onHide:v,onEnter:function(t){t&&(t.style.display="block",Y(t));for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];S&&S.apply(void 0,[t].concat(i))},onEntering:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];C&&C.apply(void 0,[t].concat(i)),ys(window,"resize",q)},onEntered:k,onExit:function(t){U.current&&U.current();for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];w&&w.apply(void 0,[t].concat(i))},onExiting:E,onExited:function(t){t&&(t.style.display="");for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];L&&L.apply(void 0,i),ms(window,"resize",q)},manager:X(),containerClassName:i+"-open",transition:h?Pa:void 0,backdropTransition:h?Aa:void 0,renderBackdrop:$,renderDialog:function(t){return R.createElement("div",us({role:"dialog"},t,{style:tt,className:as()(r,i,B&&i+"-static"),onClick:f?Q:void 0,onMouseUp:J,"aria-labelledby":u}),R.createElement(l,us({},P,{role:"document",onMouseDown:W,className:s,contentClassName:a}),o))}}))}));Da.displayName="Modal",Da.defaultProps=Ma,Da.Body=ga,Da.Header=Ca,Da.Title=La,Da.Footer=Ra,Da.Dialog=xa,Da.TRANSITION_DURATION=300,Da.BACKDROP_TRANSITION_DURATION=150;const Oa=Da;i(4309);var Na={type:As().string,tooltip:As().bool,as:As().elementType},Ba=R.forwardRef((function(t,e){var i=t.as,r=void 0===i?"div":i,n=t.className,s=t.type,a=void 0===s?"valid":s,o=t.tooltip,l=void 0!==o&&o,u=cs(t,["as","className","type","tooltip"]);return R.createElement(r,us({},u,{ref:e,className:as()(n,a+"-"+(l?"tooltip":"feedback"))}))}));Ba.displayName="Feedback",Ba.propTypes=Na;const Fa=Ba,Ia=R.createContext({controlId:void 0});var ja=R.forwardRef((function(t,e){var i=t.id,r=t.bsPrefix,n=t.bsCustomPrefix,s=t.className,a=t.type,o=void 0===a?"checkbox":a,l=t.isValid,u=void 0!==l&&l,c=t.isInvalid,h=void 0!==c&&c,f=t.isStatic,d=t.as,p=void 0===d?"input":d,y=cs(t,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),v=(0,R.useContext)(Ia),m=v.controlId,g=v.custom?[n,"custom-control-input"]:[r,"form-check-input"];return r=va(g[0],g[1]),R.createElement(p,us({},y,{ref:e,type:o,id:i||m,className:as()(s,r,u&&"is-valid",h&&"is-invalid",f&&"position-static")}))}));ja.displayName="FormCheckInput";const Ua=ja;var Va=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.bsCustomPrefix,n=t.className,s=t.htmlFor,a=cs(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=(0,R.useContext)(Ia),l=o.controlId,u=o.custom?[r,"custom-control-label"]:[i,"form-check-label"];return i=va(u[0],u[1]),R.createElement("label",us({},a,{ref:e,htmlFor:s||l,className:as()(n,i)}))}));Va.displayName="FormCheckLabel";const Ga=Va;var Ha=R.forwardRef((function(t,e){var i=t.id,r=t.bsPrefix,n=t.bsCustomPrefix,s=t.inline,a=void 0!==s&&s,o=t.disabled,l=void 0!==o&&o,u=t.isValid,c=void 0!==u&&u,h=t.isInvalid,f=void 0!==h&&h,d=t.feedbackTooltip,p=void 0!==d&&d,y=t.feedback,v=t.className,m=t.style,g=t.title,b=void 0===g?"":g,_=t.type,x=void 0===_?"checkbox":_,k=t.label,w=t.children,E=t.custom,S=t.as,C=void 0===S?"input":S,L=cs(t,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),T="switch"===x||E,M=T?[n,"custom-control"]:[r,"form-check"];r=va(M[0],M[1]);var P=(0,R.useContext)(Ia).controlId,A=(0,R.useMemo)((function(){return{controlId:i||P,custom:T}}),[P,T,i]),D=T||null!=k&&!1!==k&&!w,O=R.createElement(Ua,us({},L,{type:"switch"===x?"checkbox":x,ref:e,isValid:c,isInvalid:f,isStatic:!D,disabled:l,as:C}));return R.createElement(Ia.Provider,{value:A},R.createElement("div",{style:m,className:as()(v,r,T&&"custom-"+x,a&&r+"-inline")},w||R.createElement(R.Fragment,null,O,D&&R.createElement(Ga,{title:b},k),(c||f)&&R.createElement(Fa,{type:c?"valid":"invalid",tooltip:p},y))))}));Ha.displayName="FormCheck",Ha.Input=Ua,Ha.Label=Ga;const Ka=Ha;var za=R.forwardRef((function(t,e){var i=t.id,r=t.bsPrefix,n=t.bsCustomPrefix,s=t.className,a=t.isValid,o=t.isInvalid,l=t.lang,u=t.as,c=void 0===u?"input":u,h=cs(t,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),f=(0,R.useContext)(Ia),d=f.controlId,p=f.custom?[n,"custom-file-input"]:[r,"form-control-file"];return r=va(p[0],p[1]),R.createElement(c,us({},h,{ref:e,id:i||d,type:"file",lang:l,className:as()(s,r,a&&"is-valid",o&&"is-invalid")}))}));za.displayName="FormFileInput";const Xa=za;var Ya=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.bsCustomPrefix,n=t.className,s=t.htmlFor,a=cs(t,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=(0,R.useContext)(Ia),l=o.controlId,u=o.custom?[r,"custom-file-label"]:[i,"form-file-label"];return i=va(u[0],u[1]),R.createElement("label",us({},a,{ref:e,htmlFor:s||l,className:as()(n,i),"data-browse":a["data-browse"]}))}));Ya.displayName="FormFileLabel";const qa=Ya;var Wa=R.forwardRef((function(t,e){var i=t.id,r=t.bsPrefix,n=t.bsCustomPrefix,s=t.disabled,a=void 0!==s&&s,o=t.isValid,l=void 0!==o&&o,u=t.isInvalid,c=void 0!==u&&u,h=t.feedbackTooltip,f=void 0!==h&&h,d=t.feedback,p=t.className,y=t.style,v=t.label,m=t.children,g=t.custom,b=t.lang,_=t["data-browse"],x=t.as,k=void 0===x?"div":x,w=t.inputAs,E=void 0===w?"input":w,S=cs(t,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),C=g?[n,"custom"]:[r,"form-file"];r=va(C[0],C[1]);var L=(0,R.useContext)(Ia).controlId,T=(0,R.useMemo)((function(){return{controlId:i||L,custom:g}}),[L,g,i]),M=null!=v&&!1!==v&&!m,P=R.createElement(Xa,us({},S,{ref:e,isValid:l,isInvalid:c,disabled:a,as:E,lang:b}));return R.createElement(Ia.Provider,{value:T},R.createElement(k,{style:y,className:as()(p,r,g&&"custom-file")},m||R.createElement(R.Fragment,null,g?R.createElement(R.Fragment,null,P,M&&R.createElement(qa,{"data-browse":_},v)):R.createElement(R.Fragment,null,M&&R.createElement(qa,null,v),P),(l||c)&&R.createElement(Fa,{type:l?"valid":"invalid",tooltip:f},d))))}));Wa.displayName="FormFile",Wa.Input=Xa,Wa.Label=qa;const Ja=Wa;var Za=R.forwardRef((function(t,e){var i,r,n=t.bsPrefix,s=t.bsCustomPrefix,a=t.type,o=t.size,l=t.htmlSize,u=t.id,c=t.className,h=t.isValid,f=void 0!==h&&h,d=t.isInvalid,p=void 0!==d&&d,y=t.plaintext,v=t.readOnly,m=t.custom,g=t.as,b=void 0===g?"input":g,_=cs(t,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),x=(0,R.useContext)(Ia).controlId,k=m?[s,"custom"]:[n,"form-control"];if(n=va(k[0],k[1]),y)(r={})[n+"-plaintext"]=!0,i=r;else if("file"===a){var w;(w={})[n+"-file"]=!0,i=w}else if("range"===a){var E;(E={})[n+"-range"]=!0,i=E}else if("select"===b&&m){var S;(S={})[n+"-select"]=!0,S[n+"-select-"+o]=o,i=S}else{var C;(C={})[n]=!0,C[n+"-"+o]=o,i=C}return R.createElement(b,us({},_,{type:a,size:l,ref:e,readOnly:v,id:u||x,className:as()(c,i,f&&"is-valid",p&&"is-invalid")}))}));Za.displayName="FormControl";const Qa=Object.assign(Za,{Feedback:Fa});var $a=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.className,n=t.children,s=t.controlId,a=t.as,o=void 0===a?"div":a,l=cs(t,["bsPrefix","className","children","controlId","as"]);i=va(i,"form-group");var u=(0,R.useMemo)((function(){return{controlId:s}}),[s]);return R.createElement(Ia.Provider,{value:u},R.createElement(o,us({},l,{ref:e,className:as()(r,i)}),n))}));$a.displayName="FormGroup";const to=$a;var eo=["xl","lg","md","sm","xs"],io=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.className,n=t.as,s=void 0===n?"div":n,a=cs(t,["bsPrefix","className","as"]),o=va(i,"col"),l=[],u=[];return eo.forEach((function(t){var e,i,r,n=a[t];if(delete a[t],"object"==typeof n&&null!=n){var s=n.span;e=void 0===s||s,i=n.offset,r=n.order}else e=n;var c="xs"!==t?"-"+t:"";e&&l.push(!0===e?""+o+c:""+o+c+"-"+e),null!=r&&u.push("order"+c+"-"+r),null!=i&&u.push("offset"+c+"-"+i)})),l.length||l.push(o),R.createElement(s,us({},a,{ref:e,className:as().apply(void 0,[r].concat(l,u))}))}));io.displayName="Col";const ro=io;var no=R.forwardRef((function(t,e){var i=t.as,r=void 0===i?"label":i,n=t.bsPrefix,s=t.column,a=t.srOnly,o=t.className,l=t.htmlFor,u=cs(t,["as","bsPrefix","column","srOnly","className","htmlFor"]),c=(0,R.useContext)(Ia).controlId;n=va(n,"form-label");var h="col-form-label";"string"==typeof s&&(h=h+" "+h+"-"+s);var f=as()(o,n,a&&"sr-only",s&&h);return l=l||c,s?R.createElement(ro,us({as:"label",className:f,htmlFor:l},u)):R.createElement(r,us({ref:e,className:f,htmlFor:l},u))}));no.displayName="FormLabel",no.defaultProps={column:!1,srOnly:!1};const so=no;var ao=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.className,n=t.as,s=void 0===n?"small":n,a=t.muted,o=cs(t,["bsPrefix","className","as","muted"]);return i=va(i,"form-text"),R.createElement(s,us({},o,{ref:e,className:as()(r,i,a&&"text-muted")}))}));ao.displayName="FormText";const oo=ao;var lo=R.forwardRef((function(t,e){return R.createElement(Ka,us({},t,{ref:e,type:"switch"}))}));lo.displayName="Switch",lo.Input=Ka.Input,lo.Label=Ka.Label;const uo=lo;var co=ma("form-row"),ho=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.inline,n=t.className,s=t.validated,a=t.as,o=void 0===a?"form":a,l=cs(t,["bsPrefix","inline","className","validated","as"]);return i=va(i,"form"),R.createElement(o,us({},l,{ref:e,className:as()(n,s&&"was-validated",r&&i+"-inline")}))}));ho.displayName="Form",ho.defaultProps={inline:!1},ho.Row=co,ho.Group=to,ho.Control=Qa,ho.Check=Ka,ho.File=Ja,ho.Switch=uo,ho.Label=so,ho.Text=oo;const fo=ho,po=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t.apply(this,r),e.apply(this,r)}}),null)};function yo(t){return!t||"#"===t.trim()}var vo=R.forwardRef((function(t,e){var i=t.as,r=void 0===i?"a":i,n=t.disabled,s=t.onKeyDown,a=cs(t,["as","disabled","onKeyDown"]),o=function(t){var e=a.href,i=a.onClick;(n||yo(e))&&t.preventDefault(),n?t.stopPropagation():i&&i(t)};return yo(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),n&&(a.tabIndex=-1,a["aria-disabled"]=!0),R.createElement(r,us({ref:e},a,{onClick:o,onKeyDown:po((function(t){" "===t.key&&(t.preventDefault(),o(t))}),s)}))}));vo.displayName="SafeAnchor";const mo=vo;var go=R.forwardRef((function(t,e){var i=t.bsPrefix,r=t.variant,n=t.size,s=t.active,a=t.className,o=t.block,l=t.type,u=t.as,c=cs(t,["bsPrefix","variant","size","active","className","block","type","as"]),h=va(i,"btn"),f=as()(a,h,s&&"active",r&&h+"-"+r,o&&h+"-block",n&&h+"-"+n);if(c.href)return R.createElement(mo,us({},c,{as:u,ref:e,className:as()(f,c.disabled&&"disabled")}));e&&(c.ref=e),l?c.type=l:u||(c.type="button");var d=u||"button";return R.createElement(d,us({},c,{className:f}))}));go.displayName="Button",go.defaultProps={variant:"primary",active:!1,disabled:!1};const bo=go;var _o=t=>t instanceof HTMLElement;const xo="blur",Ro="change",ko="input",wo="onChange",Eo="onSubmit",So="undefined",Co="pattern",Lo="required";var To=t=>null==t;const Mo=t=>"object"==typeof t;var Po=t=>!To(t)&&!Array.isArray(t)&&Mo(t)&&!(t instanceof Date),Ao=t=>!Array.isArray(t)&&(/^\w*$/.test(t)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(t)),Do=t=>t.filter(Boolean),Oo=t=>Do(t.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function No(t,e,i){let r=-1;const n=Ao(e)?[e]:Oo(e),s=n.length,a=s-1;for(;++r<s;){const e=n[r];let s=i;if(r!==a){const i=t[e];s=Po(i)||Array.isArray(i)?i:isNaN(+n[r+1])?{}:[]}t[e]=s,t=t[e]}return t}var Bo=(t,e={})=>{for(const i in t)Ao(i)?e[i]=t[i]:No(e,i,t[i]);return e},Fo=t=>void 0===t,Io=(t,e,i)=>{const r=Do(e.split(/[,[\].]+?/)).reduce(((t,e)=>To(t)?t:t[e]),t);return Fo(r)||r===t?Fo(t[e])?i:t[e]:r},jo=(t,e)=>{_o(t)&&t.removeEventListener&&(t.removeEventListener(ko,e),t.removeEventListener(Ro,e),t.removeEventListener(xo,e))};const Uo={isValid:!1,value:""};var Vo=t=>Array.isArray(t)?t.reduce(((t,e)=>e&&e.ref.checked?{isValid:!0,value:e.ref.value}:t),Uo):Uo,Go=t=>"radio"===t.type,Ho=t=>"file"===t.type,Ko=t=>"checkbox"===t.type,zo=t=>"select-multiple"===t.type;const Xo={value:!1,isValid:!1},Yo={value:!0,isValid:!0};var qo=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter((t=>t&&t.ref.checked)).map((({ref:{value:t}})=>t));return{value:e,isValid:!!e.length}}const{checked:e,value:i,attributes:r}=t[0].ref;return e?r&&!Fo(r.value)?Fo(i)||""===i?Yo:{value:i,isValid:!0}:Yo:Xo}return Xo};function Wo(t,e,i,r){const n=t.current[e];if(n){const{ref:{value:t,disabled:e},ref:i}=n;if(e&&r)return;return Ho(i)?i.files:Go(i)?Vo(n.options).value:zo(i)?(t=>[...t].filter((({selected:t})=>t)).map((({value:t})=>t)))(i.options):Ko(i)?qo(n.options).value:t}if(i)return Io(i.current,e)}function Jo(t){return!t||t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE&&Jo(t.parentNode)}var Zo=t=>Po(t)&&!Object.keys(t).length,Qo=t=>"boolean"==typeof t;function $o(t,e){const i=Ao(e)?[e]:Oo(e),r=1==i.length?t:function(t,e){const i=e.slice(0,-1).length;let r=0;for(;r<i;)t=Fo(t)?r++:t[e[r++]];return t}(t,i),n=i[i.length-1];let s=void 0;r&&delete r[n];for(let e=0;e<i.slice(0,-1).length;e++){let r=-1,n=void 0;const a=i.slice(0,-(e+1)),o=a.length-1;for(e>0&&(s=t);++r<a.length;){const e=a[r];n=n?n[e]:t[e],o===r&&(Po(n)&&Zo(n)||Array.isArray(n)&&!n.filter((t=>Po(t)&&!Zo(t)||Qo(t))).length)&&(s?delete s[e]:delete t[e]),s=n}}return t}const tl=(t,e)=>t&&t.ref===e;function el(t,e,i,r,n){let s=-1;for(;++s<t.length;){for(const r in t[s])Array.isArray(t[s][r])?(!i[s]&&(i[s]={}),i[s][r]=[],el(t[s][r],Io(e[s]||{},r,[]),i[s][r],i[s],r)):Io(e[s]||{},r)===t[s][r]?No(i[s]||{},r):i[s]=Object.assign(Object.assign({},i[s]),{[r]:!0});!i.length&&r&&delete r[n]}return i.length?i:void 0}var il=t=>"string"==typeof t,rl=t=>To(t)||!Mo(t);function nl(t,e){if(rl(t)||rl(e))return e;for(const i in e){const r=t[i],n=e[i];try{t[i]=Po(r)&&Po(n)||Array.isArray(r)&&Array.isArray(n)?nl(r,n):n}catch(t){}}return t}var sl=(t,e,i,r)=>{const n={};for(const e in t.current)(Fo(r)||(il(r)?e.startsWith(r):Array.isArray(r)&&r.find((t=>e.startsWith(t)))))&&(n[e]=Wo(t,e,void 0,i));return nl(Bo(Object.assign({},(e||{}).current||{})),Bo(n))};function al(t=[],e=[],i){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const n of r)if(!i||!["ref","context"].includes(n)){const r=t[n],s=e[n];if((Po(r)||Array.isArray(r))&&(Po(s)||Array.isArray(s))?!al(r,s,i):r!==s)return!1}return!0}var ol=t=>t instanceof RegExp,ll=t=>{return Po(e=t)&&!ol(e)?t:{value:t,message:""};var e},ul=t=>"function"==typeof t,cl=t=>il(t)||Po(t)&&(0,R.isValidElement)(t);function hl(t,e,i="validate"){if(cl(t)||Qo(t)&&!t)return{type:i,message:cl(t)?t:"",ref:e}}var fl=(t,e,i,r,n)=>{if(e){const e=i[t];return Object.assign(Object.assign({},e),{types:Object.assign(Object.assign({},e&&e.types?e.types:{}),{[r]:n||!0})})}return{}},dl=async(t,e,{ref:i,ref:{type:r,value:n},options:s,required:a,maxLength:o,minLength:l,min:u,max:c,pattern:h,validate:f},d)=>{const p=t.current,y=i.name,v={},m=Go(i),g=Ko(i),b=m||g,_=""===n,x=fl.bind(null,y,e,v),R=(t,e,r,n="maxLength",s="minLength")=>{const a=t?e:r;v[y]=Object.assign({type:t?n:s,message:a,ref:i},x(t?n:s,a))};if(a&&(!m&&!g&&(_||To(n))||Qo(n)&&!n||g&&!qo(s).isValid||m&&!Vo(s).isValid)){const{value:t,message:r}=cl(a)?{value:!!a,message:a}:ll(a);if(t&&(v[y]=Object.assign({type:Lo,message:r,ref:b?((p[y].options||[])[0]||{}).ref:i},x(Lo,r)),!e))return v}if(!To(u)||!To(c)){let t,s;const{value:a,message:o}=ll(c),{value:l,message:h}=ll(u);if("number"===r||!r&&!isNaN(n)){const e=i.valueAsNumber||parseFloat(n);To(a)||(t=e>a),To(l)||(s=e<l)}else{const e=i.valueAsDate||new Date(n);il(a)&&(t=e>new Date(a)),il(l)&&(s=e<new Date(l))}if((t||s)&&(R(!!t,o,h,"max","min"),!e))return v}if(il(n)&&!_&&(o||l)){const{value:t,message:i}=ll(o),{value:r,message:s}=ll(l),a=n.toString().length,u=!To(t)&&a>t,c=!To(r)&&a<r;if((u||c)&&(R(!!u,i,s),!e))return v}if(h&&!_){const{value:t,message:r}=ll(h);if(ol(t)&&!t.test(n)&&(v[y]=Object.assign({type:Co,message:r,ref:i},x(Co,r)),!e))return v}if(f){const r=Wo(t,y,d),n=b&&s?s[0].ref:i;if(ul(f)){const t=hl(await f(r),n);if(t&&(v[y]=Object.assign(Object.assign({},t),x("validate",t.message)),!e))return v}else if(Po(f)){let t={};for(const[i,s]of Object.entries(f)){if(!Zo(t)&&!e)break;const a=hl(await s(r),n,i);a&&(t=Object.assign(Object.assign({},a),x(i,a.message)),e&&(v[y]=t))}if(!Zo(t)&&(v[y]=Object.assign({ref:n},t),!e))return v}}return v};const pl=(t,e)=>Object.entries(e).map((([i,r])=>((e,i,r)=>{const n=r?`${t}.${e}`:`${t}[${e}]`;return rl(i)?n:pl(n,i)})(i,r,Po(e)))).flat(1/0);var yl=(t,e,i,r,n)=>{let s;return i.add(e),Zo(t)?s=void 0:(s=Io(t,e),(Po(s)||Array.isArray(s))&&pl(e,s).forEach((t=>i.add(t)))),Fo(s)?n?r:Io(r,e):s},vl=t=>t.substring(0,t.indexOf("["));var ml=(t,e)=>[...t].some((t=>((t,e)=>RegExp(`^${e}[\\d+]`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(t))(e,t)));function gl(t,e){let i;if(rl(t)||e&&t instanceof File)return t;if(t instanceof Date)return i=new Date(t.getTime()),i;if(t instanceof Set){i=new Set;for(const e of t)i.add(e);return i}if(t instanceof Map){i=new Map;for(const r of t.keys())i.set(r,gl(t.get(r),e));return i}i=Array.isArray(t)?[]:{};for(const r in t)i[r]=gl(t[r],e);return i}var bl=t=>({isOnSubmit:!t||t===Eo,isOnBlur:"onBlur"===t,isOnChange:t===wo,isOnAll:"all"===t,isOnTouch:"onTouched"===t}),_l=t=>Go(t)||Ko(t);const xl=typeof window===So,Rl=typeof document!==So&&!xl&&!Fo(window.HTMLElement),kl=Rl?"Proxy"in window:typeof Proxy!==So;function wl({mode:t="onSubmit",reValidateMode:e="onChange",resolver:i,context:r,defaultValues:n={},shouldFocusError:s=!0,shouldUnregister:a=!0,criteriaMode:o}={}){const l=(0,R.useRef)({}),u=(0,R.useRef)({}),c=(0,R.useRef)(new Set),h=(0,R.useRef)({}),f=(0,R.useRef)({}),d=(0,R.useRef)({}),p=(0,R.useRef)({}),y=(0,R.useRef)(n),v=(0,R.useRef)({}),m=(0,R.useRef)(!1),g=(0,R.useRef)(!1),b=(0,R.useRef)(),_=(0,R.useRef)(a?{}:gl(n,Rl)),x=(0,R.useRef)({}),k=(0,R.useRef)(r),w=(0,R.useRef)(i),E=(0,R.useRef)(new Set),S=(0,R.useRef)(bl(t)),{isOnSubmit:C,isOnTouch:L}=S.current,T="all"===o,[M,P]=(0,R.useState)({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!C,errors:{}}),A=(0,R.useRef)({isDirty:!kl,dirtyFields:!kl,touched:!kl||L,isSubmitting:!kl,isValid:!kl}),D=(0,R.useRef)(M),O=(0,R.useRef)(),{isOnBlur:N,isOnChange:B}=(0,R.useRef)(bl(e)).current;k.current=r,w.current=i,D.current=M;const F=(0,R.useCallback)(((t={})=>!m.current&&P(Object.assign(Object.assign({},D.current),t))),[]),I=(0,R.useCallback)(((t,e,i=!1,r={},n)=>{let s=i||function({errors:t,name:e,error:i,validFields:r,fieldsWithValidation:n}){const s=Fo(i),a=Io(t,e);return s&&!!a||!s&&!al(a,i,!0)||s&&Io(n,e)&&!Io(r,e)}({errors:D.current.errors,error:e,name:t,validFields:p.current,fieldsWithValidation:d.current});const a=Io(D.current.errors,t);e?($o(p.current,t),s=s||!a||!al(a,e,!0),No(D.current.errors,t,e)):((Io(d.current,t)||w.current)&&(No(p.current,t,!0),s=s||a),$o(D.current.errors,t)),(s&&!To(i)||!Zo(r))&&F(Object.assign(Object.assign(Object.assign({},r),{errors:D.current.errors}),w.current?{isValid:!!n}:{}))}),[]),j=(0,R.useCallback)(((t,e)=>{const{ref:i,options:r}=l.current[t],n=Rl&&_o(i)&&To(e)?"":e;Go(i)&&r?r.forEach((({ref:t})=>t.checked=t.value===n)):Ho(i)&&!il(n)?i.files=n:zo(i)?[...i.options].forEach((t=>t.selected=n.includes(t.value))):Ko(i)&&r?r.length>1?r.forEach((({ref:t})=>t.checked=Array.isArray(n)?!!n.find((e=>e===t.value)):n===t.value)):r[0].ref.checked=!!n:i.value=n}),[]),U=()=>!al(J(),Zo(y.current)?v.current:y.current)||!Zo(D.current.dirtyFields),V=(0,R.useCallback)(((t,e=!0)=>{if(A.current.isDirty||A.current.dirtyFields){const i=Io(v.current,t)!==Wo(l,t,_),r=Io(D.current.dirtyFields,t),n=D.current.isDirty;i?No(D.current.dirtyFields,t,!0):$o(D.current.dirtyFields,t);const s={isDirty:U(),dirtyFields:D.current.dirtyFields},a=A.current.isDirty&&n!==s.isDirty||A.current.dirtyFields&&r!==Io(D.current.dirtyFields,t);return a&&e&&(D.current=Object.assign(Object.assign({},D.current),s),F(Object.assign({},s))),a?s:{}}return{}}),[]),G=(0,R.useCallback)((async(t,e)=>{if(l.current[t]){const i=(await dl(l,T,l.current[t],_))[t];return I(t,i,e),Fo(i)}return!1}),[I,T]),H=(0,R.useCallback)((async t=>{const{errors:e}=await w.current(J(),k.current,T),i=D.current.isValid;if(Array.isArray(t)){const i=t.map((t=>{const i=Io(e,t);return i?No(D.current.errors,t,i):$o(D.current.errors,t),!i})).every(Boolean);return F({isValid:Zo(e),errors:D.current.errors}),i}{const r=Io(e,t);return I(t,r,i!==Zo(e),{},Zo(e)),!r}}),[I,T]),K=(0,R.useCallback)((async t=>{const e=t||Object.keys(l.current);if(w.current)return H(e);if(Array.isArray(e)){const t=await Promise.all(e.map((async t=>await G(t,null))));return F(),t.every(Boolean)}return await G(e,A.current.isValid)}),[H,G]),z=(0,R.useCallback)(((t,e,{shouldDirty:i,shouldValidate:r})=>{const n={};No(n,t,e);for(const s of pl(t,e))l.current[s]&&(j(s,Io(n,s)),i&&V(s),r&&K(s))}),[K,j,V]),X=(0,R.useCallback)(((t,e,i={})=>{l.current[t]?(j(t,e),i.shouldDirty&&V(t)):rl(e)||(z(t,e,i),E.current.has(t)&&(u.current[t]=e,x.current[t]({[t]:e}),(A.current.isDirty||A.current.dirtyFields)&&i.shouldDirty&&(No(D.current.dirtyFields,t,el(e,Io(y.current,t,[]),Io(D.current.dirtyFields,t,[]))),F({isDirty:!al(Object.assign(Object.assign({},J()),{[t]:e}),y.current),dirtyFields:D.current.dirtyFields})))),!a&&No(_.current,t,e)}),[V,j,z]),Y=t=>g.current||c.current.has(t)||c.current.has((t.match(/\w+/)||[])[0]),q=(t,e=!0)=>{if(!Zo(h.current))for(const i in h.current)t&&h.current[i].size&&!h.current[i].has(t)&&!h.current[i].has(vl(t))||(f.current[i](),e=!1);return e};function W(t){if(!a){let e=gl(t,Rl);for(const t of E.current)Ao(t)&&!e[t]&&(e=Object.assign(Object.assign({},e),{[t]:[]}));return e}return t}function J(t){if(il(t))return Wo(l,t,_);if(Array.isArray(t)){const e={};for(const i of t)No(e,i,Wo(l,i,_));return e}return W(sl(l,_))}b.current=b.current?b.current:async({type:t,target:e})=>{const i=e.name,r=l.current[i];let n,s;if(r){const e=t===xo,a=(({isOnBlur:t,isOnChange:e,isOnTouch:i,isTouched:r,isReValidateOnBlur:n,isReValidateOnChange:s,isBlurEvent:a,isSubmitted:o,isOnAll:l})=>!l&&(!o&&i?!(r||a):(o?n:t)?!a:!(o?s:e)||a))(Object.assign({isBlurEvent:e,isReValidateOnChange:B,isReValidateOnBlur:N,isTouched:!!Io(D.current.touched,i),isSubmitted:D.current.isSubmitted},S.current));let o=V(i,!1),u=!Zo(o)||Y(i);if(e&&!Io(D.current.touched,i)&&A.current.touched&&(No(D.current.touched,i,!0),o=Object.assign(Object.assign({},o),{touched:D.current.touched})),a)return q(i),(!Zo(o)||u&&Zo(o))&&F(o);if(w.current){const{errors:t}=await w.current(J(),k.current,T),e=D.current.isValid;n=Io(t,i),s=Zo(t),e!==s&&(u=!0)}else n=(await dl(l,T,r,_))[i];q(i),I(i,n,u,o,s)}};const Z=(0,R.useCallback)((async(t={})=>{const{errors:e}=await w.current(Object.assign(Object.assign(Object.assign({},y.current),J()),t),k.current,T),i=Zo(e);D.current.isValid!==i&&F({isValid:i})}),[T]),Q=(0,R.useCallback)(((t,e)=>function(t,e,i,r,n,s){const{ref:a,ref:{name:o,type:l}}=i,u=t.current[o];if(!n){const e=Wo(t,o,r);Fo(e)||No(r.current,o,e)}if(l)if((Go(a)||Ko(a))&&u){const{options:i}=u;Array.isArray(i)&&i.length?(Do(i).forEach(((t,r)=>{const{ref:n}=t;(n&&Jo(n)&&tl(t,n)||s)&&(jo(n,e),$o(i,`[${r}]`))})),i&&!Do(i).length&&delete t.current[o]):delete t.current[o]}else(Jo(a)&&tl(u,a)||s)&&(jo(a,e),delete t.current[o]);else delete t.current[o]}(l,b.current,t,_,a,e)),[a]),$=t=>{if(g.current)F();else if(c){let e=!0;for(const i of c.current)if(i.startsWith(t)){F(),e=!1;break}e&&q(t)}},tt=(0,R.useCallback)(((t,e)=>{t&&(Q(t,e),a&&!Do(t.options||[]).length&&($o(v.current,t.ref.name),$o(p.current,t.ref.name),$o(d.current,t.ref.name),$o(D.current.errors,t.ref.name),No(D.current.dirtyFields,t.ref.name,!0),F({errors:D.current.errors,isDirty:U(),dirtyFields:D.current.dirtyFields}),A.current.isValid&&w.current&&Z(),$(t.ref.name)))}),[Z,Q]),et=(0,R.useCallback)(((t,e,i)=>{const r=i?h.current[i]:c.current,n=Fo(e)?y.current:e,s=sl(l,_,!1,t);return il(t)?yl(s,t,r,Fo(e)?Io(n,t):e,!0):Array.isArray(t)?t.reduce(((t,e)=>Object.assign(Object.assign({},t),{[e]:yl(s,e,r,n)})),{}):(g.current=Fo(i),Bo(!Zo(s)&&s||n))}),[]);function it(t,e={}){const{name:i,type:r,value:n}=t,s=Object.assign({ref:t},e),a=l.current,o=_l(t),u=ml(E.current,i),c=e=>Rl&&(!_o(t)||e===t);let h,f=a[i],m=!0;if(f&&(o?Array.isArray(f.options)&&Do(f.options).find((t=>n===t.ref.value&&c(t.ref))):c(f.ref)))return void(a[i]=Object.assign(Object.assign({},f),e));f=r?o?Object.assign({options:[...Do(f&&f.options||[]),{ref:t}],ref:{type:r,name:i}},e):Object.assign({},s):s,a[i]=f;const g=Fo(Io(_.current,i));if(Zo(y.current)&&g||(h=Io(g?y.current:_.current,i),m=Fo(h),m||u||j(i,h)),Zo(e)||(No(d.current,i,!0),!C&&A.current.isValid&&dl(l,T,f,_).then((t=>{const e=D.current.isValid;Zo(t)?No(p.current,i,!0):$o(p.current,i),e!==Zo(t)&&F()}))),!(v.current[i]||u&&m)){const t=Wo(l,i,_);No(v.current,i,m?Po(t)?Object.assign({},t):t:h),!u&&$o(D.current.dirtyFields,i)}r&&function({ref:t},e,i){_o(t)&&i&&(t.addEventListener(e?Ro:ko,i),t.addEventListener(xo,i))}(o&&f.options?f.options[f.options.length-1]:f,o||"select-one"===t.type,b.current)}const rt=(0,R.useCallback)(((t,e)=>async i=>{i&&i.preventDefault&&(i.preventDefault(),i.persist());let r={},n=W(sl(l,_,!0));A.current.isSubmitting&&F({isSubmitting:!0});try{if(w.current){const{errors:t,values:e}=await w.current(n,k.current,T);D.current.errors=r=t,n=e}else for(const t of Object.values(l.current))if(t){const{ref:{name:e}}=t,i=await dl(l,T,t,_);i[e]?(No(r,e,i[e]),$o(p.current,e)):Io(d.current,e)&&($o(D.current.errors,e),No(p.current,e,!0))}Zo(r)&&Object.keys(D.current.errors).every((t=>t in l.current))?(F({errors:{},isSubmitting:!0}),await t(n,i)):(D.current.errors=Object.assign(Object.assign({},D.current.errors),r),e&&await e(D.current.errors,i),s&&((t,e)=>{for(const i in t)if(Io(e,i)){const e=t[i];if(e){if(e.ref.focus){e.ref.focus();break}if(e.options){e.options[0].ref.focus();break}}}})(l.current,D.current.errors))}finally{F({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zo(D.current.errors),errors:D.current.errors,submitCount:D.current.submitCount+1})}}),[s,T]);(0,R.useEffect)((()=>(m.current=!1,i&&A.current.isValid&&Z(),O.current=O.current||!Rl?O.current:function(t,e){const i=new MutationObserver((()=>{for(const i of Object.values(t.current))if(i&&i.options)for(const t of i.options)t&&t.ref&&Jo(t.ref)&&e(i);else i&&Jo(i.ref)&&e(i)}));return i.observe(window.document,{childList:!0,subtree:!0}),i}(l,tt),()=>{m.current=!0,O.current&&O.current.disconnect(),_.current={},Object.values(l.current).forEach((t=>tt(t,!0)))})),[tt]),!i&&A.current.isValid&&(M.isValid=al(p.current,d.current)&&Zo(D.current.errors));const nt={trigger:K,setValue:(0,R.useCallback)((function(t,e,i){X(t,e,i),Y(t)&&F(),q(t),(i||{}).shouldValidate&&K(t)}),[X,K]),getValues:(0,R.useCallback)(J,[]),register:(0,R.useCallback)((function(t,e){if(!xl)if(il(t))it({name:t},e);else{if(!Po(t)||!("name"in t))return e=>e&&it(e,t);it(t,e)}}),[y.current]),unregister:(0,R.useCallback)((function(t){for(const e of Array.isArray(t)?t:[t])tt(l.current[e],!0)}),[])},st=Object.assign({updateWatchedValue:$,shouldUnregister:a,removeFieldEventListener:Q,watchInternal:et,mode:S.current,reValidateMode:{isReValidateOnBlur:N,isReValidateOnChange:B},fieldsRef:l,resetFieldArrayFunctionRef:x,useWatchFieldsRef:h,useWatchRenderFunctionsRef:f,fieldArrayDefaultValuesRef:u,validFieldsRef:p,fieldsWithValidationRef:d,fieldArrayNamesRef:E,readFormStateRef:A,formStateRef:D,defaultValuesRef:y,shallowFieldsStateRef:_,updateFormState:F,validateResolver:i?Z:void 0},nt);return Object.assign({watch:function(t,e){return et(t,e)},control:st,formState:kl?new Proxy(M,{get:(t,e)=>{if(e in t)return A.current[e]=!0,t[e]}}):M,handleSubmit:rt,reset:(0,R.useCallback)(((t,e={})=>{if(Rl)for(const t of Object.values(l.current))if(t){const{ref:e,options:i}=t,r=_l(e)&&Array.isArray(i)?i[0].ref:e;if(_o(r))try{r.closest("form").reset();break}catch(t){}}l.current={},y.current=gl(t||y.current,Rl),t&&q(""),Object.values(x.current).forEach((t=>ul(t)&&t())),_.current=a?{}:gl(t,Rl)||{},(({errors:t,isDirty:e,isSubmitted:i,touched:r,isValid:n,submitCount:s,dirtyFields:a})=>{n||(p.current={},d.current={}),v.current={},u.current={},c.current=new Set,g.current=!1,F({submitCount:s?D.current.submitCount:0,isDirty:!!e&&D.current.isDirty,isSubmitted:!!i&&D.current.isSubmitted,isValid:!!n&&D.current.isValid,dirtyFields:a?D.current.dirtyFields:{},touched:r?D.current.touched:{},errors:t?D.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(e)}),[]),clearErrors:(0,R.useCallback)((function(t){t&&(Array.isArray(t)?t:[t]).forEach((t=>l.current[t]?Ao(t)?delete D.current.errors[t]:No(D.current.errors,t,void 0):$o(D.current.errors,t))),F({errors:t?D.current.errors:{}})}),[]),setError:(0,R.useCallback)((function(t,e){const i=(l.current[t]||{}).ref;No(D.current.errors,t,Object.assign(Object.assign({},e),{ref:i})),F({isValid:!1,errors:D.current.errors}),e.shouldFocus&&i&&i.focus&&i.focus()}),[]),errors:M.errors},nt)}(0,R.createContext)(null).displayName="RHFContext";var El=/^\s*(!custom)?|\s*$|\r|\n/g,Sl=(0,os.Pi)((function(t){var e,i=t.modalId,r=t.onEnterLevel,n=E().modal,s=wl(),a=s.register,o=s.handleSubmit,l=s.errors,u=s.formState,c=(0,R.useCallback)((function(t){n.dismiss(i),r(te(t.levelCode.replace(El,"")))}),[n,i,r]),h=(0,R.useCallback)((function(){n.dismiss(i)}),[n,i]),f=(0,R.useCallback)((function(t){try{return te(t.replace(El,"")),!0}catch(t){return String(t)}}),[]);return R.createElement(Oa.Dialog,{className:as()("_1bkTRSi10J1XX81P7KqzgE",t.className)},R.createElement(Oa.Header,{closeButton:!0,onHide:h},R.createElement(Oa.Title,null,"User Level")),R.createElement(Oa.Body,null,R.createElement(fo,{id:"levelCode",className:"_3YIFNcvkvOXJlzJS2tDvo4",noValidate:!0,onSubmit:o(c)},R.createElement(fo.Control,{name:"levelCode",className:"_1HX7VDBc6B1gXwN1cPLFSd",size:"sm",as:"textarea",placeholder:"Level Code",spellCheck:!1,isValid:u.isSubmitted&&!l.levelCode,isInvalid:u.isSubmitted&&!!l.levelCode,ref:a({required:!0,validate:f})}))),R.createElement(Oa.Footer,null,R.createElement(fo.Control.Feedback,{type:"invalid",className:l.levelCode&&"_1oP3LSlQD6k119DBeG-evy"},null===(e=l.levelCode)||void 0===e?void 0:e.message),R.createElement(bo,{variant:"primary",type:"submit",form:"levelCode"},"Enter")))}));var Cl=(0,os.Pi)((function(t){var e=E().modal;return R.createElement("div",{className:as()(t.className,"_1YO6ijDzaZegJFy3KSkWD3")},t.children,e.instances.map((function(t){return R.createElement(Ll,{key:t.id,modal:t})})))})),Ll=(0,os.Pi)((function(t){var e;switch(t.modal.type){case"enter-user-level":e=R.createElement(Sl,{className:"XDM1IjdKaqtg7GEyMOkfj",modalId:t.modal.id,onEnterLevel:t.modal.onEnterLevel})}return R.createElement("div",{className:"jHhg1Xn916RQQwZ0s7s_2"},e)}));var Tl=(0,os.Pi)((function(t){var e=t.controller,i=E(),r=i.library;(0,R.useEffect)((function(){r.load()}),[r]),(0,R.useEffect)((function(){if(e)return(0,A.aD)((function(){e.setRoot(i),i.controller=e}))(),(0,A.aD)((function(){i.controller=null,e.setRoot(null)}))}),[e,i]);var n=null;if(r.loadError)n=R.createElement("p",{className:"LCAupop7dIgTl9XRpoYFV"},r.loadError);else if(!r.value){var s="".concat((100*r.loadProgress).toFixed(0),"%");n=R.createElement("p",{className:"_2evwQHL3dV90YzfurLal93"},"Loading ",s,"...")}return n?R.createElement("div",{className:as()("_2SHScRcpk4tJfW1ZQK4Hh",t.className)},n):R.createElement("div",{className:as()("_2Zaciy3Lvjru2RM0r3QBnH",t.className)},R.createElement(Cl,null,R.createElement(ls,null)))}));const Ml=function(t){var e=(0,R.useState)(null),i=x()(e,2),r=i[0],n=i[1];return(0,R.useEffect)((function(){var t=new ns;return n(t),function(){return t.dispose()}}),[]),r?R.createElement(w,{value:r},R.createElement(Tl,t)):null}},1588:(t,e,i)=>{var r=i(3720);t.exports=function(t){if(Array.isArray(t))return r(t)}},9168:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},8183:(t,e,i)=>{var r=i(4624);function n(e,i,s){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=n=Reflect.get:t.exports=n=function(t,e,i){var n=r(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}},n(e,i,s||e)}t.exports=n},2094:t=>{function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e},8914:(t,e,i)=>{var r=i(4307);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},1325:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},333:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},2164:(t,e,i)=>{var r=i(8630),n=i(9168);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?n(t):e}},4307:t=>{function e(i,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,r)}t.exports=e},4624:(t,e,i)=>{var r=i(2094);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},8669:(t,e,i)=>{var r=i(1588),n=i(1325),s=i(7698),a=i(333);t.exports=function(t){return r(t)||n(t)||s(t)||a()}},8630:t=>{function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e},5034:()=>{},5350:(t,e,i)=>{"use strict";i.d(e,{j:()=>B,U:()=>N});var r=i(2738),n=i(2120),s=i(6300),a=i(3855),o=i(3441),l=i(2389),u=i(23);class c{constructor(t,e){this.id=t,this.image=e}}class h{constructor(t,e){this.id=t,this.audio=e}}var f,d,p=i(2526),y=i(1645);function v(t,e,i){return Math.round(e+(i-e)*t)}!function(t){t[t.Pad=0]="Pad"}(f||(f={})),function(t){t[t.SolidColor=0]="SolidColor",t[t.LinearGradient=1]="LinearGradient",t[t.RadicalGradient=2]="RadicalGradient",t[t.ClippedBitmap=3]="ClippedBitmap"}(d||(d={}));var m=i(8671),g=i(5355);function b(t,e){const i=new Float32Array(t.vertices),r=new Uint16Array(t.indices);let n=1/0,s=1/0,a=-1/0,o=-1/0;for(let e=0;e<t.vertices.length;e+=2){const t=i[e+0],r=i[e+1];n=Math.min(n,t),s=Math.min(s,r),a=Math.max(a,t),o=Math.max(o,r)}const l=m.J.fromValues(n,s,a-n,o-s);let u=null,c=4294967295;const h=p.yR(p.Ue());switch(t.fill.kind){case d.SolidColor:c=(0,g.u_)(t.fill.color);break;case d.LinearGradient:case d.RadicalGradient:const i=`${(f=t.fill.gradient).mode};${f.points.map((([t,e])=>`${t}:${e}`)).join(";")}`;u=e.gradientCache.get(i),u||(u=function(t){const e=document.createElement("canvas");e.width=256,e.height=1;const i=e.getContext("2d"),r=new Uint8ClampedArray(1024);for(let e=0;e<256;e++){let i,n=t.points.findIndex((([t,i])=>t>=e));-1===n?(i=t.points.length-1,n=t.points.length-1):i=0===n?0:n-1;const[s,a]=t.points[i],[o,l]=t.points[n],u=s===o?1:(e-s)/(o-s);r[4*e+3]=v(u,a>>>24&255,l>>>24&255),r[4*e+0]=v(u,a>>>16&255,l>>>16&255),r[4*e+1]=v(u,a>>>8&255,l>>>8&255),r[4*e+2]=v(u,a>>>0&255,l>>>0&255)}return i.putImageData(new ImageData(r,256,1),0,0),e}(t.fill.gradient),e.gradientCache.set(i,u)),p.t8(h,...t.fill.matrix),_(h,32768,32768,.5);break;case d.ClippedBitmap:u=e.resolveImage(t.fill.characterId),p.t8(h,...t.fill.matrix),_(h,u.width,u.height,0)}var f;const b=new Uint32Array(i.length/2);return b.fill(c),new y.r("shape",i,b,r,h,u,t.fill.kind,l)}function _(t,e,i,r){p.U_(t,t),p.bA(t,t,[1/e,1/i]),t[4]=t[4]/e+r,t[5]=t[5]/i+r}class x{constructor(t,e,i){this.id=t,this.renderObjects=e.contours.map((t=>b(t,i))),this.bounds=m.J.create();for(const t of this.renderObjects)m.J.union(this.bounds,this.bounds,t.bounds)}applyTo(t){t.__node.setRenderObjects(this.renderObjects,this.bounds)}}class R{constructor(t,e,i){this.id=t,this.frames=new Map;for(const[t,r]of e.frames){const e=r.contours.map((t=>b(t,i))),n=m.J.create();for(const t of e)m.J.union(n,n,t.bounds);this.frames.set(t,{renderObjects:e,bounds:n})}}applyTo(t){const e=this.frames.get(t.__ratio);e?t.__node.setRenderObjects(e.renderObjects,e.bounds):console.warn(`no ratio frame #${t.__ratio} for morph shape #${this.id}`)}}var k=i(5950),w=i(843);class E{constructor(t,e,i){this.id=t,this.library=i,this.numFrames=e.numFrames,this.frames=e.frames}applyTo(t,e,i){const r=new Map,n=[],s=t=>{const e=this.frames.find((e=>e.frame===t));if(e){n.length=0;for(const t of e.actions){if(t.kind===k.z.StartSound){n.push(t);continue}const e=r.get(t.depth);e&&e.kind===t.kind?e.kind===k.z.PlaceObject&&r.set(t.depth,{...e,...t}):r.set(t.depth,t)}}};if(i>=e)for(let t=e;t<=i;t++)s(t);else{for(const e of t.__children)e.__depth>=0&&r.set(e.__depth,{kind:k.z.RemoveObject,depth:e.__depth});for(let t=1;t<=i;t++)s(t)}for(const e of r.values())switch(e.kind){case k.z.PlaceObject:(0,w.WO)(this.library,t,e);break;case k.z.RemoveObject:(0,w.Ff)(t,e)}for(const e of n)(0,w.jf)(this.library,t.__soundContext,e);(0,w.PU)(t)}}class S{constructor(t,e,i){this.id=t,this.font=e,this.charMap=new Map,this.glyphs=e.glyphs.map((t=>{const e=t.shape.contours.map((t=>b(t,i)));return{renderObjects:y.r.merge("text",e.map((t=>({renderObject:t,transform:p.yR(p.Ue())}))))}}));for(let t=0;t<e.glyphs.length;t++){const i=e.glyphs[t].char;i&&this.charMap.set(i,t)}this.layout=e.layout&&{ascent:e.layout.ascent/1024,descent:e.layout.descent/1024,leading:e.layout.ascent/1024,advances:e.layout.advances.map((t=>t/1024))}}}class C{constructor(t,e,i){this.id=t,this.renderObjects=[],this.bounds=m.J.fromValues(...e.bounds);const r=p.al(...e.matrix),n=[];for(const t of e.glyphs){const e=i.resolveFont(t.fontId).glyphs[t.index],s=p.Ue();p.Iu(s,r,[t.x,t.y]),p.bA(s,s,[t.size/1024/20,t.size/1024/20]);const a=(0,g.u_)(t.color);for(const t of e.renderObjects)n.push({renderObject:t,color:a,transform:s})}this.renderObjects=y.r.merge("text",n)}applyTo(t){t.__node.setRenderObjects(this.renderObjects,this.bounds)}}class L{constructor(t,e,i){this.id=t,this.lib=i,this.def={...e,fontHeight:e.fontHeight&&e.fontHeight/20,leftMargin:e.leftMargin&&e.leftMargin/20,rightMargin:e.rightMargin&&e.rightMargin/20,indent:e.indent&&e.indent/20,leading:e.leading&&e.leading/20},this.layoutBounds=m.J.fromValues(...e.bounds)}applyTo(t){var e,i;switch(t.wordWrap=this.def.isWordWrap,t.multiline=this.def.isMultiline,t.type=this.def.isReadonly?l.TextFieldType.DYNAMIC:l.TextFieldType.INPUT,t.selectable=!this.def.noSelect,m.J.copy(t.__container.layoutBounds,this.layoutBounds),this.def.align){case 0:t.defaultTextFormat.align=l.TextFormatAlign.LEFT;break;case 1:t.defaultTextFormat.align=l.TextFormatAlign.RIGHT;break;case 2:t.defaultTextFormat.align=l.TextFormatAlign.CENTER;break;case 3:t.defaultTextFormat.align=l.TextFormatAlign.JUSTIFY}null!=this.def.textColor&&(t.defaultTextFormat.color=this.def.textColor),null!=this.def.fontID&&(t.defaultTextFormat.font=this.lib.resolveFont(this.def.fontID).font.name),null!=this.def.fontHeight&&(t.defaultTextFormat.size=this.def.fontHeight),null!=this.def.leading&&(t.defaultTextFormat.leading=this.def.leading),this.def.isHTML?t.htmlText=null!==(e=this.def.initialText)&&void 0!==e?e:"":t.text=null!==(i=this.def.initialText)&&void 0!==i?i:""}}var T=i(2166),M=i(6217),P=i(7760),A=i(5351),D=i(6375);async function O(t,e,i){i(0,e);const r=(await fetch(t)).body.getReader(),n=[];let s=0;for(;;){const t=await r.read();if(t.done)break;n.push(t.value),s+=t.value.length,i(s,e)}const a=new Uint8Array(s);let o=0;for(const t of n)a.set(t,o),o+=t.length;return i(s,s),a}async function N(t,e){const i=new Map;for(const[e,{size:r}]of Object.entries(t.assets))i.set(e,[0,r]);const r=t=>(r,n)=>{i.set(t,[r,n]);let s=0,a=0;for(const[t,e]of i.values())s+=t,a+=e;null==e||e(s/a)},n=t.assets[t.data],s=await O(n.url.toString(),n.size,r(t.data)),a=JSON.parse((new TextDecoder).decode(s)),o=new B(t.properties);await Promise.all([...Array.from(Object.entries(a.images)).map((async([e,{id:i}])=>{const n=t.assets[i],s=await new Promise(((t,e)=>{const s=r(i);s(0,n.size);let a=0;const o=new Image;o.onload=()=>{s(a,a),t(o)},o.onerror=t=>e(t),o.onprogress=t=>{a=t.loaded,s(a,n.size)},o.src=n.url.toString()}));o.images.set(Number(e),new c(Number(e),s))})),...Array.from(Object.entries(a.sounds)).map((async([e,{id:i}])=>{const n=t.assets[i],s=await O(n.url.toString(),n.size,r(i)),a=await(0,D.k)(s.buffer);o.sounds.set(Number(e),new h(Number(e),a))}))]);for(const[t,e]of Object.entries(a.shapes)){const i=Number(t);o.shapes.set(i,new x(i,e,o))}for(const[t,e]of Object.entries(a.morphShapes)){const i=Number(t),r=new R(i,e,o);o.morphShapes.set(i,r)}for(const[t,e]of Object.entries(a.sprites)){const i=Number(t);o.sprites.set(i,new E(i,e,o))}for(const[t,e]of Object.entries(a.fonts)){const i=Number(t),r=new S(i,e,o);o.fonts.set(i,r),M.t.instance.registerFont(r)}for(const[t,e]of Object.entries(a.staticTexts)){const i=Number(t),r=new C(i,e,o);o.staticTexts.set(i,r)}for(const[t,e]of Object.entries(a.editTexts)){const i=Number(t),r=new L(i,e,o);o.editTexts.set(i,r)}for(const[t,e]of Object.entries(a.buttons)){const i=Number(t),r=new T.p(i,e,o);o.buttons.set(i,r)}for(const[t,e]of Object.entries(a.linkages)){const i=A.Z.instance.classes.get(e);if(!i)throw new Error(`Linked class ${e} not found`);const r=Number(t);o.linkedClasses.set(r,i)}return o.linkCharacters(),o}class B{constructor(t){this.properties=t,this.images=new Map,this.sounds=new Map,this.shapes=new Map,this.morphShapes=new Map,this.sprites=new Map,this.fonts=new Map,this.staticTexts=new Map,this.editTexts=new Map,this.buttons=new Map,this.linkedClasses=new Map,this.gradientCache=new Map}resolveImage(t){const e=this.images.get(t);if(!e)throw new Error(`Image character #${t} not found`);return e.image}resolveFont(t){const e=this.fonts.get(t);if(!e)throw new Error(`Font character #${t} not found`);return e}linkCharacters(){const t=(t,e)=>{for(const[i,r]of t){let t=this.linkedClasses.get(i);if(!t){const n="Character"+i;t=class extends(e(r)){},Object.defineProperty(t,"name",{value:n}),this.linkedClasses.set(i,t)}Object.assign(t,{__character:r})}};t(this.sounds,(()=>u.Sound)),t(this.shapes,(()=>r.b)),t(this.morphShapes,(()=>n.W)),t(this.sprites,(t=>t.numFrames>1?a.K:s.j)),t(this.staticTexts,(()=>o.V)),t(this.editTexts,(()=>l.TextField)),t(this.buttons,(()=>P.SimpleButton))}instantiateCharacter(t){const e=this.linkedClasses.get(t);if(!e)throw new Error(`Character ${t} not found`);return new e}}},5351:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});class r{constructor(){this.classes=new Map}addClassRoot(t){const e=(t,i)=>{for(const[r,n]of Object.entries(i)){const i=""===t?r:`${t}.${r}`;"function"==typeof n?this.classes.set(i,n):"object"==typeof n&&e(i,n)}};e("",t)}}r.instance=new r},6217:(t,e,i)=>{"use strict";i.d(e,{t:()=>r});class r{constructor(){this.fonts=new Map}registerFont(t){const e=this.fonts.get(t.font.name)||[];e.push(t),this.fonts.set(t.font.name,e)}resolve(t,e,i){const r=this.fonts.get(t)||[];for(const t of r)if(t.font.isItalic===e&&t.font.isBold===i)return t;return null}}r.instance=new r},1455:()=>{},5030:()=>{},7964:(t,e,i)=>{"use strict";i.d(e,{i:()=>n});const r=new WeakMap;class n{constructor(){let t=Reflect.getPrototypeOf(this),e=r.get(t);if(!e){const i=new Map;for(;t&&t!==n.prototype;){for(const e of Reflect.ownKeys(t)){if(i.has(e))continue;const r=Reflect.getOwnPropertyDescriptor(t,e);r&&"function"==typeof r.value&&i.set(e,r.value)}t=Reflect.getPrototypeOf(t)}i.delete("constructor"),e=Array.from(i.entries()),r.set(Reflect.getPrototypeOf(this),e)}for(const[t,i]of e)this[t]=i.bind(this);this.__preInit()}__preInit(){}}},3919:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AVMObject:()=>a.i,Class:()=>s,Runtime:()=>r,XML:()=>n});class r{static trace(...t){console.log(...t)}static uint(t){return(0|t)>>>0}static int(t){return 0|t}static isInterface(t,e){return e.__IMPL in t}}class n{}const s=Function;var a=i(7964)},3349:()=>{},489:(t,e,i)=>{"use strict";var r;i.d(e,{P:()=>r}),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(r||(r={}))},4539:()=>{},6305:()=>{},5400:()=>{},4834:()=>{},214:()=>{},5950:(t,e,i)=>{"use strict";var r;i.d(e,{z:()=>r}),function(t){t[t.PlaceObject=0]="PlaceObject",t[t.RemoveObject=1]="RemoveObject",t[t.StartSound=2]="StartSound"}(r||(r={}))},2573:()=>{},8454:(t,e,i)=>{"use strict";i.r(e),i.d(e,{FrameActionKind:()=>l.z,TextAlign:()=>h.P});var r=i(6305),n={};for(const t in r)"default"!==t&&(n[t]=()=>r[t]);i.d(e,n);var s=i(214);n={};for(const t in s)"default"!==t&&(n[t]=()=>s[t]);i.d(e,n);var a=i(4834);n={};for(const t in a)"default"!==t&&(n[t]=()=>a[t]);i.d(e,n);var o=i(5400);n={};for(const t in o)"default"!==t&&(n[t]=()=>o[t]);i.d(e,n);var l=i(5950),u=i(4539);n={};for(const t in u)["default","FrameActionKind"].indexOf(t)<0&&(n[t]=()=>u[t]);i.d(e,n);var c=i(2573);n={};for(const t in c)["default","FrameActionKind"].indexOf(t)<0&&(n[t]=()=>c[t]);i.d(e,n);var h=i(489),f=i(3349);n={};for(const t in f)["default","FrameActionKind","TextAlign"].indexOf(t)<0&&(n[t]=()=>f[t]);i.d(e,n)},94:(t,e,i)=>{"use strict";i.r(e),i.d(e,{character:()=>r,text:()=>n,avm2:()=>s,AssetLibrary:()=>a.j,loadManifest:()=>a.U,FontRegistry:()=>h.t,ClassRegistry:()=>f.Z});var r=i(8454),n=i(1759),s=i(3919),a=i(5350),o=i(5030),l={};for(const t in o)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>o[t]);i.d(e,l);var u=i(5034);l={};for(const t in u)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>u[t]);i.d(e,l);var c=i(1455);l={};for(const t in c)["default","character","text","avm2","AssetLibrary","loadManifest"].indexOf(t)<0&&(l[t]=()=>c[t]);i.d(e,l);var h=i(6217),f=i(5351)},9956:(t,e,i)=>{"use strict";i.d(e,{W:()=>u});var r=i(7264),n=i(2389),s=i(4674),a=i(8671);const o=new DOMParser,l=a.J.create();class u{constructor(t){this.node=t,this.segments=[],this.htmlRoot=o.parseFromString("<root />","text/xml").documentElement,this.defaultTextFormat=new r.S,this.wordWrap=!1,this.multiline=!1,this.layoutBounds=a.J.create(),this.layoutScale=1,this.__text="",this.__htmlText=""}get text(){return this.__text}set text(t){this.__text!==t&&(this.htmlRoot.textContent=t,this.parseHTML())}get htmlText(){return this.__htmlText}set htmlText(t){if(this.__htmlText!==t){try{this.htmlRoot.innerHTML=t}catch(t){}this.parseHTML()}}parseHTML(){var t;const e=this.htmlRoot.ownerDocument.createTreeWalker(this.htmlRoot,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let i={format:this.defaultTextFormat.__clone(),text:""};const r=[i],s=[],a=t=>{const e=i.format.__clone();let a="";switch(t.tagName.toLowerCase()){case"b":e.bold=!0;break;case"br":a="\n";break;case"font":for(let i=0;i<t.attributes.length;i++){const r=t.attributes[i];switch(r.name.toLowerCase()){case"color":/^#[0-9a-fA-F]{6}$/.test(r.value)&&(e.color=parseInt(r.value.slice(1),16)+4278190080);break;case"face":e.font=r.value;break;case"size":/^\d+$/.test(r.value)&&(e.size=Number(r.value))}}break;case"i":e.italic=!0;break;case"p":for(let i=0;i<t.attributes.length;i++){const r=t.attributes[i];switch(r.name.toLowerCase()){case"align":switch(r.value){case"left":e.align=n.TextFormatAlign.LEFT;break;case"right":e.align=n.TextFormatAlign.RIGHT;break;case"justify":e.align=n.TextFormatAlign.JUSTIFY;break;case"center":e.align=n.TextFormatAlign.CENTER}}break}}i={format:e,text:a},r.push(i),s.push(i)},o=t=>{r.pop(),i=r[r.length-1]};let l=e.root;for(;l;){let t;if(l instanceof Text?(u=l,i.text+=u.textContent):l instanceof Element&&a(l),t=e.firstChild())l=t;else if(t=e.nextSibling())l=t;else{for(;(t=e.parentNode())&&(t instanceof Element&&o(),!(t=e.nextSibling())););!t&&l instanceof Element&&o(),l=t}}var u;this.segments=s.filter((t=>t.text.length>0)),this.__text=null!==(t=this.htmlRoot.textContent)&&void 0!==t?t:"",this.__htmlText=this.htmlRoot.innerHTML,this.layout()}layout(){a.J.copy(l,this.layoutBounds),l[2]*=this.layoutScale;const t=(0,s.b)(this.segments,l,this.wordWrap,this.multiline);this.node.setRenderObjects(t.renderObjects,l)}}},1271:()=>{},1759:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Container:()=>r.W,layout:()=>a.b});var r=i(9956),n=i(1271),s={};for(const t in n)["default","Container"].indexOf(t)<0&&(s[t]=()=>n[t]);i.d(e,s);var a=i(4674)},4674:(t,e,i)=>{"use strict";i.d(e,{b:()=>h});var r=i(5543),n=i(2526),s=i(2389),a=i(1645),o=i(5355),l=i(8671),u=i(6217),c=i(8513);function h(t,e,i,r){const n=function(t,e,i,r){let n=null;const s=[];for(const{format:e,text:i}of t)for(const t of i){const i=/\s/.test(t);n&&n.isSpace===i||(n={isSpace:i,text:"",glyphs:[],width:0},s.push(n));const r=p(e,t),a=r.advance;n.glyphs.push(r),n.width+=a}let a=0,o={runs:[],isWrapped:!1};const l=[o];for(const t of s)/\n/.test(t.text)?(a=0,o={runs:[],isWrapped:!1},l.push(o)):(i&&a+t.width>e[2]&&o.runs.length>0&&(a=0,o={runs:[],isWrapped:!0},l.push(o)),a+=t.width,o.runs.push(t));return l.map((t=>{let e=t.runs,i=e.length;for(;i>0&&e[i-1].isSpace;)i--;if(e=e.slice(0,i),t.isWrapped){let t=0;for(;t<e.length&&e[t].isSpace;)t++;e=e.slice(t)}const r=[];let n=0;for(const t of e)r.push(...t.glyphs),n+=t.width;return{glyphs:r,width:n}}))}(t,e,i),s=l.J.create(),a=[];let o=e[1]+(0,c.E_)(2);for(const t of n){const i=y(t,o,e);a.push(...i.renderObjects),l.J.union(s,s,i.bounds),o+=i.bounds[3]}return{bounds:s,renderObjects:a}}function f(t){return Math.min(127,t.size)}function d(t){return{renderObjects:[],color:t.color,align:t.align,size:f(t),leading:t.leading,advance:f(t),ascent:f(t),descent:0}}function p(t,e){var i,r,n,s,a,o;const l=u.t.instance.resolve(t.font,t.italic,t.bold);if(!l)return d(t);const c=l.charMap.get(e);return null==c?d(t):{renderObjects:l.glyphs[c].renderObjects,color:t.color,align:t.align,size:f(t),leading:t.leading,advance:(null!==(r=null===(i=l.layout)||void 0===i?void 0:i.advances[c])&&void 0!==r?r:0)*f(t),ascent:null!==(s=null===(n=l.layout)||void 0===n?void 0:n.ascent)&&void 0!==s?s:0,descent:null!==(o=null===(a=l.layout)||void 0===a?void 0:a.descent)&&void 0!==o?o:0}}function y(t,e,i){if(0===t.glyphs.length)return{bounds:l.J.create(),renderObjects:[]};const u=i[0]+(0,c.E_)(2),h=i[2]-(0,c.E_)(4);let f,d;switch(t.glyphs[0].align){case s.TextFormatAlign.RIGHT:f=0,d=u+h-t.width;break;case s.TextFormatAlign.CENTER:f=0,d=u+(h-t.width)/2;break;case s.TextFormatAlign.JUSTIFY:f=t.glyphs.length>0?u+(h-t.width)/(t.glyphs.length-1):0,d=0;break;default:f=0,d=u}const p=[];let y=0,v=0;for(const e of t.glyphs)y=Math.max(y,e.ascent*e.size);for(const e of t.glyphs)v=Math.max(v,y+e.descent*e.size+e.leading);r.Ue();for(const i of t.glyphs){const t=n.Ue();n.vc(t,[d,e+y]),n.bA(t,t,[i.size/1024,i.size/1024]);const r=(0,o.u_)(i.color);for(const e of i.renderObjects)p.push({renderObject:e,color:r,transform:t});d+=i.advance+f}return{bounds:l.J.fromValues(u,e,d-u,v),renderObjects:a.r.merge("text",p)}}},2640:(t,e,i)=>{"use strict";i.d(e,{s:()=>b});var r=i(5543),n=i(2526),s=i(570),a=i(8281),o=i(8745),l=i(7069),u=i(2942),c=i(230),h=i(8513),f=i(2550),d=i(9378),p=i(4495);const y=p.A.create(),v=r.Ue(),m=n.Ue();let g=null;class b extends s.p{constructor(){const t=g;g=null,super(),this.__scaleSkews={scaleX:1,scaleY:1,skewX:0,skewY:0},null==t||t.fn(this)}static __initChar(t,e){return g={fn:e},t()}__preInit(){this.__character=null,this.__depth=-1,this.__clipDepth=-1,this.__parent=null,this.name="",this.__mask=null,this.__maskRefs=0,this.__filters=[],this.__node=new c.B(this),this.transform=new o.w,this.transform.__setNode(this.__node),super.__preInit()}get visible(){return this.__node.visible}set visible(t){this.__node.visible=t}get parent(){return this.__parent}set parent(t){const e=this.stage;this.__parent=t;const i=this.stage;i!==e&&(i?(i.__displayListDirty=!0,this.__onAddedToStage(i)):e&&this.__onRemovedFromStage(e)),this.__setEventParent(this.parent)}get stage(){var t,e;return null!==(e=null===(t=this.parent)||void 0===t?void 0:t.stage)&&void 0!==e?e:null}get mask(){return this.__mask}set mask(t){var e;this.__mask&&(this.__mask.__maskRefs--,this.__mask.__node.isMask=this.__mask.__maskRefs>0),this.__mask=t,this.__node.mask=null!==(e=null==t?void 0:t.__node)&&void 0!==e?e:null,this.__node.markRenderDirty(),this.__mask&&(this.__mask.__maskRefs++,this.__mask.__node.isMask=this.__mask.__maskRefs>0)}get filters(){return this.__filters}set filters(t){this.__filters=t,this.__node.filters=t.map((t=>t.__filter)).filter((t=>t.filter.isEffective(t))),this.__node.markRenderDirty()}get cacheAsBitmap(){return this.__node.cacheAsBitmap||this.__node.filters.length>0}set cacheAsBitmap(t){this.__node.cacheAsBitmap=t}get x(){return(0,h.Sh)(this.__node.transformLocal[4])}set x(t){t=(0,h.E_)(t),this.__node.transformLocal[4]!==t&&(this.__node.transformLocal[4]=t,this.__node.markLayoutDirty())}get y(){return(0,h.Sh)(this.__node.transformLocal[5])}set y(t){t=(0,h.E_)(t),this.__node.transformLocal[5]!==t&&(this.__node.transformLocal[5]=t,this.__node.markLayoutDirty())}get scaleX(){return this.__scaleSkews.scaleX}set scaleX(t){this.__scaleSkews.scaleX=t,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&(this.transform.matrix.__fromMat2d(this.__node.transformLocal),this.__node.markLayoutDirty())}get scaleY(){return this.__scaleSkews.scaleY}set scaleY(t){this.__scaleSkews.scaleY=t,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&(this.transform.matrix.__fromMat2d(this.__node.transformLocal),this.__node.markLayoutDirty())}get rotation(){return(0,f.lS)(180*this.__scaleSkews.skewY/Math.PI)}set rotation(t){const e=t/180*Math.PI-this.__scaleSkews.skewY;this.__scaleSkews.skewX+=e,this.__scaleSkews.skewY+=e,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&(this.transform.matrix.__fromMat2d(this.__node.transformLocal),this.__node.markLayoutDirty())}get width(){return this.parent?this.getBounds(this.parent).width:(this.__node.ensureLayout(),this.__node.ensureBounds(),(0,h.Sh)(this.__node.boundsLocal[2]))}set width(t){this.__node.ensureLayout(),this.__node.ensureBounds(),t=(0,h.E_)(t);const e=this.__node.bounds[2]-this.__node.bounds[0],i=this.__node.bounds[3]-this.__node.bounds[1],r=i/e,n=0===e?0:t/e,s=0===i?0:t/i,a=Math.abs(Math.cos(this.__scaleSkews.skewY)),o=Math.abs(Math.sin(this.__scaleSkews.skewY)),l=r*(a*n+o*s)/((a+r*o)*(r*a+o)),u=(o*this.__scaleSkews.scaleX+r*a*this.__scaleSkews.scaleY)/(r*a+o);this.__scaleSkews.scaleX=l,this.__scaleSkews.scaleY=u,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&(this.transform.matrix.__fromMat2d(this.__node.transformLocal),this.__node.markLayoutDirty())}get height(){return this.parent?this.getBounds(this.parent).height:(this.__node.ensureLayout(),this.__node.ensureBounds(),(0,h.Sh)(this.__node.boundsLocal[3]))}set height(t){this.__node.ensureLayout(),this.__node.ensureBounds(),t=(0,h.E_)(t);const e=this.__node.bounds[2]-this.__node.bounds[0],i=this.__node.bounds[3]-this.__node.bounds[1],r=e/i,n=0===e?0:t/e,s=0===i?0:t/i,a=Math.abs(Math.cos(this.__scaleSkews.skewY)),o=Math.abs(Math.sin(this.__scaleSkews.skewY)),l=(r*a*this.__scaleSkews.scaleX+o*this.__scaleSkews.scaleY)/(r*a+o),u=r*(o*n+a*s)/((a+r*o)*(r*a+o));this.__scaleSkews.scaleX=l,this.__scaleSkews.scaleY=u,(0,f.qC)(this.__node.transformLocal,this.__scaleSkews)&&(this.transform.matrix.__fromMat2d(this.__node.transformLocal),this.__node.markLayoutDirty())}get mouseX(){const t=this.stage;return t?(this.__globalToLocal(v,t.__mousePosition,!0),v[0]):0}get mouseY(){const t=this.stage;return t?(this.__globalToLocal(v,t.__mousePosition,!0),v[1]):0}__globalToLocal(t,e,i){i&&this.__node.ensureLayout(),t[0]=(0,h.E_)(e[0]),t[1]=(0,h.E_)(e[1]),r.iu(t,t,this.__node.transformWorldInvert),t[0]=(0,h.Sh)(t[0]),t[1]=(0,h.Sh)(t[1])}globalToLocal(t){const e=new l.E;return this.__globalToLocal(e.__value,t.__value,!0),e}hitTestPoint(t,e,i=!1){return!!this.visible&&(this.__node.ensureLayout(),r.t8(v,t,e),this.__node.hitTest(v,i))}hitTestObject(t){return this.__node.ensureLayout(),t.__node.ensureLayout(),this.__node.ensureBounds(),t.__node.ensureBounds(),p.A.intersects(t.__node.boundsWorld,this.__node.boundsWorld)}getBounds(t){this.__node.ensureLayout(),t.__node.ensureLayout(),this.__node.ensureBounds(),t.__node.ensureBounds(),(0,d.Yu)(m,t.__node.transformWorldInvert,this.__node.transformWorld),p.A.apply(y,this.__node.bounds,m);const e=new u.A;return e.x=(0,h.Sh)(y[0]),e.y=(0,h.Sh)(y[1]),e.width=(0,h.Sh)(y[2]-y[0]),e.height=(0,h.Sh)(y[3]-y[1]),e}__initFrame(t,e){}__onRender(){}__onAddedToStage(t){this.dispatchEvent(new a.j(a.j.ADDED_TO_STAGE,!1,!1))}__onRemovedFromStage(t){this.dispatchEvent(new a.j(a.j.REMOVED_FROM_STAGE,!1,!1))}}},581:(t,e,i)=>{"use strict";i.d(e,{_:()=>n});var r=i(8077);class n extends r.D{__preInit(){this.__children=[],super.__preInit()}get numChildren(){return this.__children.length}addChild(t){var e;return null===(e=t.parent)||void 0===e||e.removeChild(t),this.__children.push(t),t.parent=this,t.__node.setParent(this.__node,this.__node.children.length),t}addChildAt(t,e){var i;return null===(i=t.parent)||void 0===i||i.removeChild(t),this.__children.splice(e,0,t),t.parent=this,t.__node.setParent(this.__node,e),t}getChildByName(t){var e;return null!==(e=this.__children.find((e=>e.name===t)))&&void 0!==e?e:null}getChildAt(t){var e;return null!==(e=this.__children[t])&&void 0!==e?e:null}removeChild(t){const e=this.__children.indexOf(t);return e<0?null:(this.__children.splice(e,1),t.parent=null,t.__node.setParent(null,0),t)}removeChildAt(t){var e;const i=null!==(e=this.__children.splice(t,1)[0])&&void 0!==e?e:null;return i&&(i.parent=null,i.__node.setParent(null,0)),i}removeChildren(t=0,e=this.__children.length){const i=this.__children.splice(t,e-t);for(const t of i)t.parent=null,t.__node.setParent(null,0)}contains(t){return this.__children.includes(t)}__onAddedToStage(t){for(const e of this.__children)e.__onAddedToStage(t);super.__onAddedToStage(t)}__onRemovedFromStage(t){super.__onRemovedFromStage(t);for(const e of this.__children)e.__onRemovedFromStage(t)}__onRender(){super.__onRender();for(const t of this.__children)t.__onRender()}}},9838:(t,e,i)=>{"use strict";i.d(e,{T:()=>l});var r=i(7964),n=i(5355),s=i(1645),a=i(8671),o=i(8513);class l extends r.i{constructor(t){super(),this.__node=t,this.__x=0,this.__y=0,this.__lineThickness=-1,this.__lineColor=4278190080,this.__bounds=a.J.create(),this.__renderObjects=[]}clear(){this.__x=0,this.__y=0,this.__lineThickness=-1,this.__lineColor=4278190080,a.J.clear(this.__bounds),this.__renderObjects.length=0,this.__node.setRenderObjects([],this.__bounds)}lineStyle(t=NaN,e=0,i=1){this.__lineThickness=isNaN(t)?-1:t,this.__lineColor=(0,n.u_)(e+16777216*Math.floor(255*i))}moveTo(t,e){this.__x=t,this.__y=e}lineTo(t,e){const i=s.r.line((0,o.E_)(this.__x),(0,o.E_)(this.__y),(0,o.E_)(t),(0,o.E_)(e),(0,o.E_)(this.__lineThickness),this.__lineColor);this.__renderObjects.push(i),a.J.union(this.__bounds,this.__bounds,i.bounds),this.__node.setRenderObjects(this.__renderObjects.slice(),this.__bounds),this.__x=t,this.__y=e}}},8077:(t,e,i)=>{"use strict";i.d(e,{D:()=>n});var r=i(2640);class n extends r.s{constructor(){super(),this.tabEnabled=!1,this.tabIndex=-1}get __isPointerCursor(){return!!this.parent&&this.parent.__isPointerCursor}}},2120:(t,e,i)=>{"use strict";i.d(e,{W:()=>n});var r=i(2640);class n extends r.s{constructor(){var t,e;super(),this.___ratio=0,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}get __ratio(){return this.___ratio}set __ratio(t){var e;this.___ratio=t,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},3855:(t,e,i)=>{"use strict";i.d(e,{K:()=>a});var r=i(6300),n=i(8433),s=i(5511);class a extends r.j{constructor(){super(),this.__lastFrame=-1,this.__constructed=!1,this.__frameScripts=new Map,this.__scriptFrame=0,this.__nextFrame=1,this.currentFrame=1,this.isPlaying=!0}get totalFrames(){var t,e;return null!==(e=null===(t=this.__character)||void 0===t?void 0:t.numFrames)&&void 0!==e?e:1}__initFrame(t,e){var i;if(super.__initFrame(t,e),e&&this.isPlaying&&this.__constructed&&this.__lastFrame===this.currentFrame){let t=this.__nextFrame+1;(t>this.totalFrames||t<1)&&(t=1),this.__nextFrame=t}this.__nextFrame!==this.currentFrame&&(null===(i=this.__character)||void 0===i||i.applyTo(this,this.currentFrame,this.__nextFrame),this.currentFrame=this.__nextFrame),this.__constructed||t.__constructionQueue.push(this),this.__scriptFrame!==this.currentFrame&&(0,n.s)((()=>this.__runFrameScript())),e&&(this.__lastFrame=this.currentFrame)}__constructFrame(){this.__constructed=!0}__runFrameScript(){if(this.__scriptFrame!==this.currentFrame){this.__scriptFrame=this.currentFrame;const t=this.__frameScripts.get(this.__scriptFrame);null==t||t()}}addFrameScript(...t){for(let e=0;e<t.length;e+=2)this.__frameScripts.set(t[e]+1,t[e+1])}__resolveFrame(t){var e,i;const r=Number(t);if(!isNaN(r))return r;const n=null===(i=null===(e=this.__character)||void 0===e?void 0:e.frames)||void 0===i?void 0:i.find((e=>e.label===t));return n?n.frame:null}gotoAndPlay(t){var e;const i=this.__resolveFrame(t);i&&(this.__nextFrame=i),this.isPlaying=!0;const r=null!==(e=this.stage)&&void 0!==e?e:s.H.__current;r&&(r.__initQueue.push(this),(0,n.E)(!1,r))}gotoAndStop(t){var e;const i=this.__resolveFrame(t);i&&(this.__nextFrame=i),this.isPlaying=!1;const r=null!==(e=this.stage)&&void 0!==e?e:s.H.__current;r&&(r.__initQueue.push(this),(0,n.E)(!1,r))}play(){this.isPlaying=!0}stop(){this.isPlaying=!1}__onAddedToStage(t){super.__onAddedToStage(t),t.__initQueue.push(this)}}},2738:(t,e,i)=>{"use strict";i.d(e,{b:()=>s});var r=i(2640),n=i(9838);class s extends r.s{constructor(){var t,e;super(),this.graphics=new n.T(this.__node),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},6300:(t,e,i)=>{"use strict";i.d(e,{j:()=>a});var r=i(581),n=i(9838),s=i(1719);class a extends r._{constructor(){super(),this.buttonMode=!1,this.graphics=new n.T(this.__node)}__preInit(){var t,e;super.__preInit(),this.__soundContext=new s.$,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this,1,1)}get __isPointerCursor(){return this.buttonMode||super.__isPointerCursor}}},5511:(t,e,i)=>{"use strict";i.d(e,{H:()=>H});var r=i(5543),n=i(581),s=i(8077);class a{constructor(t,e){this.width=t,this.height=e,this.container=document.createElement("div"),this.element=document.createElement("canvas"),this.__cursor="",this.container.style.setProperty("width",t+"px"),this.container.style.setProperty("height",e+"px"),this.container.style.setProperty("position","relative"),this.element.tabIndex=0,this.element.style.setProperty("outline","none","important"),this.element.style.setProperty("position","absolute"),this.element.style.setProperty("width",t+"px"),this.element.style.setProperty("height",e+"px"),this.element.width=t*window.devicePixelRatio,this.element.height=e*window.devicePixelRatio,this.container.appendChild(this.element)}get cursor(){return this.__cursor}set cursor(t){t!==this.__cursor&&(this.element.style.cursor=t,this.__cursor=t)}resolveCoords(t,e,i){const r=this.element.getBoundingClientRect();t[0]=e-r.left,t[1]=i-r.top}}var o=i(2526),l=i(4945),u=i(8671),c=i(5355),h=i(8513),f=i(9378);const d=l.al(1,1,1,1),p=l.al(0,0,0,0);class y{constructor(t){this.renders=[],this.transformStack=[],this.allTransforms=[],this.transformStack.push({view:o.yR(o.Ue()),colorMul:l.t8(l.Ue(),1,1,1,1),colorAdd:l.t8(l.Ue(),0,0,0,0),renderMask:null,useMask:[]}),this.allTransforms.push(this.transformStack[0]),this.viewport=t}get transform(){return this.transformStack[this.transformStack.length-1]}set transform(t){this.transformStack[this.transformStack.length-1]=t}get bounds(){const t=u.J.create(),e=u.J.create();for(const i of this.renders)"object"in i?u.J.apply(e,i.object.bounds,i.transform.view):"texture"in i?(u.J.copy(e,i.texture.bounds),e[0]-=i.texture.paddings[0],e[1]-=i.texture.paddings[1],e[2]+=2*i.texture.paddings[0],e[3]+=2*i.texture.paddings[1],u.J.apply(e,e,i.transform.view)):"filter"in i&&u.J.apply(e,i.filter.bounds,i.transform.view),u.J.union(t,t,e);return t}pushTransform(t,e){var i,r,n;const s=this.transformStack[this.transformStack.length-1],a={view:o.Ue(),colorAdd:l.Ue(),colorMul:l.Ue(),renderMask:null!==(i=null==e?void 0:e.renderMask)&&void 0!==i?i:s.renderMask,useMask:s.useMask.slice()};o.Jp(a.view,s.view,t),(0,f.Gk)(a.view),(0,c.fE)(a.colorMul,a.colorAdd,s.colorMul,s.colorAdd,null!==(r=null==e?void 0:e.colorMul)&&void 0!==r?r:d,null!==(n=null==e?void 0:e.colorAdd)&&void 0!==n?n:p),(null==e?void 0:e.useMask)&&a.useMask.push(e.useMask),this.transformStack.push(a),this.allTransforms.push(a)}dupTransform(){const t=this.transform,e={view:o.d9(t.view),colorAdd:l.d9(t.colorAdd),colorMul:l.d9(t.colorMul),renderMask:t.renderMask,useMask:t.useMask.slice()};this.transformStack.push(e),this.allTransforms.push(e)}popTransform(){this.transformStack.pop()}renderContext(t){const{view:e,colorMul:i,colorAdd:r}=this.transform;for(const n of t.allTransforms)o.Jp(n.view,e,n.view),(0,c.fE)(n.colorMul,n.colorAdd,i,r,n.colorMul,n.colorAdd),this.allTransforms.push(n);this.renders.push(...t.renders)}renderObject(t){this.renders.push({transform:this.transform,object:t})}renderCache(t,e,i,r){const n=o.U_(o.Ue(),i);o.Jp(n,n,this.transform.view),this.renders.push({transform:this.transform,cache:{view:n,texture:t,bounds:e,then:r}})}renderTexture(t,e,i,n){this.dupTransform();const s=this.transform.view;o.Iu(s,s,[t[0],t[1]]);const a=r.al(Math.abs(s[0]),Math.abs(s[3]));0!==a[0]&&0!==a[1]&&o.bA(s,s,[1/a[0],1/a[1]]),o.Iu(s,s,[-e[0],-e[1]]);const l=r.al((0,h.Sh)(s[4]),(0,h.Sh)(s[5]));s[4]=Math.trunc(s[4]/h.JN)*h.JN,s[5]=Math.trunc(s[5]/h.JN)*h.JN,this.renders.push({transform:this.transform,texture:{bounds:u.J.copy(u.J.create(),t),paddings:e,scale:a,translate:l,fn:i,then:n}}),this.popTransform()}renderFilter(t,e,i,r){this.renders.push({transform:this.transform,filter:{texture:t,bounds:e,instance:i,then:r}})}}class v{constructor(){this.listeners=[]}subscribe(t){this.listeners.push({disabled:!1,handler:t})}unsubscribe(t){for(const e of this.listeners)e.handler===t&&(e.disabled=!0);this.listeners=this.listeners.filter((t=>!t.disabled))}reset(){this.listeners=[]}emit(...t){for(const{disabled:e,handler:i}of this.listeners)e||i(...t)}}class m{constructor(t,e){this.canvas=t,this.attrs=e,this.resetRender=new v,this.maxTextures=1,this.textureLimit=16,this.maxSamples=0,this.sampleLimit=4,this.clearColor=l.al(NaN,NaN,NaN,NaN),this.viewport=l.al(NaN,NaN,NaN,NaN),this.bindings=new Map,this.textureUnits=new Map,this.activeTexture=NaN,this.vertexArray=null,this.program=null,this.capacity=NaN,this.blendEquation=[NaN,NaN],this.blendFuncs=[NaN,NaN,NaN,NaN],this.instances=new Map,this.onContextLost=t=>{t.preventDefault()},this.onContextRestored=t=>{t.preventDefault(),this.instances.clear(),this.resetRender.reset(),this.reset()};const i=t.getContext("webgl2",e);if(!i)throw new Error("Cannot create WebGL2 context");this.gl=i,t.addEventListener("webglcontextlost",this.onContextLost,!1),t.addEventListener("webglcontextrestored",this.onContextRestored,!1),this.reset()}reset(){this.maxTextures=Math.min(this.textureLimit,this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)),this.maxSamples=Math.min(this.sampleLimit,this.gl.getParameter(this.gl.MAX_SAMPLES)),l.t8(this.clearColor,NaN,NaN,NaN,NaN),l.t8(this.viewport,NaN,NaN,NaN,NaN),this.bindings.clear(),this.textureUnits.clear(),this.activeTexture=NaN,this.vertexArray=null,this.program=null,this.capacity=NaN,this.blendEquation.fill(NaN),this.blendFuncs.fill(NaN)}dispose(){var t;this.resetRenderState(),null===(t=this.gl.getExtension("WEBGL_lose_context"))||void 0===t||t.loseContext(),this.canvas.removeEventListener("webglcontextlost",this.onContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.onContextRestored,!1)}resetRenderState(){this.reset(),this.resetRender.emit(this)}lookupInstance(t){return this.instances.get(t)}ensureInstance(t,e){let i=this.instances.get(t);return i||(i=e(this.gl),this.instances.set(t,i)),i}deleteInstance(t,e){let i=this.instances.get(t);i&&(e(this.gl,i),this.instances.delete(t))}bindTexture(t,e){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.textureUnits.set(t,e)}bindTextures(t){return t.map(((t,e)=>(this.bindTexture(e,t),e)))}bindBuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindBuffer(t,e),this.bindings.set(t,e))}bindVertexArray(t){this.vertexArray!==t&&(this.gl.bindVertexArray(t),this.vertexArray=t,this.bindings.clear())}bindRenderbuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindRenderbuffer(t,e),this.bindings.set(t,e))}bindFramebuffer(t,e){this.bindings.get(t)!==e&&(this.gl.bindFramebuffer(t,e),this.bindings.set(t,e),t===this.gl.FRAMEBUFFER?(this.bindings.set(this.gl.FRAMEBUFFER,e),this.bindings.set(this.gl.READ_FRAMEBUFFER,e),this.bindings.set(this.gl.DRAW_FRAMEBUFFER,e)):t===this.gl.READ_FRAMEBUFFER?(this.bindings.set(this.gl.FRAMEBUFFER,void 0),this.bindings.set(this.gl.READ_FRAMEBUFFER,e)):t===this.gl.DRAW_FRAMEBUFFER&&(this.bindings.set(this.gl.FRAMEBUFFER,void 0),this.bindings.set(this.gl.DRAW_FRAMEBUFFER,e)))}useProgram(t){this.program!==t&&(this.gl.useProgram(t),this.program=t)}setActiveTexture(t){this.activeTexture!==t&&(this.gl.activeTexture(t),this.activeTexture=t)}setClearColor(t,e,i,r){l.fS(this.clearColor,[t,e,i,r])||(this.gl.clearColor(t,e,i,r),l.t8(this.clearColor,t,e,i,r))}setViewport(t,e,i,r){l.fS(this.viewport,[t,e,i,r])||(this.gl.viewport(t,e,i,r),l.t8(this.viewport,t,e,i,r))}enable(t){(this.capacity|t)!==this.capacity&&(this.gl.enable(t),this.capacity|=t)}disable(t){(this.capacity&~t)!==this.capacity&&(this.gl.disable(t),this.capacity&=~t)}setBlendEquation(t,e=t){this.blendEquation[0]===t&&this.blendEquation[1]===e||(this.gl.blendEquationSeparate(t,e),this.blendEquation[0]=t,this.blendEquation[1]=e)}setBlendFunc(t,e,i=t,r=e){this.blendFuncs[0]===t&&this.blendFuncs[1]===e&&this.blendFuncs[2]===i&&this.blendFuncs[3]===r||(this.gl.blendFuncSeparate(t,e,i,r),this.blendFuncs[0]=t,this.blendFuncs[1]=e,this.blendFuncs[2]=i,this.blendFuncs[3]=r)}}var g=i(1552),b=i(970),_=i(7527),x=i(2106);class R{constructor(t,e,i,r=!0){this.type=i,this.allowMultisampling=r,this.onResetRender=t=>{this.delete(t)},this.width=t,this.height=e}ensure(t){return t.ensureInstance(this,(e=>{let i;switch(this.type){case"depth":i=e.DEPTH_COMPONENT16;break;case"rgba":i=e.RGBA8;break;case"rgb":i=e.RGB8}const r=e.createRenderbuffer();return t.bindRenderbuffer(e.RENDERBUFFER,r),t.maxSamples>0&&this.allowMultisampling?e.renderbufferStorageMultisample(e.RENDERBUFFER,t.maxSamples,i,this.width,this.height):e.renderbufferStorage(e.RENDERBUFFER,i,this.width,this.height),t.resetRender.subscribe(this.onResetRender),r}))}delete(t){t.deleteInstance(this,((e,i)=>{e.deleteRenderbuffer(i),t.resetRender.unsubscribe(this.onResetRender)}))}}class k{constructor(t){this.onResetRender=t=>{this.delete(t)},this.colorAttachment=t}ensure(t){return t.ensureInstance(this,(e=>{const i=this.colorAttachment.ensure(t),r=e.createFramebuffer();return t.bindFramebuffer(e.DRAW_FRAMEBUFFER,r),this.colorAttachment instanceof g.x?e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0):e.framebufferRenderbuffer(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i),t.resetRender.subscribe(this.onResetRender),r}))}delete(t){t.deleteInstance(this,((e,i)=>{e.deleteFramebuffer(i),t.resetRender.unsubscribe(this.onResetRender)}))}}class w{constructor(t){this.state=t,this.texturePool=new Map,this.renderbufferPool=new Map}takeTexture(t,e){const i=`${t}:${e}`,r=this.texturePool.get(i)||[];if(0===r.length){const i=g.x.size(t,e),n=new k(i);r.push({insertAt:+new Date,item:{texture:i,framebuffer:n}})}return r.pop().item}takeRenderbuffer(t,e){const i=`${t}:${e}`,r=this.renderbufferPool.get(i)||[];if(0===r.length){const i=new R(t,e,"rgba"),n=new k(i);r.push({insertAt:+new Date,item:{renderbuffer:i,framebuffer:n}})}return r.pop().item}returnTexture(t){const e=`${t.texture.width}:${t.texture.height}`,i=this.texturePool.get(e)||[];i.push({insertAt:+new Date,item:t}),this.texturePool.set(e,i)}returnRenderbuffer(t){const e=`${t.renderbuffer.width}:${t.renderbuffer.height}`,i=this.renderbufferPool.get(e)||[];i.push({insertAt:+new Date,item:t}),this.renderbufferPool.set(e,i)}cleanLRU(){const t=+new Date-6e4;for(const[e,i]of this.renderbufferPool){const r=i.filter((e=>e.insertAt<t));for(const{item:t}of r)t.renderbuffer.delete(this.state),t.framebuffer.delete(this.state);this.renderbufferPool.set(e,i.filter((t=>!r.includes(t))))}for(const[e,i]of this.texturePool){const r=i.filter((e=>e.insertAt<t));for(const{item:t}of r)t.texture.delete(this.state),t.framebuffer.delete(this.state);this.texturePool.set(e,i.filter((t=>!r.includes(t))))}}}class E{constructor(t,e){this.width=t,this.height=e,this.x=0,this.y=0,this.rowHeight=0}add(t,e){let i=this.x,r=this.y;return this.x+t>this.width&&(this.x=0,this.y+=this.rowHeight+1,this.rowHeight=0,i=this.x,r=this.y),this.x+=t,this.x>this.width?null:(this.x+=1,this.rowHeight=Math.max(this.rowHeight,e),this.y+this.rowHeight>this.height?null:u.J.fromValues(i,r,t,e))}}var S=i(2550),C=i(1645);class L{constructor(t,e,i,r){this.pool=t,this.target=e,this.view=i,this.bounds=r,this.returned=!1,this.renderObject=C.r.rect(r,e.texture,{scale:h.JN})}return(){this.returned||(this.pool.returnTexture(this.target),this.returned=!0)}}const T=524288,M=1024,P=u.J.create();function A(t){return t<128?128:t<256?256:t<512?512:t<1024?1024:Math.ceil(t)}o.Ue();class D{constructor(t){var e;this.canvas=t,this.textureMap=new Map,this.textureReturnBox=[],this.renderbufferReturnBox=[],this.indexData=new Uint16Array(T),this.attributeData=new ArrayBuffer(3670016),this.indices=b.l.index(this.indexData,"STREAM_DRAW"),this.attributes=b.l.vertex(new Uint32Array(this.attributeData),"STREAM_DRAW"),this.attrFloat=new Float32Array(this.attributeData,0),this.attrUint=new Uint32Array(this.attributeData,0),this.renderVertexArray=new x.F([{index:0,buffer:this.attributes,type:"float",components:4,offset:0,stride:56},{index:1,buffer:this.attributes,type:"byte",components:4,normalized:!0,offset:16,stride:56},{index:2,buffer:this.attributes,type:"float",components:4,offset:20,stride:56},{index:3,buffer:this.attributes,type:"float",components:4,offset:36,stride:56},{index:4,buffer:this.attributes,type:"byte",components:4,integer:!0,offset:52,stride:56}],this.indices),this.backgroundColor=0,this.glState=new m(t.element,{alpha:!1,premultipliedAlpha:!1,antialias:!1}),this.renderPool=new w(this.glState),this.renderProgram=new _.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aColor;\nlayout(location=2) in vec4 aColorMul;\nlayout(location=3) in vec4 aColorAdd;\nlayout(location=4) in uvec4 aMode;\n\nout vec2 vTextureCoords;\nout vec4 vColor;\nout vec4 vColorMul;\nout vec4 vColorAdd;\nflat out uvec4 vMode;\n\nvoid main(void) {\n    vec2 pos = aVertex.xy;\n    vec2 uv = aVertex.zw;\n    gl_Position = vec4(pos, 0.0, 1.0);\n\n    vTextureCoords = uv;\n    vColor = aColor;\n    vColorMul = aColorMul;\n    vColorAdd = aColorAdd;\n    vMode = aMode;\n}\n",`\n#version 300 es\nprecision highp float;\n\nin vec2 vTextureCoords;\nin vec4 vColor;\nin vec4 vColorMul;\nin vec4 vColorAdd;\nflat in uvec4 vMode;\nout vec4 fragColor;\n\nuniform sampler2D uTextures[${e=this.glState.maxTextures}];\n\nvec4 sampleTex(int id, vec2 coords) {\n  vec4 color;\n  ${new Array(e).fill(0).map(((t,e)=>`\n      if (id == ${e}) {\n        color = texture(uTextures[${e}], coords);\n      }\n      `)).join("\n")}\n  return color;\n}\n\nvec4 getTexel(int id, ivec2 coords) {\n  vec4 color;\n  ${new Array(e).fill(0).map(((t,e)=>`\n      if (id == ${e}) {\n        color = texelFetch(uTextures[${e}], coords, 0);\n      }\n      `)).join("\n")}\n  return color;\n}\n\nvoid main(void) {\n    int fillMode = int(vMode.x) % 4;\n    int texId = int(vMode.x) / 4;\n    int maskMode = int(vMode.y) % 4;\n    int maskTexId = int(vMode.y) / 4;\n    int maskID = int(vMode.z);\n\n    vec2 coords;\n    if (fillMode == 1) {\n        coords = vec2(vTextureCoords.x, 0.0);\n    } else if (fillMode == 2) {\n        coords = vec2(length(vTextureCoords * 2.0 - 1.0), 0.0);\n    } else {\n        coords = vTextureCoords;\n    }\n\n    vec4 tex = sampleTex(texId, coords);\n    vec4 color = (tex * vColor * vec4(vColorMul.rgb, 1.0)) * vColorMul.a;\n    color += vColorAdd * color.a;\n\n    if (maskMode == 1) {\n      color = vec4(float(maskID) / 255.0, 0.0, 0.0, 1.0);\n    } else if (maskMode == 2) {\n      vec4 mask = getTexel(maskTexId, ivec2(gl_FragCoord.xy));\n      if (maskID == int(mask.r * 255.0)) {\n        color = color * mask.a;\n      } else {\n        color = vec4(0.0);\n      }\n    }\n\n    color = trunc(color * 255.0) / 255.0;\n    fragColor = color;\n}\n`),this.textureUnits=new Int32Array(this.glState.maxTextures),this.renderProgram.ensure(this.glState),this.renderVertexArray.ensure(this.glState),this.defaultFramebuffer=new k(new R(t.element.width,t.element.height,"rgb")),this.resolvedFramebuffer=new k(new R(t.element.width,t.element.height,"rgb",!1))}renderFrame(t){const e=this.glState.gl,{width:i,height:r}=this.canvas;this.renderNode(t,this.defaultFramebuffer,i,r,(()=>{this.glState.setClearColor((this.backgroundColor>>>16&255)/255,(this.backgroundColor>>>8&255)/255,(this.backgroundColor>>>0&255)/255,1),e.clear(e.COLOR_BUFFER_BIT)}))}blitFrame(){if(this.glState.gl.isContextLost())return;const{width:t,height:e}=this.defaultFramebuffer.colorAttachment,i=this.glState.gl,r=this.defaultFramebuffer.ensure(this.glState),n=this.resolvedFramebuffer.ensure(this.glState);this.glState.bindFramebuffer(i.READ_FRAMEBUFFER,r),this.glState.bindFramebuffer(i.DRAW_FRAMEBUFFER,n),i.blitFramebuffer(0,0,t,e,0,0,t,e,i.COLOR_BUFFER_BIT,i.NEAREST),this.glState.bindFramebuffer(i.READ_FRAMEBUFFER,n),this.glState.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.blitFramebuffer(0,0,t,e,0,0,t,e,i.COLOR_BUFFER_BIT,i.NEAREST)}renderNode(t,e,i,r,n,s=!0){if(this.glState.gl.isContextLost())return;const{width:a,height:l}=e.colorAttachment,c=u.J.fromValues(0,0,(0,h.E_)(a),(0,h.E_)(l)),f=new y(c);t.render(f);const d=(0,S.CJ)(o.Ue(),(0,h.E_)(i),(0,h.E_)(r),s);this.textureReturnBox.length=0,this.renderbufferReturnBox.length=0;try{this.render(f.renders,e,d,n)}finally{for(const t of this.textureReturnBox)this.renderPool.returnTexture(t);for(const t of this.renderbufferReturnBox)this.renderPool.returnRenderbuffer(t);this.renderPool.cleanLRU()}}loadTexture(t){if(t instanceof g.x)return t;let e=this.textureMap.get(t);return e||(e=t?g.x.image(t):g.x.WHITE,this.textureMap.set(t,e)),e}render(t,e,i,r){const n=[],s=[],a=[],o=t=>{n.length=0,s.length=0,a.length=0;for(const e of t)"texture"in e?n.push(e):"filter"in e?s.push(e):"cache"in e&&a.push(e)};let l;o(t);do{for(l=!1;a.length>0;)this.renderCaches(t,a),l=!0,o(t);for(;n.length>0;)this.renderTextures(t,n),l=!0,o(t);for(;s.length>0;)this.renderFilters(t,s),l=!0,o(t)}while(l);this.renderObjects(t,e,i,r)}renderTextures(t,e){const i=this.glState.gl;let r=null,n=null;const s=new Map,a=()=>{if(!r||!n||0===s.size)return;const e=(0,S.CJ)(o.Ue(),(0,h.E_)(r.width),(0,h.E_)(r.height),!1),a=this.renderPool.takeTexture(r.width,r.height),l=this.renderPool.takeRenderbuffer(r.width,r.height);this.textureReturnBox.push(a),this.renderbufferReturnBox.push(l),this.render(n.renders,l.framebuffer,e,(()=>{this.glState.setClearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT)}));const u=l.framebuffer.ensure(this.glState),c=a.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(i.READ_FRAMEBUFFER,u),this.glState.bindFramebuffer(i.DRAW_FRAMEBUFFER,c),i.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,i.COLOR_BUFFER_BIT,i.NEAREST);for(const[e,i]of s){const r=new y(null);r.transform=e.transform,e.texture.then(r,a.texture,i);const n=t.indexOf(e);t.splice(n,1,...r.renders)}};for(const t of e){const{bounds:e,paddings:i,scale:l,translate:u,fn:c}=t.texture,f=new y(null),d=o.vc(o.Ue(),[i[0]+(0,h.E_)(u[0]-Math.trunc(u[0])),i[1]+(0,h.E_)(u[1]-Math.trunc(u[1]))]);o.bA(d,d,l),o.Iu(d,d,[-e[0],-e[1]]),f.pushTransform(d),c(f),f.popTransform();const p=f.bounds,v=Math.ceil((0,h.Sh)(Math.abs(p[0])+p[2]+i[0])),m=Math.ceil((0,h.Sh)(Math.abs(p[1])+p[3]+i[1]));let g;r&&n&&(g=r.add(v,m))||(a(),r=new E(Math.max(M,A(v)),Math.max(M,A(m))),n=new y(null),s.clear(),g=r.add(v,m)),o.vc(d,[(0,h.E_)(g[0]),(0,h.E_)(g[1])]),n.pushTransform(d),n.renderContext(f),n.popTransform(),s.set(t,g)}a()}renderCaches(t,e){const i=this.glState.gl;for(const r of e){const{texture:e,bounds:n,view:s,then:a}=r.cache,o=A((0,h.Sh)(n[2])),l=A((0,h.Sh)(n[3])),c=this.renderPool.takeTexture(o,l),f=new k(e);try{const t=f.ensure(this.glState),e=c.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(i.READ_FRAMEBUFFER,t),this.glState.bindFramebuffer(i.DRAW_FRAMEBUFFER,e),i.blitFramebuffer(n[0],n[1],n[0]+n[2],n[1]+n[3],0,0,n[2],n[3],i.COLOR_BUFFER_BIT,i.NEAREST)}finally{f.delete(this.glState)}a(new L(this.renderPool,c,s,u.J.fromValues(0,0,n[2],n[3])));const d=t.indexOf(r);t.splice(d,1)}}renderFilters(t,e){let i=null,r=null;const n=new Map,s=()=>{if(!i||!r||0===n.size)return;const e=this.renderPool.takeTexture(i.width,i.height);this.textureReturnBox.push(e),r.apply(this,Array.from(n.values()),e);for(const[i,{outBounds:r}]of n){const n=new y(null);n.transform=i.transform,i.filter.then(n,e.texture,r);const s=t.indexOf(i);t.splice(s,1,...n.renders)}i=null,n.clear()},a=new Map;for(const t of e){const e=t.filter.instance.filter;let i=a.get(e);i||(i=[],a.set(e,i)),i.push(t)}for(const[t,e]of a){r=t;for(const t of e){const{texture:e,bounds:r,instance:a}=t.filter;let o;i&&(o=i.add(r[2],r[3]))||(s(),i=new E(Math.max(M,A(r[2])),Math.max(M,A(r[3]))),o=i.add(r[2],r[3]));const l={instance:a,texture:e,inBounds:r,outBounds:o};n.set(t,l)}s()}}renderObjects(t,e,i,r){var n,s;const a=this.glState.gl,{width:o,height:l}=e.colorAttachment;this.glState.setViewport(0,0,o,l);const c=[],h=[];try{const f=new Map,d=[];for(const e of t){if(!e.transform.renderMask){d.push(e);continue}const t=e.transform.renderMask,i=f.get(t);if(i)u.J.apply(P,e.object.bounds,e.transform.view),u.J.union(i.bounds,i.bounds,P),i.renders.push(e);else{const i=u.J.create();u.J.apply(i,e.object.bounds,e.transform.view),f.set(t,{renders:[e],bounds:i})}}const p=new Map,y=[];for(const[t,{bounds:e,renders:i}]of f){let r=null;for(const t of y){let i=!1;for(const r of t.bounds)if(u.J.intersects(r,e)){i=!0;break}if(!i&&t.nextID<256){r=t;break}}r||(r={target:this.renderPool.takeTexture(o,l),nextID:1,renders:[],bounds:[]},h.push(r.target),y.push(r));const n=r.nextID++;p.set(t,{texture:r.target.texture,id:n}),r.bounds.push(e);for(const t of i)r.renders.push({maskTex:null,maskID:n,render:t})}if(y.length>0){const t=this.renderPool.takeRenderbuffer(o,l);c.push(t);const e=t.framebuffer.ensure(this.glState);this.glState.setClearColor(0,0,0,0);for(const t of y){this.glState.bindFramebuffer(a.FRAMEBUFFER,e),a.clear(a.COLOR_BUFFER_BIT),this.doRenderObjects(t.renders,!0,i);const r=t.target.framebuffer.ensure(this.glState);this.glState.bindFramebuffer(a.READ_FRAMEBUFFER,e),this.glState.bindFramebuffer(a.DRAW_FRAMEBUFFER,r),a.blitFramebuffer(0,0,o,l,0,0,o,l,a.COLOR_BUFFER_BIT,a.NEAREST)}}const v=e.ensure(this.glState);this.glState.bindFramebuffer(a.FRAMEBUFFER,v),r();const m=[];for(const t of d){const e=t.transform.useMask[t.transform.useMask.length-1],i=p.get(e);e&&!i||m.push({maskTex:null!==(n=null==i?void 0:i.texture)&&void 0!==n?n:null,maskID:null!==(s=null==i?void 0:i.id)&&void 0!==s?s:0,render:t})}this.doRenderObjects(m,!1,i)}finally{for(const t of c)this.renderPool.returnRenderbuffer(t);for(const t of h)this.renderPool.returnTexture(t)}}doRenderObjects(t,e,i){const r=this.glState.gl;this.glState.enable(r.BLEND),this.glState.setBlendEquation(r.FUNC_ADD),this.glState.setBlendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);const n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],u=i[5];let c=0,h=0;const f=[g.x.WHITE],d=()=>{if(0===h)return;this.indices.update(this.glState,0,h),this.attributes.update(this.glState,0,14*c);const t=this.glState.bindTextures(f.map((t=>t.ensure(this.glState))));this.textureUnits.fill(t[0]),this.textureUnits.set(t);const e=this.renderProgram.ensure(this.glState);this.renderProgram.uniform(this.glState,"uTextures[0]",this.textureUnits),this.glState.useProgram(e),this.renderVertexArray.bind(this.glState),r.drawElements(r.TRIANGLES,h,r.UNSIGNED_SHORT,0),c=0,h=0,f.length=1},p=this.indices.data,y=this.attrFloat,v=this.attrUint;for(const{render:i,maskTex:r,maskID:m}of t){const{kind:t,vertices:g,indices:b,uvMatrix:_,colors:x}=i.object,R=g.length/2,k=b.length;(c+R>=65536||h+k>=T)&&d();const{view:w,colorMul:E,colorAdd:S}=i.transform,C=this.loadTexture(i.object.texture);let L=f.indexOf(C),M=r?f.indexOf(r):-1;-1===L&&(f.length>=this.glState.maxTextures&&d(),L=f.push(C)-1),r&&-1===M&&(f.length>=this.glState.maxTextures&&(d(),L=f.push(C)-1),M=f.push(r)-1);for(let t=0;t<k;t++)p[h+t]=b[t]+c;const P=i.object.fillMode+4*L;let A=0;e?A=1:m>0&&(A=2+4*M);const D=65536*m+256*A+P,O=14*c,N=w[0],B=w[1],F=w[2],I=w[3],j=w[4],U=w[5],V=_[0],G=_[1],H=_[2],K=_[3],z=_[4],X=_[5],Y=E[0],q=E[1],W=E[2],J=E[3],Z=S[0]/255,Q=S[1]/255,$=S[2]/255,tt=S[3]/255;for(let t=0;t<R;t++){const e=g[2*t],i=g[2*t+1],r=x[t];let c=N*e+F*i+j,h=B*e+I*i+U;y[O+14*t+0]=n*c+a*h+l,y[O+14*t+1]=s*c+o*h+u,y[O+14*t+2]=V*e+H*i+z,y[O+14*t+3]=G*e+K*i+X,v[O+14*t+4]=r,y[O+14*t+5]=Y,y[O+14*t+6]=q,y[O+14*t+7]=W,y[O+14*t+8]=J,y[O+14*t+9]=Z,y[O+14*t+10]=Q,y[O+14*t+11]=$,y[O+14*t+12]=tt,v[O+14*t+13]=D}c+=R,h+=k}d()}}class O{constructor(t){this.fps=t,this.onFrame=new v,this.onRender=new v,this.channel=new MessageChannel,this.lastTimestamp=0,this.needRender=!1,this._onFrame=()=>{try{this.onFrame.emit()}catch(t){console.error(t)}this.needRender=!0},this._onRender=t=>{const e=this.lastTimestamp;if(t-e>=this.targetMS&&(this.lastTimestamp=t-(t-e)%this.targetMS,this.channel.port2.postMessage(null)),this.needRender){try{this.onRender.emit()}catch(t){console.error(t)}this.needRender=!1}this.animationHandle=requestAnimationFrame(this._onRender)},this.targetMS=1e3/t}begin(){this.end(),this.channel.port1.onmessage=()=>{this._onFrame()},this.animationHandle=requestAnimationFrame(this._onRender)}end(){null!=this.animationHandle&&(cancelAnimationFrame(this.animationHandle),this.animationHandle=void 0),this.channel.port1.onmessage=null}}var N=i(6375),B=i(8281),F=i(570),I=i(1049),j=i(5723),U=i(8682),V=i(8433);const G=r.Ue();class H extends n._{constructor(t){super(),this.__audio=new N.e,this.__displayListDirty=!1,this.__displayList=[],this.__initQueue=[],this.__constructionQueue=[],this.__mousePosition=r.Ue(),this.__mouseOn=null,this.__mouseTrackTarget=null,this.focus=null,this.__quality="HIGH",this.__isDisposed=!1,this.__isActiveValue=!0,this.__onFrame=this.__withContext((()=>{this.__isActiveValue&&((0,V.E)(!0,this),this.__updateCursor())})),this.__doRender=this.__withContext((()=>{this.__isActiveValue&&(this.__onRender(),this.__renderer.renderFrame(this.__node),this.__renderer.blitFrame())})),this.__handleMouseEvent=this.__withContext((t=>{if(!this.__isActiveValue)return;this.__canvas.resolveCoords(this.__mousePosition,t.clientX,t.clientY);let e=this.__hitTestObject(this.__mousePosition);const i=(e,i)=>{if(!i)return;i.__globalToLocal(G,this.__mousePosition,!1);const r=new I.T(e,!0,!1);r.buttonDown=0!==t.buttons,r.localX=G[0],r.localY=G[1],r.stageX=this.__mousePosition[0],r.stageY=this.__mousePosition[1],i.dispatchEvent(r)};switch(this.__mouseTrackTarget&&(this.__mouseTrackTarget.stage!==this&&(this.__mouseTrackTarget=null),e=this.__mouseTrackTarget),"mouseleave"===t.type&&(e=null),this.__mouseOn!==e&&(i(I.T.MOUSE_OUT,this.__mouseOn),this.__mouseOn=e,i(I.T.MOUSE_OVER,this.__mouseOn)),t.type){case"mousemove":i(I.T.MOUSE_MOVE,this.__mouseOn);break;case"mousedown":i(I.T.MOUSE_DOWN,this.__mouseOn);break;case"mouseup":i(I.T.MOUSE_UP,this.__mouseOn);break;case"click":i(I.T.CLICK,this.__mouseOn)}})),this.__updateCursor=()=>{this.__mouseOn&&this.__isActiveValue?this.__canvas.cursor=this.__mouseOn.__isPointerCursor?"pointer":"default":this.__canvas.cursor="default"},this.__handleKeyboardEvent=this.__withContext((t=>{var e,i;if(!this.__isActiveValue)return;const r=null!==(e=U.N.codeMap[t.key])&&void 0!==e?e:U.N.codeMap[t.code];if(!r)return;let n;switch(t.type){case"keydown":n=new j._(j._.KEY_DOWN,!0,!1);break;case"keyup":n=new j._(j._.KEY_UP,!0,!1);break;default:return}n.keyCode=r,(null!==(i=this.focus)&&void 0!==i?i:this).dispatchEvent(n)})),this.__handleFocusEvent=this.__withContext((t=>{if(!this.__isActiveValue)return;let e;switch(t.type){case"blur":e=new B.j(B.j.DEACTIVATE,!0,!1);break;default:return}this.dispatchEvent(e)}));let e=60,i=0,n=600,s=400;t&&(({width:n,height:s,backgroundColor:i,fps:e}=t),n/=20,s/=20),this.__canvas=new a(n,s),this.__renderer=new D(this.__canvas),this.__renderer.backgroundColor=i,this.__ticker=new O(e),this.__ticker.onFrame.subscribe(this.__onFrame),this.__ticker.onRender.subscribe(this.__doRender),this.__ticker.begin();const o=this.__canvas.element;o.addEventListener("mouseenter",this.__handleMouseEvent),o.addEventListener("mousemove",this.__handleMouseEvent),o.addEventListener("mousedown",this.__handleMouseEvent),o.addEventListener("mouseup",this.__handleMouseEvent),o.addEventListener("mouseleave",this.__handleMouseEvent),o.addEventListener("click",this.__handleMouseEvent),o.addEventListener("keydown",this.__handleKeyboardEvent),o.addEventListener("keyup",this.__handleKeyboardEvent),o.addEventListener("blur",this.__handleFocusEvent)}get __isActive(){return this.__isActiveValue}set __isActive(t){if(this.__isDisposed)throw new Error("Stage is disposed");this.__isActiveValue!==t&&(this.__isActiveValue=t,t?this.__audio.context.resume():this.__audio.context.suspend(),this.__updateCursor())}get loaderInfo(){return{bytesTotal:100,bytesLoaded:100,url:window.location.href}}get stage(){return this}get quality(){return this.__quality}set quality(t){this.__quality!==t&&(this.__quality=t,"HIGH"===this.__quality?this.__renderer.glState.sampleLimit=4:this.__renderer.glState.sampleLimit=0,this.__renderer.glState.resetRenderState(),this.__onRender(),this.__renderer.renderFrame(this.__node))}__withContext(t){return(...e)=>{const i=H.__current,r=F.p.__eventContext;H.__current=this,F.p.__eventContext=this;try{return t(...e)}finally{H.__current=i,F.p.__eventContext=r}}}__dispose(){this.__isActive=!1,this.__audio.context.close(),this.__renderer.glState.dispose(),this.__ticker.end();const t=this.__canvas.element;t.removeEventListener("mouseenter",this.__handleMouseEvent),t.removeEventListener("mousemove",this.__handleMouseEvent),t.removeEventListener("mousedown",this.__handleMouseEvent),t.removeEventListener("mouseup",this.__handleMouseEvent),t.removeEventListener("mouseleave",this.__handleMouseEvent),t.removeEventListener("click",this.__handleMouseEvent),t.removeEventListener("keydown",this.__handleKeyboardEvent),t.removeEventListener("keyup",this.__handleKeyboardEvent),t.removeEventListener("blur",this.__handleFocusEvent),this.__isDisposed=!0}__hitTestObject(t){this.__node.ensureLayout();const e=i=>{if(!(i instanceof n._))return i;const r=i.__children;let a=!1;for(let i=r.length-1;i>=0;i--){const n=r[i];if(n.visible&&n.__node.hitTest(t,!1))if(n instanceof s.D){const t=e(n);if(t)return t}else a=!0}return a?i:null};return e(this)}__ensureDisplayList(){if(!this.__displayListDirty)return;this.__displayList.length=1,this.__displayList[0]=this;let t=0;for(;t<this.__displayList.length;){const e=this.__displayList[t].__node.children;for(let t=0;t<e.length;t++)e[t].object&&this.__displayList.push(e[t].object);t++}this.__displayListDirty=!1}}H.__current=null},8433:(t,e,i)=>{"use strict";i.d(e,{s:()=>a,E:()=>o});var r=i(8281),n=i(570);const s=[];function a(t){s.push(t)}function o(t,e){e.__ensureDisplayList();const i=new Set([...e.__displayList,...e.__initQueue]);e.__initQueue.length=0;for(const r of i)r.__initFrame(e,t);for(t&&n.p.__broadcastDispatcher.dispatchEvent(new r.j(r.j.ENTER_FRAME,!1,!1));e.__constructionQueue.length>0;){const t=e.__constructionQueue.slice();e.__constructionQueue.length=0;for(const e of t)e.__constructFrame()}const a=s.slice();s.length=0;for(const t of a)t()}},7760:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Bitmap:()=>E,BitmapData:()=>k,DisplayObject:()=>r.s,DisplayObjectContainer:()=>n._,InteractiveObject:()=>s.D,Loader:()=>S,MorphShape:()=>o.W,MovieClip:()=>u.K,Shape:()=>a.b,SimpleButton:()=>p,Sprite:()=>l.j,Stage:()=>c.H});var r=i(2640),n=i(581),s=i(8077),a=i(2738),o=i(2120),l=i(6300),u=i(3855),c=i(5511),h=i(2166),f=i(2741),d=i(1719);class p extends s.D{constructor(){var t,e;super(),this.__soundContext=new d.$,this.__state=h.B.Up,this.trackAsMenu=!1,this.useHandCursor=!0,this.__handleMouseEvent=t=>{var e,i;let r=this.__state,n=t.type!==f.MouseEvent.MOUSE_OUT&&t.buttonDown;r=t.type===f.MouseEvent.MOUSE_OUT?h.B.Up:t.buttonDown&&this.hitTestPoint(t.stageX,t.stageY)?h.B.Down:h.B.Over;const s=this.stage;if(this.__state!==r){const t=this.__state;this.__state=r,this.__node.buttonState=r,null===(e=this.__character)||void 0===e||e.instantiateState(this,r),null===(i=this.__character)||void 0===i||i.stateTransition(this,t,r),s&&(s.__displayListDirty=!0)}!this.trackAsMenu&&s&&(n?s.__mouseTrackTarget=this:s.__mouseTrackTarget===this&&(s.__mouseTrackTarget=null))},this.__state=h.B.Up,this.__states=[new r.s,new r.s,new r.s,new r.s];for(const t of this.__states)t.__node.setParent(this.__node,this.__node.children.length);this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this),this.__node.buttonState=this.__state,this.addEventListener(f.MouseEvent.MOUSE_OVER,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_OUT,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_DOWN,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_UP,this.__handleMouseEvent),this.addEventListener(f.MouseEvent.MOUSE_MOVE,this.__handleMouseEvent)}get __activeState(){switch(this.__state){case h.B.Up:return this.upState;case h.B.Over:return this.overState;case h.B.Down:return this.downState}}get upState(){return this.__states[h.B.Up]}set upState(t){this.__states[h.B.Up].__node.setParent(null,0),this.__states[h.B.Up]=t,t.__node.setParent(this.__node,h.B.Up)}get overState(){return this.__states[h.B.Over]}set overState(t){this.__states[h.B.Over].__node.setParent(null,0),this.__states[h.B.Over]=t,t.__node.setParent(this.__node,h.B.Over)}get downState(){return this.__states[h.B.Down]}set downState(t){this.__states[h.B.Down].__node.setParent(null,0),this.__states[h.B.Down]=t,t.__node.setParent(this.__node,h.B.Down)}get hitTestState(){return this.__states[h.B.HitTest]}set hitTestState(t){this.__states[h.B.HitTest].__node.setParent(null,0),this.__states[h.B.HitTest]=t,t.__node.setParent(this.__node,h.B.HitTest)}get __isPointerCursor(){return this.useHandCursor||super.__isPointerCursor}}var y=i(2526),v=i(4945),m=i(7964),g=i(2942),b=i(230),_=i(8671),x=i(1645),R=i(8513);class k extends m.i{constructor(t,e,i=!0,r=4294967295){super(),this.width=t,this.height=e,this.transparent=i,this.fillColor=r,this.__root=new b.B(null),this.__needRender=!1,this.__needPixel=!1,this.__pixels=null,this.__target=null,this.__renderer=null,this.rect=new g.A(0,0,t,e)}draw(t,e,i,r){const n=t.__node.clone();n.visible=!0,e?e.__toMat2d(n.transformLocal):y.yR(n.transformLocal),i?(v.JG(n.colorTransformLocalMul,i.__mul),v.JG(n.colorTransformLocalAdd,i.__add)):(v.t8(n.colorTransformLocalMul,1,1,1,1),v.t8(n.colorTransformLocalAdd,0,0,0,0)),n.setParent(this.__root,this.__root.children.length),this.__needRender=!0}colorTransform(t,e){this.__render();const i=this.__target;this.__target=null;try{const{x:r,y:n,width:s,height:a}=t,o=(t,r)=>{if(t[2]<=0||t[3]<=0)return;const n=new b.B(null);n.setRenderObjects([x.r.rect(t,i.texture,{invertY:!1,scale:R.JN})],_.J.fromValues(0,0,(0,R.E_)(t[2]),(0,R.E_)(t[3]))),y.vc(n.transformLocal,[(0,R.E_)(t[0]),(0,R.E_)(t[1])]),r&&(v.JG(n.colorTransformLocalMul,e.__mul),v.JG(n.colorTransformLocalAdd,e.__add)),n.setParent(this.__root,this.__root.children.length)};o(_.J.fromValues(0,0,this.width,n),!1),o(_.J.fromValues(0,n,r,a),!1),o(_.J.fromValues(r,n,s,a),!0),o(_.J.fromValues(r+s,n,this.width-(r+s),a),!1),o(_.J.fromValues(0,n+a,this.width,this.height-(n+a)),!1),this.__render()}finally{this.__renderer.renderPool.returnTexture(i)}}getPixel32(t,e){if(this.__render(),this.__needPixel||!this.__pixels){this.__pixels||(this.__pixels=new Uint32Array(this.width*this.height));const t=this.__renderer.glState,e=t.gl,i=this.__target.framebuffer.ensure(t);t.bindFramebuffer(e.READ_FRAMEBUFFER,i);const r=new Uint8Array(this.__pixels.buffer);e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,r),this.__needPixel=!1}const i=Math.trunc(t),r=this.height-Math.trunc(e);if(i<0||r<0||i>this.width||r>this.height)return 0;const n=i+(this.height-r)*this.width,s=this.__pixels[n];return 16777216*(s>>>24&255)+65536*(s>>>0&255)+256*(s>>>8&255)+1*(s>>>16&255)}lock(){}unlock(){}copyPixels(t,e,i){this.__render(),t.__render();const r=this.__renderer.glState,n=r.gl,s=t.__target,a=this.__target,o=e.x,l=e.y,u=i.x,c=i.y,h=s.framebuffer.ensure(r),f=a.framebuffer.ensure(r);r.bindFramebuffer(n.READ_FRAMEBUFFER,h),r.bindFramebuffer(n.DRAW_FRAMEBUFFER,f),n.blitFramebuffer(o,l,o+e.width,l+e.height,u,c,u+e.width,c+e.height,n.COLOR_BUFFER_BIT,n.NEAREST)}scroll(t,e){this.__render();const i=this.__target,r=this.__renderer;this.__target=r.renderPool.takeTexture(this.width,this.height);try{const n=i.framebuffer,s=this.__target.framebuffer,a=this.__renderer.glState,o=a.gl,l=n.ensure(a),u=s.ensure(a);a.bindFramebuffer(o.READ_FRAMEBUFFER,l),a.bindFramebuffer(o.DRAW_FRAMEBUFFER,u),o.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,o.COLOR_BUFFER_BIT,o.NEAREST),o.blitFramebuffer(0,0,this.width,this.height,t,e,t+this.width,e+this.height,o.COLOR_BUFFER_BIT,o.NEAREST)}finally{r.renderPool.returnTexture(i)}}dispose(){var t;this.__target&&(null===(t=this.__renderer)||void 0===t||t.renderPool.returnTexture(this.__target),this.__target=null),this.__needRender=!0}__render(){if(this.__target&&!this.__needRender)return;if(!this.__renderer){if(!c.H.__current)throw new Error("No stage in context");this.__renderer=c.H.__current.__renderer}let t=()=>{};if(!this.__target){const e=this.__renderer.glState;this.__target=this.__renderer.renderPool.takeTexture(this.width,this.height),t=()=>{e.setClearColor(0,0,0,0),e.gl.clear(e.gl.COLOR_BUFFER_BIT)}}const e=this.__renderer.renderPool.takeRenderbuffer(this.width,this.height);try{const i=this.__renderer.glState,r=i.gl;this.__renderer.renderNode(this.__root,e.framebuffer,this.width,this.height,t,!1);const n=e.framebuffer.ensure(i),s=this.__target.framebuffer.ensure(i);i.bindFramebuffer(r.READ_FRAMEBUFFER,n),i.bindFramebuffer(r.DRAW_FRAMEBUFFER,s),r.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,r.COLOR_BUFFER_BIT,r.NEAREST),this.__root.onRemoveFromStage(),this.__root=new b.B(null),this.__needRender=!1,this.__needPixel=!0}finally{this.__renderer.renderPool.returnRenderbuffer(e)}}}var w=i(1552);class E extends r.s{constructor(t){super(),this.bitmapData=t;const{width:e,height:i}=this.bitmapData,r=_.J.fromValues(0,0,e,i);this.__node.setRenderObjects([x.r.rect(r,w.x.WHITE,{texWidth:e,texHeight:i,scale:R.JN,invertY:!1})],r)}__onRender(){super.__onRender(),this.bitmapData.__render(),this.bitmapData.__target&&(this.__node.renderObjects[0].texture=this.bitmapData.__target.texture)}}class S extends n._{}},8281:(t,e,i)=>{"use strict";i.d(e,{j:()=>r});class r{constructor(t,e=!1,i=!1){this.type=t,this.bubbles=e,this.cancelable=i}formatToString(t,...e){return`${t}(${e.map((t=>this[t])).join(", ")})`}}r.ENTER_FRAME="ENTER_FRAME",r.ADDED_TO_STAGE="ADDED_TO_STAGE",r.REMOVED_FROM_STAGE="REMOVED_FROM_STAGE",r.SOUND_COMPLETE="SOUND_COMPLETE",r.DEACTIVATE="DEACTIVATE"},570:(t,e,i)=>{"use strict";i.d(e,{p:()=>u});var r,n=i(7964),s=i(8281);const a=Symbol(),o=[s.j.ENTER_FRAME],l=new WeakMap;class u extends n.i{constructor(){super(...arguments),this[r]=!1,this.__eventParent=null,this.__captureListeners=new Map,this.__bubbleListeners=new Map,this.__dispatchEvent=(t,e)=>{let i;i=e?this.__captureListeners:this.__bubbleListeners;for(const{listener:e}of i.get(t.type)||[])e(t)}}static get __broadcastDispatcher(){if(!this.__eventContext)throw new Error("Event context not present");let t=l.get(this.__eventContext);return t||(t=new u,t[a]=!0,l.set(this.__eventContext,t)),t}__setEventParent(t){this.__eventParent=t}addEventListener(t,e,i=!1,r=0,n=!1){if(o.includes(t)&&!this[a])return void u.__broadcastDispatcher.addEventListener(t,e,i,r,n);let s;s=i?this.__captureListeners:this.__bubbleListeners;const l=s.get(t)||[];if(l.find((t=>t.listener===e)))return;const c=[...l,{priority:r,listener:e}];c.sort(((t,e)=>e.priority-t.priority)),s.set(t,c)}removeEventListener(t,e,i=!1,r=0,n=!1){if(o.includes(t)&&!this[a])return void u.__broadcastDispatcher.removeEventListener(t,e,i,r,n);let s;s=i?this.__captureListeners:this.__bubbleListeners;const l=s.get(t)||[],c=l.filter((t=>t.listener!==e));c.length!==l.length&&s.set(t,c)}dispatchEvent(t){if(t.target=this,!t.bubbles)return t.currentTarget=this,void this.__dispatchEvent(t,!1);const e=[this];let i=this;for(;i&&i.__eventParent;)i=i.__eventParent,e.push(i);for(let i=e.length-1;i>0;i--)t.currentTarget=e[i],e[i].__dispatchEvent(t,!0);for(let i=0;i<e.length;i++)t.currentTarget=e[i],e[i].__dispatchEvent(t,!1)}}r=a,u.__eventContext=null},5723:(t,e,i)=>{"use strict";i.d(e,{_:()=>n});var r=i(8281);class n extends r.j{constructor(){super(...arguments),this.keyCode=0}}n.KEY_DOWN="KEY_DOWN",n.KEY_UP="KEY_UP"},1049:(t,e,i)=>{"use strict";i.d(e,{T:()=>n});var r=i(8281);class n extends r.j{constructor(){super(...arguments),this.buttonDown=!1,this.localX=0,this.localY=0,this.stageX=0,this.stageY=0}}n.CLICK="click",n.MOUSE_DOWN="mouseDown",n.MOUSE_MOVE="mouseMove",n.MOUSE_OUT="mouseOut",n.MOUSE_OVER="mouseOver",n.MOUSE_UP="mouseUp"},2741:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ErrorEvent:()=>u,Event:()=>r.j,EventDispatcher:()=>n.p,FocusEvent:()=>f,IOErrorEvent:()=>c,KeyboardEvent:()=>o._,MouseEvent:()=>s.T,SecurityErrorEvent:()=>h,TextEvent:()=>l,TimerEvent:()=>a});var r=i(8281),n=i(570),s=i(1049);class a extends r.j{}var o=i(5723);class l extends r.j{constructor(){super(...arguments),this.text=""}}class u extends l{}class c extends u{}c.IO_ERROR="IO_ERROR";class h extends u{}h.SECURITY_ERROR="SECURITY_ERROR";class f extends r.j{}},9793:(t,e,i)=>{"use strict";i.d(e,{l:()=>r});class r{}},8051:(t,e,i)=>{"use strict";i.d(e,{T:()=>f});var r=i(9793),n=i(5543),s=i(1215),a=i(2526),o=i(2550);const l=a.Ue(),u=n.Ue(),c=n.Ue();class h{isEffective(t){return t.blurX>0||t.blurY>0}apply(t,e,i){const r=t.glState,a=r.gl,{width:h,height:f}=i.texture;(0,o.CJ)(l,h,f,!1),n.t8(c,1/h,1/f),r.setViewport(0,0,h,f),r.disable(a.BLEND),r.setClearColor(0,0,0,0);const d=t.renderPool.takeTexture(h,f),p=t.renderPool.takeTexture(h,f);try{const o=[];let h=0,f=null,y=null;const v=()=>{if(!f||!y)return;const t=(0,s.$_)(h),e=o.length;s.Qb.update(r,0,4*e*17);let n=d,l=p;for(let o=0;o<2*y;o++){let u=n,c=l.texture,h=o%2;0===o?(c=f,h+=2):o===2*y-1&&(u=i);const d=u.framebuffer.ensure(r);r.bindFramebuffer(a.FRAMEBUFFER,d);const p=t.ensure(r);s.BR.ensure(r),c.ensure(r),r.useProgram(p);const v=r.bindTextures([c.ensure(r)])[0];t.uniform(r,"uTexture",v),t.uniform(r,"uMode",h),s.BR.bind(r),a.drawElements(a.TRIANGLES,6*e,a.UNSIGNED_SHORT,0);let m=l;l=n,n=m}o.length=0,y=null,f=null};for(const t of e){t.texture===f&&t.instance.passes===y||(v(),f=t.texture,y=t.instance.passes,n.t8(u,1/f.width,1/f.height));const e=t.instance.blurX/2,i=t.instance.blurY/2;h=Math.max(h,e,i);let r=4*o.length*17;for(let a=0;a<4;a++){switch(s.t9[r+0]=e,s.t9[r+1]=i,a){case 0:s.t9[r+2]=t.outBounds[0]+t.outBounds[2],s.t9[r+3]=t.outBounds[1],s.t9[r+4]=t.inBounds[0]+t.inBounds[2],s.t9[r+5]=t.inBounds[1],s.t9[r+6]=t.outBounds[0]+t.outBounds[2],s.t9[r+7]=t.outBounds[1];break;case 1:s.t9[r+2]=t.outBounds[0],s.t9[r+3]=t.outBounds[1]+t.outBounds[3],s.t9[r+4]=t.inBounds[0],s.t9[r+5]=t.inBounds[1]+t.inBounds[3],s.t9[r+6]=t.outBounds[0],s.t9[r+7]=t.outBounds[1]+t.outBounds[3];break;case 2:s.t9[r+2]=t.outBounds[0],s.t9[r+3]=t.outBounds[1],s.t9[r+4]=t.inBounds[0],s.t9[r+5]=t.inBounds[1],s.t9[r+6]=t.outBounds[0],s.t9[r+7]=t.outBounds[1];break;case 3:s.t9[r+2]=t.outBounds[0]+t.outBounds[2],s.t9[r+3]=t.outBounds[1]+t.outBounds[3],s.t9[r+4]=t.inBounds[0]+t.inBounds[2],s.t9[r+5]=t.inBounds[1]+t.inBounds[3],s.t9[r+6]=t.outBounds[0]+t.outBounds[2],s.t9[r+7]=t.outBounds[1]+t.outBounds[3]}s.t9[r+8]=t.inBounds[0]+.5,s.t9[r+9]=t.inBounds[1]+.5,s.t9[r+10]=t.inBounds[0]+t.inBounds[2]-1.5,s.t9[r+11]=t.inBounds[1]+t.inBounds[3]-1.5,s.t9[r+12]=t.outBounds[0]+.5,s.t9[r+13]=t.outBounds[1]+.5,s.t9[r+14]=t.outBounds[0]+t.outBounds[2]-1.5,s.t9[r+15]=t.outBounds[1]+t.outBounds[3]-1.5;const o=s.t9.subarray(r+0,r+2),h=s.t9.subarray(r+2,r+4),f=s.t9.subarray(r+4,r+6),d=s.t9.subarray(r+6,r+8),p=s.t9.subarray(r+8,r+10),y=s.t9.subarray(r+10,r+12),v=s.t9.subarray(r+12,r+14),m=s.t9.subarray(r+14,r+16);n.dC(o,o,u),n.iu(h,h,l),n.dC(f,f,u),n.dC(p,p,u),n.dC(y,y,u),n.dC(d,d,c),n.dC(v,v,c),n.dC(m,m,c),r+=17}o.push(t)}v()}finally{t.renderPool.returnTexture(d),t.renderPool.returnTexture(p)}}}h.instance=new h;class f extends r.l{constructor(t=4,e=4,i=1){super(),this.blurX=t,this.blurY=e,this.quality=i}get __filter(){return{filter:h.instance,paddings:n.al(this.blurX,this.blurY),blurX:this.blurX,blurY:this.blurY,passes:this.quality}}}},3633:(t,e,i)=>{"use strict";i.d(e,{p:()=>a});var r=i(5543),n=i(9793),s=i(1788);class a extends n.l{constructor(){super(...arguments),this.blurX=0,this.blurY=0,this.quality=3,this.color=16777215,this.strength=1,this.angle=45,this.distance=4,this.knockout=!1,this.hideObject=!1,this.inner=!1}get __filter(){return{filter:s.p.instance,paddings:r.al(this.blurX+this.distance,this.blurY+this.distance),blurX:this.blurX,blurY:this.blurY,passes:this.quality,color:this.color,strength:this.strength,angle:this.angle*Math.PI/180,distance:this.distance,knockout:this.knockout}}}},1151:(t,e,i)=>{"use strict";i.d(e,{J:()=>n});var r=i(4945);class n{constructor(t=1,e=1,i=1,n=1,s=0,a=0,o=0,l=0){this.__mul=r.al(t,e,i,n),this.__add=r.al(s,a,o,l)}get redMultiplier(){return this.__mul[0]}set redMultiplier(t){this.__mul[0]=t}get greenMultiplier(){return this.__mul[1]}set greenMultiplier(t){this.__mul[1]=t}get blueMultiplier(){return this.__mul[2]}set blueMultiplier(t){this.__mul[2]=t}get alphaMultiplier(){return this.__mul[3]}set alphaMultiplier(t){this.__mul[3]=t}get redOffset(){return this.__add[0]}set redOffset(t){this.__add[0]=t}get greenOffset(){return this.__add[1]}set greenOffset(t){this.__add[1]=t}get blueOffset(){return this.__add[2]}set blueOffset(t){this.__add[2]=t}get alphaOffset(){return this.__add[3]}set alphaOffset(t){this.__add[3]=t}set color(t){this.__add[0]=t>>>16&255,this.__add[1]=t>>>8&255,this.__add[2]=t>>>0&255,this.__mul[0]=0,this.__mul[1]=0,this.__mul[2]=0}}},7562:(t,e,i)=>{"use strict";i.d(e,{y:()=>n});var r=i(9378);class n{constructor(t=1,e=0,i=0,r=1,n=0,s=0){this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s}translate(t,e){this.tx+=t,this.ty+=e}scale(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e}rotate(t){const e=this.a,i=this.b,r=this.c,n=this.d,s=this.tx,a=this.ty,o=Math.sin(t),l=Math.cos(t);this.a=e*o-i*l,this.b=e*l+i*o,this.c=r*o-n*l,this.d=r*l+n*o,this.tx=s*o-a*l,this.ty=s*l+a*o}__fromMat2d(t){this.a=t[0],this.b=t[1],this.c=t[2],this.d=t[3],this.tx=t[4]/20,this.ty=t[5]/20}__toMat2d(t){t[0]=(0,r.rK)(this.a),t[1]=(0,r.rK)(this.b),t[2]=(0,r.rK)(this.c),t[3]=(0,r.rK)(this.d),t[4]=Math.trunc(20*this.tx),t[5]=Math.trunc(20*this.ty)}}},7069:(t,e,i)=>{"use strict";i.d(e,{E:()=>n});var r=i(5543);class n{constructor(t=0,e=0){this.__value=r.Ue(),r.t8(this.__value,t,e)}get x(){return this.__value[0]}set x(t){this.__value[0]=t}get y(){return this.__value[1]}set y(t){this.__value[1]=t}}},2942:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});class r{constructor(t=0,e=0,i=0,r=0){this.x=t,this.y=e,this.width=i,this.height=r}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}}r.__empty=new r},8745:(t,e,i)=>{"use strict";i.d(e,{w:()=>o});var r=i(4945),n=i(7562),s=i(1151),a=i(2550);class o{constructor(){this.__node=null,this.__matrix=new n.y,this.__colorTransform=new s.J}__setNode(t){this.__node=t,this.matrix=this.__matrix,this.colorTransform=this.__colorTransform}get matrix(){return this.__matrix}set matrix(t){var e;this.__matrix=t,this.__node&&(t.__toMat2d(this.__node.transformLocal),(null===(e=this.__node)||void 0===e?void 0:e.object)&&(this.__node.object.__scaleSkews=(0,a.q_)(this.__node.transformLocal)),this.__node.markLayoutDirty())}get colorTransform(){return this.__colorTransform}set colorTransform(t){this.__colorTransform=t,this.__node&&(r.JG(this.__node.colorTransformLocalMul,t.__mul),r.JG(this.__node.colorTransformLocalAdd,t.__add))}}},1719:(t,e,i)=>{"use strict";i.d(e,{$:()=>r});class r{constructor(){this.soundChannels=new Map}syncSound(t,e,i){var r;if((i.syncNoMultiple||i.syncStop)&&(null===(r=this.soundChannels.get(e))||void 0===r||r.stop(),this.soundChannels.delete(e)),i.syncStop)return;const n=t.instantiateCharacter(e);let s=0,a=1;null!=i.inPoint&&(s=i.inPoint/n.__character.audio.sampleRate*1e3),null!=i.loopCount&&(a=i.loopCount);const o=n.play(s,a);this.soundChannels.set(e,o)}stopSound(t){var e;null===(e=this.soundChannels.get(t))||void 0===e||e.stop()}}},23:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Sound:()=>l,SoundChannel:()=>s,SoundMixer:()=>u,SoundTransform:()=>a});var r=i(570),n=i(8281);class s extends r.p{constructor(t,e,i,r,s){super(),this.isStopped=!1,this.__context=t.__audio.context,this.__audioNode=this.__context.createBufferSource(),this.__volumeNode=this.__context.createGain(),this.__audioNode.buffer=e,this.__audioNode.connect(this.__volumeNode),this.__volumeNode.connect(t.__audio.rootNode),this.__soundTransform=i,this.__soundTransform.__source=this,this.__updateSoundTransform();const a=this.__context.currentTime;this.__beginTime=a-r,this.__duration=e.duration,this.__audioNode.loop=!0,this.__audioNode.loopStart=0,this.__audioNode.start(a,r),this.__audioNode.stop(this.__beginTime+Math.min(Math.max(1,s)*this.__duration,1e6)),this.__audioNode.onended=t.__withContext((()=>{this.__volumeNode.disconnect(),this.__audioNode.disconnect(),this.isStopped||this.dispatchEvent(new n.j(n.j.SOUND_COMPLETE,!1,!1)),this.__audioNode.onended=null}))}get soundTransform(){return this.__soundTransform}set soundTransform(t){this.__soundTransform.__source=null,this.__soundTransform=t,this.__soundTransform.__source=this,this.__updateSoundTransform()}get position(){return(this.__context.currentTime-this.__beginTime)%this.__duration*1e3}stop(){this.isStopped=!0,this.__audioNode.stop()}__updateSoundTransform(){this.__volumeNode.gain.setValueAtTime(this.__soundTransform.volume,this.__context.currentTime)}}class a{constructor(t=1){this.__source=null,this.__volume=t}get volume(){return this.__volume}set volume(t){var e;this.__volume=t,null===(e=this.__source)||void 0===e||e.__updateSoundTransform()}}var o=i(5511);class l extends r.p{constructor(){var t;super(),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null}get length(){var t,e;return 1e3*(null!==(e=null===(t=this.__character)||void 0===t?void 0:t.audio.duration)&&void 0!==e?e:0)}play(t=0,e=0,i=null){if(!this.__character)throw new Error("Sound character not exist");if(!o.H.__current)throw new Error("No stage in context");return new s(o.H.__current,this.__character.audio,null!=i?i:new a,t/1e3,e)}}class u{static get soundTransform(){return u.__soundTransform}static set soundTransform(t){u.__soundTransform.__source=null,u.__soundTransform=t,u.__soundTransform.__source=u,u.__updateSoundTransform()}static stopAll(){if(!o.H.__current)throw new Error("No stage in context");o.H.__current.__audio.reset(),u.__updateSoundTransform()}static __updateSoundTransform(){if(!o.H.__current)throw new Error("No stage in context");o.H.__current.__audio.rootNode.gain.setValueAtTime(this.soundTransform.volume,o.H.__current.__audio.context.currentTime)}}u.__soundTransform=new a},3441:(t,e,i)=>{"use strict";i.d(e,{V:()=>n});var r=i(2640);class n extends r.s{constructor(){var t,e;super(),this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this)}}},7264:(t,e,i)=>{"use strict";i.d(e,{S:()=>n});var r=i(313);class n{constructor(){this.align=r.O.LEFT,this.bold=!1,this.italic=!1,this.color=0,this.font="Times New Roman",this.size=12,this.leading=0}__clone(){const t=new n;return t.align=this.align,t.bold=this.bold,t.italic=this.italic,t.color=this.color,t.font=this.font,t.size=this.size,t.leading=this.leading,t}}},313:(t,e,i)=>{"use strict";var r;i.d(e,{O:()=>r}),function(t){t.CENTER="center",t.END="end",t.JUSTIFY="justify",t.LEFT="left",t.RIGHT="right",t.START="start"}(r||(r={}))},2389:(t,e,i)=>{"use strict";i.r(e),i.d(e,{StaticText:()=>n.V,TextField:()=>l,TextFieldType:()=>r,TextFormat:()=>u.S,TextFormatAlign:()=>c.O});var r,n=i(3441),s=i(9956),a=i(230),o=i(8077);!function(t){t.DYNAMIC="dynamic",t.INPUT="input"}(r||(r={}));class l extends o.D{constructor(){var t,e;super(),this.__internalNode=new a.B(null),this.__container=new s.W(this.__internalNode),this.type=r.DYNAMIC,this.selectable=!0,this.__character=null!==(t=this.constructor.__character)&&void 0!==t?t:null,null===(e=this.__character)||void 0===e||e.applyTo(this),this.__internalNode.setParent(this.__node,0)}get wordWrap(){return this.__container.wordWrap}set wordWrap(t){this.__container.wordWrap=t}get multiline(){return this.__container.multiline}set multiline(t){this.__container.multiline=t}get defaultTextFormat(){return this.__container.defaultTextFormat}set defaultTextFormat(t){this.__container.defaultTextFormat=t}get textColor(){return this.__container.defaultTextFormat.color}set textColor(t){this.__container.defaultTextFormat.color=t}get text(){return this.__container.text}set text(t){this.__container.text=t}get htmlText(){return this.__container.htmlText}set htmlText(t){this.__container.htmlText=t}__onRender(){super.__onRender();const t=this.__node.transformWorld[0]/this.__node.transformWorld[3];t&&this.__container.layoutScale!==t&&(this.__container.layoutScale=t,this.__internalNode.transformLocal[0]=1/t,this.__container.layout())}}var u=i(7264),c=i(313)},8682:(t,e,i)=>{"use strict";i.d(e,{N:()=>r});class r{}r.NUMBER_0=48,r.NUMBER_1=49,r.NUMBER_2=50,r.NUMBER_3=51,r.NUMBER_4=52,r.NUMBER_5=53,r.NUMBER_6=54,r.NUMBER_7=55,r.NUMBER_8=56,r.NUMBER_9=57,r.A=65,r.B=66,r.C=67,r.D=68,r.E=69,r.F=70,r.G=71,r.H=72,r.I=73,r.J=74,r.K=75,r.L=76,r.M=77,r.N=78,r.O=79,r.P=80,r.Q=81,r.R=82,r.S=83,r.T=84,r.U=85,r.V=86,r.W=87,r.X=88,r.Y=89,r.Z=90,r.SEMICOLON=186,r.EQUAL=187,r.COMMA=188,r.MINUS=189,r.PERIOD=190,r.SLASH=191,r.BACKQUOTE=192,r.LEFTBRACKET=219,r.BACKSLASH=220,r.RIGHTBRACKET=221,r.QUOTE=222,r.ALTERNATE=18,r.BACKSPACE=8,r.CAPS_LOCK=20,r.COMMAND=15,r.CONTROL=17,r.DELETE=46,r.DOWN=40,r.END=35,r.ENTER=13,r.ESCAPE=27,r.F1=112,r.F2=113,r.F3=114,r.F4=115,r.F5=116,r.F6=117,r.F7=118,r.F8=119,r.F9=120,r.F10=121,r.F11=122,r.F12=123,r.F13=124,r.F14=125,r.F15=126,r.HOME=36,r.INSERT=45,r.LEFT=37,r.NUMPAD=21,r.NUMPAD_0=96,r.NUMPAD_1=97,r.NUMPAD_2=98,r.NUMPAD_3=99,r.NUMPAD_4=100,r.NUMPAD_5=101,r.NUMPAD_6=102,r.NUMPAD_7=103,r.NUMPAD_8=104,r.NUMPAD_9=105,r.NUMPAD_ADD=107,r.NUMPAD_DECIMAL=110,r.NUMPAD_DIVIDE=111,r.NUMPAD_ENTER=108,r.NUMPAD_MULTIPLY=106,r.NUMPAD_SUBTRACT=109,r.PAGE_DOWN=34,r.PAGE_UP=33,r.RIGHT=39,r.SHIFT=16,r.SPACE=32,r.TAB=9,r.UP=38,r.RED=16777216,r.GREEN=16777217,r.YELLOW=16777218,r.BLUE=16777219,r.CHANNEL_UP=16777220,r.CHANNEL_DOWN=16777221,r.RECORD=16777222,r.PLAY=16777223,r.PAUSE=16777224,r.STOP=16777225,r.FAST_FORWARD=16777226,r.REWIND=16777227,r.SKIP_FORWARD=16777228,r.SKIP_BACKWARD=16777229,r.NEXT=16777230,r.PREVIOUS=16777231,r.LIVE=16777232,r.LAST=16777233,r.MENU=16777234,r.INFO=16777235,r.GUIDE=16777236,r.EXIT=16777237,r.BACK=16777238,r.AUDIO=16777239,r.SUBTITLE=16777240,r.DVR=16777241,r.VOD=16777242,r.INPUT=16777243,r.SETUP=16777244,r.HELP=16777245,r.MASTER_SHELL=16777246,r.SEARCH=16777247,r.codeMap={Digit0:r.NUMBER_0,Digit1:r.NUMBER_1,Digit2:r.NUMBER_2,Digit3:r.NUMBER_3,Digit4:r.NUMBER_4,Digit5:r.NUMBER_5,Digit6:r.NUMBER_6,Digit7:r.NUMBER_7,Digit8:r.NUMBER_8,Digit9:r.NUMBER_9,KeyA:r.A,KeyB:r.B,KeyC:r.C,KeyD:r.D,KeyE:r.E,KeyF:r.F,KeyG:r.G,KeyH:r.H,KeyJ:r.J,KeyK:r.K,KeyL:r.L,KeyM:r.M,KeyN:r.N,KeyO:r.O,KeyP:r.P,KeyQ:r.Q,KeyR:r.R,KeyS:r.S,KeyT:r.T,KeyU:r.U,KeyV:r.V,KeyW:r.W,KeyX:r.X,KeyY:r.Y,KeyZ:r.Z,Semicolon:r.SEMICOLON,Equal:r.EQUAL,Comma:r.COMMA,Minus:r.MINUS,Period:r.PERIOD,Slash:r.SLASH,Backquote:r.BACKQUOTE,BracketLeft:r.LEFTBRACKET,Backslash:r.BACKSLASH,BracketRight:r.RIGHTBRACKET,Quote:r.QUOTE,AltLeft:r.ALTERNATE,AltRight:r.ALTERNATE,Backspace:r.BACKSPACE,CapsLock:r.CAPS_LOCK,ControlLeft:r.CONTROL,ControlRight:r.CONTROL,Delete:r.DELETE,ArrowDown:r.DOWN,End:r.END,Enter:r.ENTER,Escape:r.ESCAPE,F1:r.F1,F2:r.F2,F3:r.F3,F4:r.F4,F5:r.F5,F6:r.F6,F7:r.F7,F8:r.F8,F9:r.F9,F10:r.F10,F11:r.F11,F12:r.F12,F13:r.F13,F14:r.F14,F15:r.F15,Home:r.HOME,Insert:r.INSERT,ArrowLeft:r.LEFT,Numpad0:r.NUMPAD_0,Numpad1:r.NUMPAD_1,Numpad2:r.NUMPAD_2,Numpad3:r.NUMPAD_3,Numpad4:r.NUMPAD_4,Numpad5:r.NUMPAD_5,Numpad6:r.NUMPAD_6,Numpad7:r.NUMPAD_7,Numpad8:r.NUMPAD_8,Numpad9:r.NUMPAD_9,NumpadAdd:r.NUMPAD_ADD,NumpadDecimal:r.NUMPAD_DECIMAL,NumpadDivide:r.NUMPAD_DIVIDE,NumpadEnter:r.NUMPAD_ENTER,NumpadMultiply:r.NUMPAD_MULTIPLY,NumpadSubtract:r.NUMPAD_SUBTRACT,PageDown:r.PAGE_DOWN,PageUp:r.PAGE_UP,ArrowRight:r.RIGHT,ShiftLeft:r.SHIFT,ShiftRight:r.SHIFT,Space:r.SPACE,Tab:r.TAB,ArrowUp:r.UP}},6375:(t,e,i)=>{"use strict";i.d(e,{k:()=>n,e:()=>s});const r=new AudioContext;function n(t){return r.decodeAudioData(t)}class s{constructor(){this.context=new AudioContext,this.rootNode=this.context.createGain(),this.rootNode.connect(this.context.destination)}reset(){this.rootNode.disconnect(),this.rootNode=this.context.createGain(),this.rootNode.connect(this.context.destination)}}},2166:(t,e,i)=>{"use strict";i.d(e,{B:()=>r,p:()=>o});var r,n=i(6300),s=i(5950),a=i(843);!function(t){t[t.Up=0]="Up",t[t.Over=1]="Over",t[t.Down=2]="Down",t[t.HitTest=3]="HitTest"}(r||(r={}));class o{constructor(t,e,i){this.id=t,this.def=e,this.library=i}applyTo(t){this.instantiateState(t,r.Up),this.instantiateState(t,r.Over),this.instantiateState(t,r.Down),this.instantiateState(t,r.HitTest),t.trackAsMenu=this.def.trackAsMenu}instantiateState(t,e){const i=new n.j;let o;switch(e){case r.Up:o=t=>t.up;break;case r.Over:o=t=>t.over;break;case r.Down:o=t=>t.down;break;case r.HitTest:o=t=>t.hitTest}for(const t of this.def.characters)o(t)&&(0,a.WO)(this.library,i,{kind:s.z.PlaceObject,depth:t.depth,characterId:t.characterId,moveCharacter:!1,version:3,matrix:t.matrix,colorTransform:t.colorTransform,filters:t.filters,blendMode:t.blendMode});switch((0,a.PU)(i),e){case r.Up:t.upState=i;break;case r.Over:t.overState=i;break;case r.Down:t.downState=i;break;case r.HitTest:t.hitTestState=i}}stateTransition(t,e,i){let n;e===r.Over&&i===r.Up?n=this.def.overUpToIdle:e===r.Up&&i===r.Over?n=this.def.idleToOverUp:e===r.Over&&i===r.Down?n=this.def.overUpToOverDown:e===r.Down&&i===r.Over&&(n=this.def.idleToOverUp),n&&(0,a.jf)(this.library,t.__soundContext,{kind:s.z.StartSound,characterId:n.characterId,soundInfo:n.soundInfo})}}},843:(t,e,i)=>{"use strict";i.d(e,{WO:()=>h,Ff:()=>f,jf:()=>d,PU:()=>y});var r,n=i(2526),s=i(4945),a=i(2640),o=i(2120),l=i(8051),u=i(3633);!function(t){t[t.DropShadow=0]="DropShadow",t[t.Blur=1]="Blur"}(r||(r={}));var c=i(2550);function h(t,e,i){const r=e.__children;let o;if(i.characterId){let l=r.findIndex((t=>t.__depth>=i.depth)),u=null;if(-1===l)l=r.length;else if(r[l].__depth===i.depth){const t=r[l].__character;(null==t?void 0:t.id)===i.characterId?o=r[l]:(u=r[l],e.removeChildAt(l))}if(o)p(e,o,i,!i.moveCharacter);else{const{characterId:r,depth:o}=i;a.s.__initChar((()=>t.instantiateCharacter(r)),(t=>{var r,a;e.addChildAt(t,l),t.__depth=o,u&&(r=u,a=t,n.JG(a.__node.transformLocal,r.__node.transformLocal),a.__scaleSkews={...r.__scaleSkews},s.JG(a.__node.colorTransformLocalMul,r.__node.colorTransformLocalMul),s.JG(a.__node.colorTransformLocalAdd,r.__node.colorTransformLocalMul),a.__clipDepth=r.__clipDepth,a.name=r.name,a.filters=r.filters,a.cacheAsBitmap=r.cacheAsBitmap,a.visible=r.visible),p(e,t,i,!i.moveCharacter)}))}}else o=r.find((t=>t.__depth===i.depth)),o&&p(e,o,i,!1)}function f(t,e){const i=t.__children.findIndex((t=>t.__depth===e.depth));i<0||t.removeChildAt(i)}function d(t,e,i){e.syncSound(t,i.characterId,i.soundInfo)}function p(t,e,i,a){var h,f;if(null!=i.matrix?(n.JG(e.__node.transformLocal,i.matrix),e.__scaleSkews=(0,c.q_)(e.__node.transformLocal),e.__node.markLayoutDirty()):a&&(n.yR(e.__node.transformLocal),e.__scaleSkews=(0,c.q_)(e.__node.transformLocal),e.__node.markLayoutDirty()),null!=i.colorTransform?(s.JG(e.__node.colorTransformLocalMul,i.colorTransform.slice(0,4)),s.JG(e.__node.colorTransformLocalAdd,i.colorTransform.slice(4,8))):a&&(s.t8(e.__node.colorTransformLocalMul,1,1,1,1),s.t8(e.__node.colorTransformLocalAdd,0,0,0,0)),!(i.version<=1||(null!=i.clipDepth?e.__clipDepth=i.clipDepth:a&&(e.__clipDepth=-1),e instanceof o.W&&(null!=i.ratio?(e.__ratio=i.ratio,null===(h=e.__character)||void 0===h||h.applyTo(e)):a&&(e.__ratio=0,null===(f=e.__character)||void 0===f||f.applyTo(e))),null!=i.name&&(e.name=i.name,t[e.name]=e),i.version<=2))){if(null!=i.filters){const t=[];for(const e of i.filters)switch(e.id){case r.Blur:{const i=new l.T;i.blurX=e.blurX,i.blurY=e.blurY,i.quality=e.passes,t.push(i);break}case r.DropShadow:{const i=new u.p;i.color=e.color,i.blurX=e.blurX,i.blurY=e.blurY,i.angle=180*e.angle/Math.PI,i.distance=e.distance,i.strength=e.strength,i.inner=e.inner,i.knockout=e.knockout,i.quality=e.passes,t.push(i);break}}e.filters=t}else a&&(e.filters=[]);null!=i.cacheAsBitmap?e.cacheAsBitmap=i.cacheAsBitmap:a&&(e.cacheAsBitmap=!1),null!=i.visible?e.visible=i.visible:a&&(e.visible=!0)}}function y(t){const e=[];for(const i of t.__children)i.__clipDepth>=0&&e.push(i);for(const i of t.__children)for(const t of e)i.__depth>t.__depth&&i.__depth<=t.__clipDepth&&(i.mask=t)}},9378:(t,e,i)=>{"use strict";function r(t){return Math.round(65536*t)/65536}function n(t){t[0]=r(t[0]),t[1]=r(t[1]),t[2]=r(t[2]),t[3]=r(t[3]),t[4]=Math.round(t[4]),t[5]=Math.round(t[5])}function s(t,e,i){const r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=i[0],c=i[1],h=i[2],f=i[3],d=i[4],p=i[5];t[0]=Math.fround(r*u)+Math.fround(s*c),t[1]=Math.fround(n*u)+Math.fround(a*c),t[2]=Math.fround(r*h)+Math.fround(s*f),t[3]=Math.fround(n*h)+Math.fround(a*f),t[4]=Math.round(r*d+s*p)+o,t[5]=Math.round(n*d+a*p)+l}i.d(e,{rK:()=>r,Gk:()=>n,Yu:()=>s})},4495:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});const r={create:()=>Int32Array.of(0,0,0,0),fromValues:(t,e,i,r)=>Int32Array.of(t,e,i,r),copy(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]},fromRect(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[0]+e[2],t[3]=e[1]+e[3]},toRect(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]-e[0],t[3]=e[3]-e[1]},equals:(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3],intersects:(t,e)=>t[0]-e[2]<=0&&e[0]-t[2]<=0&&t[1]-e[3]<=0&&e[1]-t[3]<=0,contains:(t,e,i)=>e>=t[0]&&e<t[2]&&i>=t[1]&&i<t[3],union:(t,e,i)=>(e[0]!==e[2]&&e[1]!==e[3]||r.copy(t,i),i[0]!==i[2]&&i[1]!==i[3]||r.copy(t,e),t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t),apply(t,e,i){let r=i[0]*e[0]+i[2]*e[1]+i[4],n=i[1]*e[0]+i[3]*e[1]+i[5],s=r,a=n,o=r,l=n;return r=i[0]*e[2]+i[2]*e[1]+i[4],n=i[1]*e[2]+i[3]*e[1]+i[5],s=Math.min(s,r),a=Math.min(a,n),o=Math.max(o,r),l=Math.max(l,n),r=i[0]*e[0]+i[2]*e[3]+i[4],n=i[1]*e[0]+i[3]*e[3]+i[5],s=Math.min(s,r),a=Math.min(a,n),o=Math.max(o,r),l=Math.max(l,n),r=i[0]*e[2]+i[2]*e[3]+i[4],n=i[1]*e[2]+i[3]*e[3]+i[5],s=Math.min(s,r),a=Math.min(a,n),o=Math.max(o,r),l=Math.max(l,n),t[0]=Math.round(s),t[1]=Math.round(a),t[2]=Math.round(o),t[3]=Math.round(l),t}}},5355:(t,e,i)=>{"use strict";i.d(e,{u_:()=>n,K1:()=>s,fE:()=>a});var r=i(4945);function n(t){let e=t>>>24&255,i=t>>>16&255,r=t>>>8&255,n=t>>>0&255;const s=e/255;return i=255&Math.round(i*s),r=255&Math.round(r*s),n=255&Math.round(n*s),1*i+256*r+65536*n+16777216*e}function s(t,e){return t[0]=(e>>>0&255)/255,t[1]=(e>>>8&255)/255,t[2]=(e>>>16&255)/255,t[3]=(e>>>24&255)/255,t}function a(t,e,i,n,s,a){r.dC(t,s,i),r.dC(e,a,i),r.IH(e,e,n)}},2550:(t,e,i)=>{"use strict";i.d(e,{CJ:()=>s,lS:()=>a,q_:()=>o,qC:()=>l});var r=i(2526),n=i(9378);function s(t,e,i,n){return r.yR(t),t[0]=2/e,t[3]=(n?-2:2)/i,t[4]=-1,t[5]=n?1:-1,t}function a(t){for(;t>180;)t-=360;for(;t<-180;)t+=360;return t}function o(t){const e=r.GH(t)<0?-1:1;return{scaleX:Math.sqrt(t[0]*t[0]+t[1]*t[1])*e,scaleY:Math.sqrt(t[2]*t[2]+t[3]*t[3])*e,skewX:Math.atan2(t[3],t[2])-Math.PI/2,skewY:Math.atan2(t[1],t[0])}}function l(t,e){const{skewX:i,skewY:r,scaleX:s,scaleY:a}=e;if(!(0!==i&&i!==2*Math.PI||0!==r&&r!==2*Math.PI)){const e=t[0]!==s||t[3]!==a;return t[0]=s,t[1]=0,t[2]=0,t[3]=a,e}const o=(0,n.rK)(Math.cos(r)*s),l=(0,n.rK)(Math.sin(r)*s),u=(0,n.rK)(-Math.sin(i)*a),c=(0,n.rK)(Math.cos(i)*a),h=t[0]!==o||t[1]!==l||t[2]!==u||t[3]!==c;return t[0]=o,t[1]=l,t[2]=u,t[3]=c,h}},8671:(t,e,i)=>{"use strict";i.d(e,{J:()=>s});var r=i(5543);const n=1e-6,s={create:()=>Float32Array.of(0,0,0,0),fromValues:(t,e,i,r)=>Float32Array.of(t,e,i,r),copy:(t,e)=>(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t),equals:(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3],intersects:(t,e)=>t[0]-(e[0]+e[2])<=n&&e[0]-(t[0]+t[2])<=n&&t[1]-(e[1]+e[3])<=n&&e[1]-(t[1]+t[3])<=n,contains:(t,e,i)=>e>=t[0]&&e<t[0]+t[2]&&i>=t[1]&&i<t[1]+t[3],clear:t=>(t[0]=0,t[1]=0,t[2]=0,t[3]=0,t),scale:(t,e,i)=>(t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t),translate:(t,e,i)=>(t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2],t[3]=e[3],t),union(t,e,i){0===e[2]||0===e[3]?s.copy(t,i):0!==i[2]&&0!==i[3]||s.copy(t,e);const r=Math.min(e[0],i[0]),n=Math.min(e[1],i[1]),a=Math.max(e[0]+e[2],i[0]+i[2]),o=Math.max(e[1]+e[3],i[1]+i[3]);return t[0]=r,t[1]=n,t[2]=a-r,t[3]=o-n,t},apply(t,e,i){const n=[0,0];let[s,a]=r.iu(n,[e[0],e[1]],i),o=s,l=a,u=s,c=a;return[s,a]=r.iu(n,[e[0]+e[2],e[1]],i),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),[s,a]=r.iu(n,[e[0],e[1]+e[3]],i),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),[s,a]=r.iu(n,[e[0]+e[2],e[1]+e[3]],i),o=Math.min(o,s),l=Math.min(l,a),u=Math.max(u,s),c=Math.max(c,a),t[0]=o,t[1]=l,t[2]=u-o,t[3]=c-l,t}}},1645:(t,e,i)=>{"use strict";i.d(e,{r:()=>o});var r=i(8671),n=i(2526),s=i(5543),a=i(1552);class o{constructor(t,e,i,r,n,s,a,o){this.kind=t,this.vertices=e,this.colors=i,this.indices=r,this.uvMatrix=n,this.texture=s,this.fillMode=a,this.bounds=o}static rect(t,e,i){const{invertY:r=!1,texWidth:s=e.width,texHeight:a=e.height,scale:l=1}=null!=i?i:{};t[2]*=l,t[3]*=l;const u=new Float32Array(8);u[0]=t[2],u[1]=0,u[2]=0,u[3]=t[3],u[4]=0,u[5]=0,u[6]=t[2],u[7]=t[3];const c=new Uint32Array(4);c.fill(4294967295);const h=new Uint16Array(6);h[0]=0,h[1]=1,h[2]=2,h[3]=1,h[4]=0,h[5]=3;const f=n.Ue();return n.bA(f,f,[1/s,1/a]),r&&(n.bA(f,f,[1,-1]),n.Iu(f,f,[0,-a])),n.Iu(f,f,[t[0],t[1]]),n.bA(f,f,[1/l,1/l]),new o("shape",u,c,h,f,e,0,t)}static line(t,e,i,s,l,u){const c=function(t,e,i,r){const n=i-t,s=r-e,a=Math.sqrt(n*n+s*s);return[-s/a,n/a]}(t,e,i,s),h=l/2,f=new Float32Array(8);f[0]=i-c[0]*h,f[1]=s-c[1]*h,f[2]=t+c[0]*h,f[3]=e+c[1]*h,f[4]=t-c[0]*h,f[5]=e-c[1]*h,f[6]=i+c[0]*h,f[7]=s+c[1]*h;const d=new Uint32Array(4);d.fill(u);const p=new Uint16Array(6);p[0]=0,p[1]=1,p[2]=2,p[3]=1,p[4]=0,p[5]=3;const y=n.Ue(),v=r.J.create();return v[0]=Math.min(t,i),v[1]=Math.min(e,s),v[2]=Math.max(t,i)-v[0],v[3]=Math.max(e,s)-v[1],new o("shape",f,d,p,y,a.x.WHITE,0,v)}hitTest(t,e,i){if(!i)return r.J.contains(this.bounds,t,e);const n=(i,r,n,s)=>(t-n)*(r-s)-(i-n)*(e-s),s=this.vertices,a=this.indices,o=a.length/3;for(let t=0;t<o;t++){const e=s[2*a[3*t+0]+0],i=s[2*a[3*t+0]+1],r=s[2*a[3*t+1]+0],o=s[2*a[3*t+1]+1],l=s[2*a[3*t+2]+0],u=s[2*a[3*t+2]+1],c=n(e,i,r,o),h=n(r,o,l,u),f=n(l,u,e,i),d=c>0||h>0||f>0;if(!(c<0||h<0||f<0)||!d)return!0}return!1}static merge(t,e){let i=0,r=0;const n=[],s=[];for(const a of e)r+a.renderObject.indices.length>=65536&&(s.push(l(t,n,i,r)),i=0,r=0,n.length=0),i+=a.renderObject.vertices.length/2,r+=a.renderObject.indices.length,n.push(a);return r>0&&s.push(l(t,n,i,r)),s}}function l(t,e,i,a){const l=new Float32Array(2*i),u=new Uint32Array(i),c=new Uint16Array(a),h=r.J.create();let f=0,d=0;for(const{renderObject:t,color:i,transform:n}of e){for(let e=0;e<t.vertices.length;e+=2){const i=l.subarray(2*f+e,2*f+e+2),r=t.vertices.subarray(e,e+2);s.iu(i,r,n)}null==i?u.set(t.colors,f):u.fill(i,f,f+t.colors.length),c.set(t.indices.map((t=>t+f)),d),r.J.union(h,h,r.J.apply(r.J.create(),t.bounds,n)),f+=t.vertices.length/2,d+=t.indices.length}return new o(t,l,u,c,n.yR(n.Ue()),null,0,h)}},230:(t,e,i)=>{"use strict";i.d(e,{B:()=>v});var r,n=i(2526),s=i(5543),a=i(4945),o=i(1645),l=i(8671),u=i(8513),c=i(9378),h=i(4495);!function(t){t[t.DirtyBounds=1]="DirtyBounds",t[t.DirtyTransform=2]="DirtyTransform",t[t.DirtyChildTransform=4]="DirtyChildTransform",t[t.DirtyRender=8]="DirtyRender",t[t.DirtyAll=15]="DirtyAll",t[t.IsRoot=128]="IsRoot"}(r||(r={})),h.A.create(),h.A.create();const f=l.J.create(),d=n.Ue(),p=n.Ue(),y=s.Ue();class v{constructor(t){this.object=t,this.flags=r.DirtyAll,this.parent=null,this.mask=null,this.children=[],this.visible=!0,this.isMask=!1,this.buttonState=-1,this.renderObjects=[],this.boundsIntrinsic=h.A.create(),this.cacheAsBitmap=!1,this.cachedRender=null,this.filters=[],this.transformLocal=n.Ue(),this.colorTransformLocalMul=a.al(1,1,1,1),this.colorTransformLocalAdd=a.al(0,0,0,0),this.bounds=h.A.create(),this.boundsLocal=h.A.create(),this.boundsWorld=h.A.create(),this.transformRender=n.Ue(),this.transformWorld=n.Ue(),this.transformWorldInvert=n.Ue()}markRenderDirty(){let t=this;for(;t&&0==(t.flags&r.DirtyRender);)t.flags|=r.DirtyRender,t=t.parent}markLayoutDirty(t=!0){let e=this;for(;e;)e.flags|=r.DirtyBounds,e=e.parent;for(e=this;e;)e.flags|=r.DirtyChildTransform,e=e.parent;const i=[this];for(;e=i.pop();){e.flags|=r.DirtyTransform|r.DirtyChildTransform;for(const t of e.children)i.push(t)}}ensureLayout(){const t=[this];let e;for(;e=t.pop();){if(e.parent&&0!=(e.parent.flags&r.DirtyTransform)){t.push(e.parent);continue}if(e.flags&r.DirtyChildTransform&&(t.push(...e.children),e.flags&=~r.DirtyChildTransform),0==(e.flags&r.DirtyTransform))continue;e.parent?((0,c.Yu)(d,e.parent.transformWorld,e.transformLocal),(0,c.Yu)(p,e.parent.transformRender,e.transformLocal)):(n.JG(d,e.transformLocal),n.JG(p,e.transformLocal)),e.cacheAsBitmap&&n.yR(p);const i=!n.I6(d,e.transformWorld),s=!n.I6(p,e.transformRender);if(e.flags&=~r.DirtyTransform,i){n.JG(e.transformWorld,d),n.U_(e.transformWorldInvert,e.transformWorld),(0,c.Gk)(e.transformWorldInvert);let t=e;for(;t;)t.flags|=r.DirtyBounds,t=t.parent;for(const t of e.children)t.flags|=r.DirtyTransform}if(s){n.JG(e.transformRender,p);let t=e;for(;t;)t.flags|=r.DirtyRender,t=t.parent}}}boundsWithTransform(t,e){h.A.apply(t,this.boundsIntrinsic,e);const i=h.A.create(),r=n.Ue();for(const n of this.children)(0,c.Yu)(r,e,n.transformLocal),n.boundsWithTransform(i,r),h.A.union(t,t,i)}ensureBounds(){0!=(this.flags&r.DirtyBounds)&&(n.yR(d),this.boundsWithTransform(this.bounds,d),this.boundsWithTransform(this.boundsLocal,this.transformLocal),this.boundsWithTransform(this.boundsWorld,this.transformWorld),this.flags&=~r.DirtyBounds)}setParent(t,e){if(this.parent!==t){if(this.parent){const t=this.parent.children.indexOf(this);this.parent.children.splice(t,1),this.parent.markLayoutDirty(!1)}this.parent=t,this.parent?this.parent.children.splice(e,0,this):0==(this.flags&r.IsRoot)&&this.onRemoveFromStage(),this.markLayoutDirty()}else if(t){const i=t.children.indexOf(this);t.children.splice(i,1),t.children.splice(e,0,this),t.markRenderDirty()}}setRenderObjects(t,e){this.renderObjects=t,h.A.fromRect(this.boundsIntrinsic,e),this.markLayoutDirty(!1)}render(t){this.ensureLayout(),this.renderRecursive(t)}renderRecursive(t){t.pushTransform(this.transformLocal,{colorMul:this.colorTransformLocalMul,colorAdd:this.colorTransformLocalAdd}),this.doRender(t),t.popTransform()}doRender(t){var e;if(this.visible&&(!this.isMask||t.transform.renderMask===this)){if(this.cacheAsBitmap&&this.cachedRender&&0==(this.flags&r.DirtyRender))return t.pushTransform(this.cachedRender.view),t.renderObject(this.cachedRender.renderObject),void t.popTransform();this.flags&=~r.DirtyRender,null===(e=this.cachedRender)||void 0===e||e.return(),this.cachedRender=null,this.doRenderMask(t)}}doRenderMask(t){const e=this.mask;e&&(n.U_(d,this.transformWorld),n.Jp(d,d,e.transformWorld),t.pushTransform(d,{renderMask:e}),e.doRender(t),t.popTransform(),t.transform.useMask.push(e)),this.doRenderFilter(t)}doRenderFilter(t){if(this.cacheAsBitmap||this.filters.length>0){const e=s.Ue();for(const t of this.filters)s.Fp(e,e,t.paddings);e[0]=Math.ceil(e[0])*u.JN,e[1]=Math.ceil(e[1])*u.JN;const i=t.transform.view,r=this.filters.slice(),n=(t,e,s)=>{const a=r.shift();a?t.renderFilter(e,s,a,n):this.cacheAsBitmap?(t.renderCache(e,s,i,(t=>{this.cachedRender=t})),t.renderObject(o.r.rect(s,e,{scale:u.JN}))):t.renderObject(o.r.rect(s,e,{scale:u.JN}))};this.ensureBounds(),h.A.toRect(f,this.bounds),t.renderTexture(f,e,(t=>this.doRenderContent(t)),n)}else this.doRenderContent(t)}doRenderContent(t){for(const e of this.renderObjects)t.renderObject(e);if(this.buttonState>=0)this.children[this.buttonState].render(t);else for(const e of this.children)e.renderRecursive(t)}onRemoveFromStage(){var t;null===(t=this.cachedRender)||void 0===t||t.return(),this.cachedRender=null;for(const t of this.children)t.onRemoveFromStage()}hitTest(t,e){if(this.buttonState>=0)return this.children[3].hitTest(t,!0);if(this.mask&&!this.mask.hitTest(t,e))return!1;if(!e)return this.ensureLayout(),this.ensureBounds(),y[0]=(0,u.E_)(t[0]),y[1]=(0,u.E_)(t[1]),s.iu(y,y,this.transformWorldInvert),h.A.contains(this.bounds,y[0],y[1]);const i=[this];let r;for(;r=i.pop();){if(r.renderObjects.length>0&&(y[0]=(0,u.E_)(t[0]),y[1]=(0,u.E_)(t[1]),s.iu(y,y,r.transformWorldInvert),r.renderObjects.some((t=>t.hitTest(y[0],y[1],e)))))return!0;for(const t of r.children)i.push(t)}return!1}clone(){const t=new Map,e=i=>{let r=t.get(i);if(r)return r;r=new v(i.object),t.set(i,r),r.visible=i.visible,r.isMask=i.isMask,r.buttonState=i.buttonState,r.renderObjects=i.renderObjects.slice(),r.cacheAsBitmap=i.cacheAsBitmap,r.filters=i.filters.slice(),h.A.copy(r.boundsIntrinsic,i.boundsIntrinsic),n.JG(r.transformLocal,i.transformLocal),a.JG(r.colorTransformLocalMul,i.colorTransformLocalMul),a.JG(r.colorTransformLocalAdd,i.colorTransformLocalAdd),r.mask=i.mask&&e(i.mask);for(const t of i.children){const i=e(t);r.children.push(i),i.parent=r}return r};return e(this)}}},1788:(t,e,i)=>{"use strict";i.d(e,{p:()=>f});var r=i(2526),n=i(5543),s=i(4945),a=i(1215),o=i(2550),l=i(5355);const u=r.Ue(),c=n.Ue(),h=n.Ue();class f{isEffective(t){return t.blurX>0||t.blurY>0||t.distance>0}apply(t,e,i){const r=t.glState,f=r.gl,{width:d,height:p}=i.texture;(0,o.CJ)(u,d,p,!1),n.t8(h,1/d,1/p),r.setViewport(0,0,d,p),r.disable(f.BLEND),r.setClearColor(0,0,0,0);const y=t.renderPool.takeTexture(d,p),v=t.renderPool.takeTexture(d,p);try{const o=[];let d=0,p=null,m=null;const g=()=>{if(!p||!m)return;const t=(0,a.$_)(d),e=o.length;a.Qb.update(r,0,4*e*17);let u=y,c=v;for(let i=0;i<2*m;i++){let n=u,s=c.texture,o=i%2;0===i&&(s=p,o+=2);const l=n.framebuffer.ensure(r);r.bindFramebuffer(f.FRAMEBUFFER,l);const h=t.ensure(r);a.BR.ensure(r),r.useProgram(h);const d=r.bindTextures([s.ensure(r)])[0];t.uniform(r,"uTexture",d),t.uniform(r,"uMode",o),a.BR.bind(r),f.drawElements(f.TRIANGLES,6*e,f.UNSIGNED_SHORT,0);let y=c;c=u,u=y}for(let t=0;t<o.length;t++){const e=(0,l.K1)(s.Ue(),(0,l.u_)(o[t].instance.color));s.bA(e,e,o[t].instance.strength);const i=n.al(o[t].instance.distance,0);n.U1(i,i,[0,0],o[t].instance.angle),n.dC(i,i,h);let r=0;o[t].instance.knockout&&(r|=1);for(let n=0;n<4;n++){const s=17*(4*t+n);a.t9[s+0]=i[0],a.t9[s+1]=i[1],a.t9[s+8]=e[0],a.t9[s+9]=e[1],a.t9[s+10]=e[2],a.t9[s+11]=e[3],a.QF[s+16]=r}}a.Qb.update(r,0,4*e*17);const g=i.framebuffer.ensure(r);r.bindFramebuffer(f.FRAMEBUFFER,g);const b=a.wm.ensure(r);r.useProgram(b);const _=r.bindTextures([c.texture.ensure(r),p.ensure(r)]);a.wm.uniform(r,"uTextures[0]",_),f.drawElements(f.TRIANGLES,6*e,f.UNSIGNED_SHORT,0),o.length=0,m=null,p=null};for(const t of e){t.texture===p&&t.instance.passes===m||(g(),p=t.texture,m=t.instance.passes,d=0,n.t8(c,1/p.width,1/p.height));const e=t.instance.blurX/2,i=t.instance.blurY/2;d=Math.max(d,e,i);let r=4*o.length*17;for(let s=0;s<4;s++){switch(a.t9[r+0]=e,a.t9[r+1]=i,s){case 0:a.t9[r+2]=t.outBounds[0]+t.outBounds[2],a.t9[r+3]=t.outBounds[1],a.t9[r+4]=t.inBounds[0]+t.inBounds[2],a.t9[r+5]=t.inBounds[1],a.t9[r+6]=t.outBounds[0]+t.outBounds[2],a.t9[r+7]=t.outBounds[1];break;case 1:a.t9[r+2]=t.outBounds[0],a.t9[r+3]=t.outBounds[1]+t.outBounds[3],a.t9[r+4]=t.inBounds[0],a.t9[r+5]=t.inBounds[1]+t.inBounds[3],a.t9[r+6]=t.outBounds[0],a.t9[r+7]=t.outBounds[1]+t.outBounds[3];break;case 2:a.t9[r+2]=t.outBounds[0],a.t9[r+3]=t.outBounds[1],a.t9[r+4]=t.inBounds[0],a.t9[r+5]=t.inBounds[1],a.t9[r+6]=t.outBounds[0],a.t9[r+7]=t.outBounds[1];break;case 3:a.t9[r+2]=t.outBounds[0]+t.outBounds[2],a.t9[r+3]=t.outBounds[1]+t.outBounds[3],a.t9[r+4]=t.inBounds[0]+t.inBounds[2],a.t9[r+5]=t.inBounds[1]+t.inBounds[3],a.t9[r+6]=t.outBounds[0]+t.outBounds[2],a.t9[r+7]=t.outBounds[1]+t.outBounds[3]}a.t9[r+8]=t.inBounds[0]+.5,a.t9[r+9]=t.inBounds[1]+.5,a.t9[r+10]=t.inBounds[0]+t.inBounds[2]-1.5,a.t9[r+11]=t.inBounds[1]+t.inBounds[3]-1.5,a.t9[r+12]=t.outBounds[0]+.5,a.t9[r+13]=t.outBounds[1]+.5,a.t9[r+14]=t.outBounds[0]+t.outBounds[2]-1.5,a.t9[r+15]=t.outBounds[1]+t.outBounds[3]-1.5;const o=a.t9.subarray(r+0,r+2),l=a.t9.subarray(r+2,r+4),f=a.t9.subarray(r+4,r+6),d=a.t9.subarray(r+6,r+8),p=a.t9.subarray(r+8,r+10),y=a.t9.subarray(r+10,r+12),v=a.t9.subarray(r+12,r+14),m=a.t9.subarray(r+14,r+16);n.dC(o,o,c),n.iu(l,l,u),n.dC(f,f,c),n.dC(p,p,c),n.dC(y,y,c),n.dC(d,d,h),n.dC(v,v,h),n.dC(m,m,h),r+=17}o.push(t)}g()}finally{t.renderPool.returnTexture(y),t.renderPool.returnTexture(v)}}}f.instance=new f},1215:(t,e,i)=>{"use strict";i.d(e,{t9:()=>h,QF:()=>f,Qb:()=>d,$_:()=>o,wm:()=>l,BR:()=>p});var r=i(7527),n=i(970),s=i(2106);const a=new Map,o=t=>{const e=Math.max(1,Math.ceil(t/2));let i=a.get(e);return i||(i=new r.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aTexCoords;\nlayout(location=2) in vec4 aBoundsIn;\nlayout(location=3) in vec4 aBoundsOut;\nlayout(location=4) in uint x;\n\nout vec2 vTextureCoords;\nout vec2 vDelta;\nout vec4 vBounds;\n\nuniform uint uMode;\n\nvoid main(void) {\n    gl_Position = vec4(aVertex.zw, 0.0, 1.0);\n\n    vec2 delta;\n    vec2 texCoords;\n    vec4 bounds;\n    if (int(uMode) % 2 != 0) {\n      delta = aVertex.xy * vec2(1.0, 0.0);\n    } else {\n      delta = aVertex.xy * vec2(0.0, 1.0);\n    }\n    if (int(uMode) / 2 != 0) {\n      texCoords = aTexCoords.xy;\n      bounds = aBoundsIn;\n    } else {\n      texCoords = aTexCoords.zw;\n      bounds = aBoundsOut;\n    }\n\n    vTextureCoords = texCoords;\n    vDelta = delta;\n    vBounds = bounds;\n}\n",(t=>{const e=[0];for(let i=0;i<t;i++){const r=i+1;e.push(r/t),e.unshift(-r/t)}return`\n#version 300 es\nprecision highp float;\n\nin vec2 vTextureCoords;\nin vec2 vDelta;\nin vec4 vBounds;\n\nuniform sampler2D uTexture;\n\nout vec4 fragColor;\n\nvec4 sampleTex(float offset) {\n  vec2 coords = vTextureCoords + vDelta * offset;\n  coords = clamp(coords, vBounds.xy, vBounds.zw);\n  return texture(uTexture, coords);\n}\n\nvoid main(void) {\n  fragColor = vec4(0.0);\n  ${e.map((t=>`fragColor += sampleTex(${t.toFixed(20)}) * ${1/e.length};`)).join("\n")}\n}\n`})(e)),a.set(e,i)),i},l=new r.$("\n#version 300 es\n\nlayout(location=0) in vec4 aVertex;\nlayout(location=1) in vec4 aTexCoords;\nlayout(location=2) in vec4 aColor;\nlayout(location=3) in vec4 aBounds;\nlayout(location=4) in uint aMode;\n\nout vec2 vInTexCoords;\nout vec2 vOutTexCoords;\nout vec2 vDelta;\nout vec4 vBounds;\nout vec4 vColor;\nflat out uint vMode;\n\nvoid main(void) {\n    gl_Position = vec4(aVertex.zw, 0.0, 1.0);\n\n    vInTexCoords = aTexCoords.xy;\n    vOutTexCoords = aTexCoords.zw;\n    vDelta = aVertex.xy;\n    vBounds = aBounds;\n    vColor = aColor;\n    vMode = aMode;\n}\n","\n#version 300 es\nprecision highp float;\n\nin vec2 vInTexCoords;\nin vec2 vOutTexCoords;\nin vec2 vDelta;\nin vec4 vBounds;\nin vec4 vColor;\nflat in uint vMode;\n\nuniform sampler2D uTextures[2];\n\nout vec4 fragColor;\n\nvoid main(void) {\n  vec2 shadowCoords = clamp(vOutTexCoords - vDelta, vBounds.xy, vBounds.zw);\n  vec4 shadow = vColor * texture(uTextures[0], shadowCoords).a;\n  vec4 color = texture(uTextures[1], vInTexCoords);\n  if (int(vMode) % 2 != 0) {\n    fragColor = shadow * (1.0 - color.a);\n  } else {\n    fragColor = shadow * (1.0 - color.a) + color;\n  }\n}\n"),u=n.l.index(new Uint16Array(600),"STREAM_DRAW"),c=new ArrayBuffer(27200),h=new Float32Array(c),f=new Uint32Array(c),d=n.l.vertex(h,"STREAM_DRAW"),p=new s.F([{index:0,buffer:d,type:"float",components:4,offset:0,stride:68},{index:1,buffer:d,type:"float",components:4,offset:16,stride:68},{index:2,buffer:d,type:"float",components:4,offset:32,stride:68},{index:3,buffer:d,type:"float",components:4,offset:48,stride:68},{index:4,buffer:d,type:"uint",components:1,integer:!0,offset:64,stride:68}],u);for(let t=0;t<100;t++)u.data[6*t+0]=4*t+0,u.data[6*t+1]=4*t+1,u.data[6*t+2]=4*t+2,u.data[6*t+3]=4*t+1,u.data[6*t+4]=4*t+0,u.data[6*t+5]=4*t+3},970:(t,e,i)=>{"use strict";i.d(e,{l:()=>r});class r{constructor(t,e,i){this.binding=e,this.usage=i,this.data=t}get length(){return this.data.length}static index(t,e){return new r(t,"ELEMENT_ARRAY_BUFFER",e)}static vertex(t,e){return new r(t,"ARRAY_BUFFER",e)}ensure(t){return t.ensureInstance(this,(e=>{const i=e.createBuffer();return t.bindBuffer(e[this.binding],i),e.bufferData(e[this.binding],this.data,e[this.usage]),i}))}bind(t){const e=this.ensure(t);t.bindBuffer(t.gl[this.binding],e)}update(t,e,i){this.bind(t);const r=t.gl;return r.bufferSubData(r[this.binding],0,this.data,e,i),this}}},7527:(t,e,i)=>{"use strict";function r(t,e){if("number"==typeof t||"boolean"==typeof t){const i=new e(1);return i[0]=Number(t),i}if(Array.isArray(t))return e.from(t);if(t instanceof e)return t.slice();throw new Error("Invalid typed array value")}function n(t,e){if(!t||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0}i.d(e,{$:()=>a});class s{constructor(t,e,i){this.value=null,this.state=t,this.name=e.name,this.type=e.type,this.size=e.size,this.location=i;const r=this.state.gl,n={[r.FLOAT]:{type:"float",components:1,setter:"uniform1fv"},[r.FLOAT_VEC2]:{type:"float",components:2,setter:"uniform2fv"},[r.FLOAT_VEC3]:{type:"float",components:3,setter:"uniform3fv"},[r.FLOAT_VEC4]:{type:"float",components:4,setter:"uniform4fv"},[r.INT]:{type:"int",components:1,setter:"uniform1iv"},[r.INT_VEC2]:{type:"int",components:2,setter:"uniform2iv"},[r.INT_VEC3]:{type:"int",components:3,setter:"uniform3iv"},[r.INT_VEC4]:{type:"int",components:4,setter:"uniform4iv"},[r.UNSIGNED_INT]:{type:"uint",components:1,setter:"uniform1uiv"},[r.UNSIGNED_INT_VEC2]:{type:"uint",components:2,setter:"uniform2uiv"},[r.UNSIGNED_INT_VEC3]:{type:"uint",components:3,setter:"uniform3uiv"},[r.UNSIGNED_INT_VEC4]:{type:"uint",components:4,setter:"uniform4uiv"},[r.BOOL]:{type:"bool",components:1,setter:"uniform1iv"},[r.BOOL_VEC2]:{type:"bool",components:2,setter:"uniform2iv"},[r.BOOL_VEC3]:{type:"bool",components:3,setter:"uniform3iv"},[r.BOOL_VEC4]:{type:"bool",components:4,setter:"uniform4iv"},[r.FLOAT_MAT2]:{type:"mat",components:4,setter:"uniformMatrix2fv"},[r.FLOAT_MAT3]:{type:"mat",components:9,setter:"uniformMatrix3fv"},[r.FLOAT_MAT4]:{type:"mat",components:16,setter:"uniformMatrix4fv"},[r.SAMPLER_2D]:{type:"bool",components:1,setter:"uniform1iv"}}[e.type];if(!n)throw new Error("Unsupported uniform type: "+e.type);this.typeDef=n}set(t,e){var i,s,a,o,l;switch(this.state.useProgram(t),this.typeDef.type){case"float":{const t=r(e,Float32Array);if(n(null!==(i=this.value)&&void 0!==i?i:new Float32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"int":case"bool":{const t=r(e,Int32Array);if(n(null!==(s=this.value)&&void 0!==s?s:new Int32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"uint":{const t=r(e,Uint32Array);if(n(null!==(a=this.value)&&void 0!==a?a:new Uint32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,t),this.value=t;break}case"mat":{const t=r(e,Float32Array);if(n(null!==(o=this.value)&&void 0!==o?o:new Float32Array(0),t))return;this.state.gl[this.typeDef.setter](this.location,!1,t),this.value=t;break}case"sampler2D":{const t=Array.isArray(e)?e.slice():[e];if(n(null!==(l=this.value)&&void 0!==l?l:[],t))return;this.state.gl[this.typeDef.setter](this.location,!1,t),this.value=t;break}}}}class a{constructor(t,e){this.vertexShader=t,this.fragmentShader=e}ensure(t){return this.doEnsure(t).program}doEnsure(t){return t.ensureInstance(this,(e=>{const i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,this.vertexShader.trim()),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(i);throw e.deleteShader(i),new Error("Cannot compile vertex shader: "+t)}const r=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(r,this.fragmentShader.trim()),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Cannot compile fragment shader: "+t)}const n=e.createProgram();if(e.attachShader(n,i),e.attachShader(n,r),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const t=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error("Cannot link program: "+t)}const a=new Map,o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<o;++i){const r=e.getActiveUniform(n,i),o=e.getUniformLocation(n,r.name);a.set(r.name,new s(t,r,o))}return{program:n,uniforms:a}}))}uniform(t,e,i){const{program:r,uniforms:n}=this.doEnsure(t),s=n.get(e);s&&s.set(r,i)}}},1552:(t,e,i)=>{"use strict";i.d(e,{x:()=>r});class r{constructor(t){this.data=t,this.width=t.width,this.height=t.height}static image(t){return new r(t)}static size(t,e){return new r({width:t,height:e})}ensure(t){return t.ensureInstance(this,(e=>{const i=e.createTexture();return t.bindTexture(0,i),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.data instanceof HTMLElement?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.data):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),i}))}delete(t){t.deleteInstance(this,((t,e)=>{t.deleteTexture(e)}))}}r.WHITE=(()=>{const t=document.createElement("canvas");t.width=16,t.height=16;const e=t.getContext("2d");return e.fillStyle="#ffffff",e.fillRect(0,0,16,16),new r(t)})()},2106:(t,e,i)=>{"use strict";i.d(e,{F:()=>r});class r{constructor(t,e=null){this.indexBuffer=null,this.attributes=t,this.indexBuffer=e}ensure(t){return t.ensureInstance(this,(e=>{const i=e.createVertexArray();if(t.bindVertexArray(i),this.indexBuffer){const i=this.indexBuffer.ensure(t);t.bindBuffer(e[this.indexBuffer.binding],i)}for(const i of this.attributes){const{index:r,buffer:n,type:s,components:a,normalized:o=!1,stride:l=0,offset:u=0,integer:c=!1}=i;let h;switch(s){case"byte":h=e.UNSIGNED_BYTE;break;case"ushort":h=e.UNSIGNED_SHORT;break;case"uint":h=e.UNSIGNED_INT;break;case"float":h=e.FLOAT}const f=n.ensure(t);t.bindBuffer(e[n.binding],f),c?e.vertexAttribIPointer(r,a,h,l,u):e.vertexAttribPointer(r,a,h,o,l,u),e.enableVertexAttribArray(r)}return i}))}bind(t){var e;const i=this.ensure(t);t.bindVertexArray(i),null===(e=this.indexBuffer)||void 0===e||e.bind(t)}}},8513:(t,e,i)=>{"use strict";i.d(e,{JN:()=>r,Sh:()=>n,E_:()=>s});const r=20;function n(t){return t/r}function s(t){return Math.trunc(t*r)}},3010:(t,e,i)=>{"use strict";i.d(e,{Ib:()=>r,WT:()=>n,ZR:()=>s});var r=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array;function s(t){n=t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2526:(t,e,i)=>{"use strict";i.d(e,{Ue:()=>n,d9:()=>s,JG:()=>a,yR:()=>o,al:()=>l,t8:()=>u,U_:()=>c,GH:()=>h,Jp:()=>f,bA:()=>d,Iu:()=>p,vc:()=>y,I6:()=>v});var r=i(3010);function n(){var t=new r.WT(6);return r.WT!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function s(t){var e=new r.WT(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function l(t,e,i,n,s,a){var o=new r.WT(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=s,o[5]=a,o}function u(t,e,i,r,n,s,a){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=a,t}function c(t,e){var i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=i*s-r*n;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*o-s*a)*l,t[5]=(r*a-i*o)*l,t):null}function h(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e,i){var r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=i[0],c=i[1],h=i[2],f=i[3],d=i[4],p=i[5];return t[0]=r*u+s*c,t[1]=n*u+a*c,t[2]=r*h+s*f,t[3]=n*h+a*f,t[4]=r*d+s*p+o,t[5]=n*d+a*p+l,t}function d(t,e,i){var r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=i[0],c=i[1];return t[0]=r*u,t[1]=n*u,t[2]=s*c,t[3]=a*c,t[4]=o,t[5]=l,t}function p(t,e,i){var r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=i[0],c=i[1];return t[0]=r,t[1]=n,t[2]=s,t[3]=a,t[4]=r*u+s*c+o,t[5]=n*u+a*c+l,t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function v(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}},5543:(t,e,i)=>{"use strict";i.d(e,{Ue:()=>n,al:()=>s,t8:()=>a,Fp:()=>o,iu:()=>l,U1:()=>u,dC:()=>c});var r=i(3010);function n(){var t=new r.WT(2);return r.WT!=Float32Array&&(t[0]=0,t[1]=0),t}function s(t,e){var i=new r.WT(2);return i[0]=t,i[1]=e,i}function a(t,e,i){return t[0]=e,t[1]=i,t}function o(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function l(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t}function u(t,e,i,r){var n=e[0]-i[0],s=e[1]-i[1],a=Math.sin(r),o=Math.cos(r);return t[0]=n*o-s*a+i[0],t[1]=n*a+s*o+i[1],t}var c=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t};n()},4945:(t,e,i)=>{"use strict";i.d(e,{Ue:()=>n,d9:()=>s,al:()=>a,JG:()=>o,t8:()=>l,IH:()=>u,bA:()=>c,fS:()=>h,dC:()=>f});var r=i(3010);function n(){var t=new r.WT(4);return r.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function s(t){var e=new r.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,i,n){var s=new r.WT(4);return s[0]=t,s[1]=e,s[2]=i,s[3]=n,s}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function l(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}function u(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function c(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function h(t,e){var i=t[0],n=t[1],s=t[2],a=t[3],o=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(i-o)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-l)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-u)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(c))}var f=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t};n()},4316:(t,e,i)=>{"use strict";var r={};(0,i(9034).assign)(r,i(6778),i(5354),i(549)),t.exports=r},6778:(t,e,i)=>{"use strict";var r=i(4349),n=i(9034),s=i(2511),a=i(4594),o=i(8755),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(a[i]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(i=r.deflateSetDictionary(this.strm,c)))throw new Error(a[i]);this._dict_set=!0}}function c(t,e){var i=new u(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}u.prototype.push=function(t,e){var i,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(u),o.next_out=0,o.avail_out=u),1!==(i=r.deflate(o,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===a?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),o.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},5354:(t,e,i)=>{"use strict";var r=i(3386),n=i(9034),s=i(2511),a=i(549),o=i(4594),l=i(8755),u=i(4673),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,e.windowBits);if(i!==a.Z_OK)throw new Error(o[i]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=r.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(o[i])}function f(t,e){var i=new h(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}h.prototype.push=function(t,e){var i,o,l,u,h,f=this.strm,d=this.options.chunkSize,p=this.options.dictionary,y=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new n.Buf8(d),f.next_out=0,f.avail_out=d),(i=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(i=r.inflateSetDictionary(this.strm,p)),i===a.Z_BUF_ERROR&&!0===y&&(i=a.Z_OK,y=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,h=s.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&n.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(n.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},9034:(t,e)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(t[n]=i[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+r),n);else for(var s=0;s<r;s++)t[n+s]=e[i+s]},flattenChunks:function(t){var e,i,r,n,s,a;for(r=0,e=0,i=t.length;e<i;e++)r+=t[e].length;for(a=new Uint8Array(r),n=0,e=0,i=t.length;e<i;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,i,r,n){for(var s=0;s<r;s++)t[n+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},2511:(t,e,i)=>{"use strict";var r=i(9034),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var i="",a=0;a<e;a++)i+=String.fromCharCode(t[a]);return i}a[254]=a[254]=1,e.string2buf=function(t){var e,i,n,s,a,o=t.length,l=0;for(s=0;s<o;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new r.Buf8(l),a=0,s=0;a<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,r,n,s,o=e||t.length,u=new Array(2*o);for(r=0,i=0;i<o;)if((n=t[i++])<128)u[r++]=n;else if((s=a[n])>4)u[r++]=65533,i+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&i<o;)n=n<<6|63&t[i++],s--;s>1?u[r++]=65533:n<65536?u[r++]=n:(n-=65536,u[r++]=55296|n>>10&1023,u[r++]=56320|1023&n)}return l(u,r)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+a[t[i]]>e?i:e}},1475:t=>{"use strict";t.exports=function(t,e,i,r){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{s=s+(n=n+e[r++]|0)|0}while(--a);n%=65521,s%=65521}return n|s<<16|0}},549:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8621:t=>{"use strict";var e=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,i,r,n){var s=e,a=n+r;t^=-1;for(var o=n;o<a;o++)t=t>>>8^s[255&(t^i[o])];return-1^t}},4349:(t,e,i)=>{"use strict";var r,n=i(9034),s=i(376),a=i(1475),o=i(8621),l=i(4594),u=-2,c=258,h=262,f=103,d=113,p=666;function y(t,e){return t.msg=l[e],e}function v(t){return(t<<1)-(t>4?9:0)}function m(t){for(var e=t.length;--e>=0;)t[e]=0}function g(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function b(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function _(t,e){t.pending_buf[t.pending++]=e}function x(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function R(t,e){var i,r,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,u=t.window,f=t.w_mask,d=t.prev,p=t.strstart+c,y=u[s+a-1],v=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(i=e)+a]===v&&u[i+a-1]===y&&u[i]===u[s]&&u[++i]===u[s+1]){s+=2,i++;do{}while(u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&u[++s]===u[++i]&&s<p);if(r=c-(p-s),s=p-c,r>a){if(t.match_start=e,a=r,r>=o)break;y=u[s+a-1],v=u[s+a]}}}while((e=d[e&f])>l&&0!=--n);return a<=t.lookahead?a:t.lookahead}function k(t){var e,i,r,s,l,u,c,f,d,p,y=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-h)){n.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=i=t.hash_size;do{r=t.head[--e],t.head[e]=r>=y?r-y:0}while(--i);e=i=y;do{r=t.prev[--e],t.prev[e]=r>=y?r-y:0}while(--i);s+=y}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,f=t.strstart+t.lookahead,d=s,p=void 0,(p=u.avail_in)>d&&(p=d),i=0===p?0:(u.avail_in-=p,n.arraySet(c,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=a(u.adler,c,p,f):2===u.state.wrap&&(u.adler=o(u.adler,c,p,f)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=i,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function w(t,e){for(var i,r;;){if(t.lookahead<h){if(k(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-h&&(t.match_length=R(t,i)),t.match_length>=3)if(r=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function E(t,e){for(var i,r,n;;){if(t.lookahead<h){if(k(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-h&&(t.match_length=R(t,i),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,r=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(b(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=s._tr_tally(t,0,t.window[t.strstart-1]))&&b(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}function S(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):y(t,u)}function T(t){var e,i=L(t);return 0===i&&((e=t.state).window_size=2*e.w_size,m(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i}function M(t,e,i,r,s,a){if(!t)return u;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>9||8!==i||r<8||r>15||e<0||e>9||a<0||a>4)return y(t,u);8===r&&(r=9);var l=new C;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=i,T(t)}r=[new S(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(k(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,b(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(b(t,!1),t.strm.avail_out),1)})),new S(4,4,8,4,w),new S(4,5,16,8,w),new S(4,6,32,32,w),new S(4,4,16,16,E),new S(8,16,32,32,E),new S(8,16,128,128,E),new S(8,32,128,256,E),new S(32,128,258,1024,E),new S(32,258,258,4096,E)],e.deflateInit=function(t,e){return M(t,e,8,15,8,0)},e.deflateInit2=M,e.deflateReset=T,e.deflateResetKeep=L,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},e.deflate=function(t,e){var i,n,a,l;if(!t||!t.state||e>5||e<0)return t?y(t,u):u;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===p&&4!==e)return y(t,0===t.avail_out?-5:u);if(n.strm=t,i=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,_(n,31),_(n,139),_(n,8),n.gzhead?(_(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),_(n,255&n.gzhead.time),_(n,n.gzhead.time>>8&255),_(n,n.gzhead.time>>16&255),_(n,n.gzhead.time>>24&255),_(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),_(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(_(n,255&n.gzhead.extra.length),_(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(_(n,0),_(n,0),_(n,0),_(n,0),_(n,0),_(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),_(n,3),n.status=d);else{var h=8+(n.w_bits-8<<4)<<8;h|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(h|=32),h+=31-h%31,n.status=d,x(n,h),0!==n.strstart&&(x(n,t.adler>>>16),x(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending!==n.pending_buf_size));)_(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,_(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),g(t),a=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,_(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>a&&(t.adler=o(t.adler,n.pending_buf,n.pending-a,a)),0===l&&(n.status=f)}else n.status=f;if(n.status===f&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&g(t),n.pending+2<=n.pending_buf_size&&(_(n,255&t.adler),_(n,t.adler>>8&255),t.adler=0,n.status=d)):n.status=d),0!==n.pending){if(g(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&v(e)<=v(i)&&4!==e)return y(t,-5);if(n.status===p&&0!==t.avail_in)return y(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&n.status!==p){var R=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(k(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var i,r,n,a,o=t.window;;){if(t.lookahead<=c){if(k(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[n=t.strstart-1])===o[++n]&&r===o[++n]&&r===o[++n]){a=t.strstart+c;do{}while(r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<a);t.match_length=c-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(b(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(b(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(b(t,!1),0===t.strm.avail_out)?1:2}(n,e):r[n.level].func(n,e);if(3!==R&&4!==R||(n.status=p),1===R||3===R)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===R&&(1===e?s._tr_align(n):5!==e&&(s._tr_stored_block(n,0,0,!1),3===e&&(m(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),g(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(_(n,255&t.adler),_(n,t.adler>>8&255),_(n,t.adler>>16&255),_(n,t.adler>>24&255),_(n,255&t.total_in),_(n,t.total_in>>8&255),_(n,t.total_in>>16&255),_(n,t.total_in>>24&255)):(x(n,t.adler>>>16),x(n,65535&t.adler)),g(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==f&&e!==d&&e!==p?y(t,u):(t.state=null,e===d?y(t,-3):0):u},e.deflateSetDictionary=function(t,e){var i,r,s,o,l,c,h,f,d=e.length;if(!t||!t.state)return u;if(2===(o=(i=t.state).wrap)||1===o&&42!==i.status||i.lookahead)return u;for(1===o&&(t.adler=a(t.adler,e,d,0)),i.wrap=0,d>=i.w_size&&(0===o&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new n.Buf8(i.w_size),n.arraySet(f,e,d-i.w_size,i.w_size,0),e=f,d=i.w_size),l=t.avail_in,c=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,k(i);i.lookahead>=3;){r=i.strstart,s=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+3-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--s);i.strstart=r,i.lookahead=2,k(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=c,t.input=h,t.avail_in=l,i.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},4673:t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},3394:t=>{"use strict";t.exports=function(t,e){var i,r,n,s,a,o,l,u,c,h,f,d,p,y,v,m,g,b,_,x,R,k,w,E,S;i=t.state,r=t.next_in,E=t.input,n=r+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,y=i.lencode,v=i.distcode,m=(1<<i.lenbits)-1,g=(1<<i.distbits)-1;t:do{p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),b=y[d&m];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))S[s++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=y[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}x=65535&b,(_&=15)&&(p<_&&(d+=E[r++]<<p,p+=8),x+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),b=v[d&g];i:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(R=65535&b,p<(_&=15)&&(d+=E[r++]<<p,(p+=8)<_&&(d+=E[r++]<<p,p+=8)),(R+=d&(1<<_)-1)>l){t.msg="invalid distance too far back",i.mode=30;break t}if(d>>>=_,p-=_,R>(_=s-a)){if((_=R-_)>c&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(k=0,w=f,0===h){if(k+=u-_,_<x){x-=_;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}}else if(h<_){if(k+=u+h-_,(_-=h)<x){x-=_;do{S[s++]=f[k++]}while(--_);if(k=0,h<x){x-=_=h;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}}}else if(k+=h-_,_<x){x-=_;do{S[s++]=f[k++]}while(--_);k=s-R,w=S}for(;x>2;)S[s++]=w[k++],S[s++]=w[k++],S[s++]=w[k++],x-=3;x&&(S[s++]=w[k++],x>1&&(S[s++]=w[k++]))}else{k=s-R;do{S[s++]=S[k++],S[s++]=S[k++],S[s++]=S[k++],x-=3}while(x>2);x&&(S[s++]=S[k++],x>1&&(S[s++]=S[k++]))}break}}break}}while(r<n&&s<o);r-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=r,t.next_out=s,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=s<o?o-s+257:257-(s-o),i.hold=d,i.bits=p}},3386:(t,e,i)=>{"use strict";var r=i(9034),n=i(1475),s=i(8621),a=i(3394),o=i(598),l=-2,u=12,c=30;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):l}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,d(t)):l}function y(t,e){var i,r;return t&&t.state?(r=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,p(t))):l}function v(t,e){var i,r;return t?(r=new f,t.state=r,r.window=null,0!==(i=y(t,e))&&(t.state=null),i):l}var m,g,b=!0;function _(t){if(b){var e;for(m=new r.Buf32(512),g=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,g,0,t.work,{bits:5}),b=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function x(t,e,i,n){var s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),n>=a.wsize?(r.arraySet(a.window,e,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>n&&(s=n),r.arraySet(a.window,e,i-n,s,a.wnext),(n-=s)?(r.arraySet(a.window,e,i-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}e.inflateReset=p,e.inflateReset2=y,e.inflateResetKeep=d,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var i,f,d,p,y,v,m,g,b,R,k,w,E,S,C,L,T,M,P,A,D,O,N,B,F=0,I=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;(i=t.state).mode===u&&(i.mode=13),y=t.next_out,d=t.output,m=t.avail_out,p=t.next_in,f=t.input,v=t.avail_in,g=i.hold,b=i.bits,R=v,k=m,O=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(2&i.wrap&&35615===g){i.check=0,I[0]=255&g,I[1]=g>>>8&255,i.check=s(i.check,I,2,0),g=0,b=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",i.mode=c;break}if(8!=(15&g)){t.msg="unknown compression method",i.mode=c;break}if(b-=4,D=8+(15&(g>>>=4)),0===i.wbits)i.wbits=D;else if(D>i.wbits){t.msg="invalid window size",i.mode=c;break}i.dmax=1<<D,t.adler=i.check=1,i.mode=512&g?10:u,g=0,b=0;break;case 2:for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(i.flags=g,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=c;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=c;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=s(i.check,I,2,0)),g=0,b=0,i.mode=3;case 3:for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.head&&(i.head.time=g),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,I[2]=g>>>16&255,I[3]=g>>>24&255,i.check=s(i.check,I,4,0)),g=0,b=0,i.mode=4;case 4:for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=s(i.check,I,2,0)),g=0,b=0,i.mode=5;case 5:if(1024&i.flags){for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(I[0]=255&g,I[1]=g>>>8&255,i.check=s(i.check,I,2,0)),g=0,b=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((w=i.length)>v&&(w=v),w&&(i.head&&(D=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,f,p,w,D)),512&i.flags&&(i.check=s(i.check,f,w,p)),v-=w,p+=w,i.length-=w),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===v)break t;w=0;do{D=f[p+w++],i.head&&D&&i.length<65536&&(i.head.name+=String.fromCharCode(D))}while(D&&w<v);if(512&i.flags&&(i.check=s(i.check,f,w,p)),v-=w,p+=w,D)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===v)break t;w=0;do{D=f[p+w++],i.head&&D&&i.length<65536&&(i.head.comment+=String.fromCharCode(D))}while(D&&w<v);if(512&i.flags&&(i.check=s(i.check,f,w,p)),v-=w,p+=w,D)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;b<16;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g!==(65535&i.check)){t.msg="header crc mismatch",i.mode=c;break}g=0,b=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=u;break;case 10:for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}t.adler=i.check=h(g),g=0,b=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,i.hold=g,i.bits=b,2;t.adler=i.check=1,i.mode=u;case u:if(5===e||6===e)break t;case 13:if(i.last){g>>>=7&b,b-=7&b,i.mode=27;break}for(;b<3;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}switch(i.last=1&g,b-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(_(i),i.mode=20,6===e){g>>>=2,b-=2;break t}break;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=c}g>>>=2,b-=2;break;case 14:for(g>>>=7&b,b-=7&b;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",i.mode=c;break}if(i.length=65535&g,g=0,b=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(w=i.length){if(w>v&&(w=v),w>m&&(w=m),0===w)break t;r.arraySet(d,f,p,w,y),v-=w,p+=w,m-=w,y+=w,i.length-=w;break}i.mode=u;break;case 17:for(;b<14;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(i.nlen=257+(31&g),g>>>=5,b-=5,i.ndist=1+(31&g),g>>>=5,b-=5,i.ncode=4+(15&g),g>>>=4,b-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=c;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;b<3;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.lens[j[i.have++]]=7&g,g>>>=3,b-=3}for(;i.have<19;)i.lens[j[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,N={bits:i.lenbits},O=o(0,i.lens,0,19,i.lencode,0,i.work,N),i.lenbits=N.bits,O){t.msg="invalid code lengths set",i.mode=c;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;L=(F=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(T<16)g>>>=C,b-=C,i.lens[i.have++]=T;else{if(16===T){for(B=C+2;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g>>>=C,b-=C,0===i.have){t.msg="invalid bit length repeat",i.mode=c;break}D=i.lens[i.have-1],w=3+(3&g),g>>>=2,b-=2}else if(17===T){for(B=C+3;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}b-=C,D=0,w=3+(7&(g>>>=C)),g>>>=3,b-=3}else{for(B=C+7;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}b-=C,D=0,w=11+(127&(g>>>=C)),g>>>=7,b-=7}if(i.have+w>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=c;break}for(;w--;)i.lens[i.have++]=D}}if(i.mode===c)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=c;break}if(i.lenbits=9,N={bits:i.lenbits},O=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,N),i.lenbits=N.bits,O){t.msg="invalid literal/lengths set",i.mode=c;break}if(i.distbits=6,i.distcode=i.distdyn,N={bits:i.distbits},O=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,N),i.distbits=N.bits,O){t.msg="invalid distances set",i.mode=c;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(v>=6&&m>=258){t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,i.hold=g,i.bits=b,a(t,k),y=t.next_out,d=t.output,m=t.avail_out,p=t.next_in,f=t.input,v=t.avail_in,g=i.hold,b=i.bits,i.mode===u&&(i.back=-1);break}for(i.back=0;L=(F=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(L&&0==(240&L)){for(M=C,P=L,A=T;L=(F=i.lencode[A+((g&(1<<M+P)-1)>>M)])>>>16&255,T=65535&F,!(M+(C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}g>>>=M,b-=M,i.back+=M}if(g>>>=C,b-=C,i.back+=C,i.length=T,0===L){i.mode=26;break}if(32&L){i.back=-1,i.mode=u;break}if(64&L){t.msg="invalid literal/length code",i.mode=c;break}i.extra=15&L,i.mode=22;case 22:if(i.extra){for(B=i.extra;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,b-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;L=(F=i.distcode[g&(1<<i.distbits)-1])>>>16&255,T=65535&F,!((C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(0==(240&L)){for(M=C,P=L,A=T;L=(F=i.distcode[A+((g&(1<<M+P)-1)>>M)])>>>16&255,T=65535&F,!(M+(C=F>>>24)<=b);){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}g>>>=M,b-=M,i.back+=M}if(g>>>=C,b-=C,i.back+=C,64&L){t.msg="invalid distance code",i.mode=c;break}i.offset=T,i.extra=15&L,i.mode=24;case 24:if(i.extra){for(B=i.extra;b<B;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,b-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=c;break}i.mode=25;case 25:if(0===m)break t;if(w=k-m,i.offset>w){if((w=i.offset-w)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=c;break}w>i.wnext?(w-=i.wnext,E=i.wsize-w):E=i.wnext-w,w>i.length&&(w=i.length),S=i.window}else S=d,E=y-i.offset,w=i.length;w>m&&(w=m),m-=w,i.length-=w;do{d[y++]=S[E++]}while(--w);0===i.length&&(i.mode=21);break;case 26:if(0===m)break t;d[y++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;b<32;){if(0===v)break t;v--,g|=f[p++]<<b,b+=8}if(k-=m,t.total_out+=k,i.total+=k,k&&(t.adler=i.check=i.flags?s(i.check,d,k,y-k):n(i.check,d,k,y-k)),k=m,(i.flags?g:h(g))!==i.check){t.msg="incorrect data check",i.mode=c;break}g=0,b=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;b<32;){if(0===v)break t;v--,g+=f[p++]<<b,b+=8}if(g!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=c;break}g=0,b=0}i.mode=29;case 29:O=1;break t;case c:O=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=y,t.avail_out=m,t.next_in=p,t.avail_in=v,i.hold=g,i.bits=b,(i.wsize||k!==t.avail_out&&i.mode<c&&(i.mode<27||4!==e))&&x(t,t.output,t.next_out,k-t.avail_out)?(i.mode=31,-4):(R-=t.avail_in,k-=t.avail_out,t.total_in+=R,t.total_out+=k,i.total+=k,i.wrap&&k&&(t.adler=i.check=i.flags?s(i.check,d,k,t.next_out-k):n(i.check,d,k,t.next_out-k)),t.data_type=i.bits+(i.last?64:0)+(i.mode===u?128:0)+(20===i.mode||15===i.mode?256:0),(0===R&&0===k||4===e)&&0===O&&(O=-5),O)},e.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?l:(i.head=e,e.done=!1,0):l},e.inflateSetDictionary=function(t,e){var i,r=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?l:11===i.mode&&n(1,e,r,0)!==i.check?-3:x(t,e,r,r)?(i.mode=31,-4):(i.havedict=1,0):l},e.inflateInfo="pako inflate (from Nodeca project)"},598:(t,e,i)=>{"use strict";var r=i(9034),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,i,l,u,c,h,f){var d,p,y,v,m,g,b,_,x,R=f.bits,k=0,w=0,E=0,S=0,C=0,L=0,T=0,M=0,P=0,A=0,D=null,O=0,N=new r.Buf16(16),B=new r.Buf16(16),F=null,I=0;for(k=0;k<=15;k++)N[k]=0;for(w=0;w<l;w++)N[e[i+w]]++;for(C=R,S=15;S>=1&&0===N[S];S--);if(C>S&&(C=S),0===S)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(E=1;E<S&&0===N[E];E++);for(C<E&&(C=E),M=1,k=1;k<=15;k++)if(M<<=1,(M-=N[k])<0)return-1;if(M>0&&(0===t||1!==S))return-1;for(B[1]=0,k=1;k<15;k++)B[k+1]=B[k]+N[k];for(w=0;w<l;w++)0!==e[i+w]&&(h[B[e[i+w]]++]=w);if(0===t?(D=F=h,g=19):1===t?(D=n,O-=257,F=s,I-=257,g=256):(D=a,F=o,g=-1),A=0,w=0,k=E,m=c,L=C,T=0,y=-1,v=(P=1<<C)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){b=k-T,h[w]<g?(_=0,x=h[w]):h[w]>g?(_=F[I+h[w]],x=D[O+h[w]]):(_=96,x=0),d=1<<k-T,E=p=1<<L;do{u[m+(A>>T)+(p-=d)]=b<<24|_<<16|x|0}while(0!==p);for(d=1<<k-1;A&d;)d>>=1;if(0!==d?(A&=d-1,A+=d):A=0,w++,0==--N[k]){if(k===S)break;k=e[i+h[w]]}if(k>C&&(A&v)!==y){for(0===T&&(T=C),m+=E,M=1<<(L=k-T);L+T<S&&!((M-=N[L+T])<=0);)L++,M<<=1;if(P+=1<<L,1===t&&P>852||2===t&&P>592)return 1;u[y=A&v]=C<<24|L<<16|m-c|0}}return 0!==A&&(u[m+A]=k-T<<24|64<<16|0),f.bits=C,0}},4594:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},376:(t,e,i)=>{"use strict";var r=i(9034);function n(t){for(var e=t.length;--e>=0;)t[e]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);n(u);var c=new Array(60);n(c);var h=new Array(512);n(h);var f=new Array(256);n(f);var d=new Array(29);n(d);var p,y,v,m=new Array(30);function g(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function R(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function k(t,e,i){R(t,i[2*e],i[2*e+1])}function w(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function E(t,e,i){var r,n,s=new Array(16),a=0;for(r=1;r<=15;r++)s[r]=a=a+i[r-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=w(s[o]++,o))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function C(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function L(t,e,i,r){var n=2*e,s=2*i;return t[n]<t[s]||t[n]===t[s]&&r[e]<=r[i]}function T(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&L(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!L(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function M(t,e,i){var r,n,o,l,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],n=t.pending_buf[t.l_buf+u],u++,0===r?k(t,n,e):(k(t,(o=f[n])+256+1,e),0!==(l=s[o])&&R(t,n-=d[o],l),k(t,o=_(--r),i),0!==(l=a[o])&&R(t,r-=m[o],l))}while(u<t.last_lit);k(t,256,e)}function P(t,e){var i,r,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<l;i++)0!==s[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)T(t,s,i);n=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,s,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,s[2*n]=s[2*i]+s[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,s[2*i+1]=s[2*r+1]=n,t.heap[1]=n++,T(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,r,n,s,a,o,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,y=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(s=l[2*l[2*(r=t.heap[i])+1]+1]+1)>p&&(s=p,y++),l[2*r+1]=s,r>u||(t.bl_count[s]++,a=0,r>=d&&(a=f[r-d]),o=l[2*r],t.opt_len+=o*(s+a),h&&(t.static_len+=o*(c[2*r+1]+a)));if(0!==y){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,y-=2}while(y>0);for(s=p;0!==s;s--)for(r=t.bl_count[s];0!==r;)(n=t.heap[--i])>u||(l[2*n+1]!==s&&(t.opt_len+=(s-l[2*n+1])*l[2*n],l[2*n+1]=s),r--)}}(t,e),E(s,u,t.bl_count)}function A(t,e,i){var r,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(i+1)+1]=65535,r=0;r<=i;r++)n=a,a=e[2*(r+1)+1],++o<l&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4))}function D(t,e,i){var r,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=i;r++)if(n=a,a=e[2*(r+1)+1],!(++o<l&&n===a)){if(o<u)do{k(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(k(t,n,t.bl_tree),o--),k(t,16,t.bl_tree),R(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),R(t,o-3,3)):(k(t,18,t.bl_tree),R(t,o-11,7));o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4)}}n(m);var O=!1;function N(t,e,i,n){R(t,0+(n?1:0),3),function(t,e,i,n){C(t),x(t,i),x(t,~i),r.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}e._tr_init=function(t){O||(function(){var t,e,i,r,n,l=new Array(16);for(i=0,r=0;r<28;r++)for(d[r]=i,t=0;t<1<<s[r];t++)f[i++]=r;for(f[i-1]=r,n=0,r=0;r<16;r++)for(m[r]=n,t=0;t<1<<a[r];t++)h[n++]=r;for(n>>=7;r<30;r++)for(m[r]=n<<7,t=0;t<1<<a[r]-7;t++)h[256+n++]=r;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(E(u,287,l),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=w(t,5);p=new g(u,s,257,286,15),y=new g(c,a,0,30,15),v=new g(new Array(0),o,0,19,7)}(),O=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,y),t.bl_desc=new b(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,S(t)},e._tr_stored_block=N,e._tr_flush_block=function(t,e,i,r){var n,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),a=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=i+5,i+4<=n&&-1!==e?N(t,e,i,r):4===t.strategy||s===n?(R(t,2+(r?1:0),3),M(t,u,c)):(R(t,4+(r?1:0),3),function(t,e,i,r){var n;for(R(t,e-257,5),R(t,i-1,5),R(t,r-4,4),n=0;n<r;n++)R(t,t.bl_tree[2*l[n]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),M(t,t.dyn_ltree,t.dyn_dtree)),S(t),r&&C(t)},e._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(f[i]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){R(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},8755:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4309:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];function r(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=null;return e.forEach((function(t){if(null==n){var e=t.apply(void 0,i);null!=e&&(n=e)}})),n}return(0,n.default)(r)};var r,n=(r=i(6734))&&r.__esModule?r:{default:r};t.exports=e.default},6734:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,i,r,n,s,a){var o=n||"<<anonymous>>",l=a||r;if(null==i[r])return e?new Error("Required "+s+" `"+l+"` was not specified in `"+o+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];return t.apply(void 0,[i,r,o,s,l].concat(c))}var i=e.bind(null,!1);return i.isRequired=e.bind(null,!0),i},t.exports=e.default},5372:(t,e,i)=>{"use strict";var r=i(9567);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function t(t,e,i,n,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:n};return i.PropTypes=i,i}},2652:(t,e,i)=>{t.exports=i(5372)()},9567:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},626:t=>{"use strict";t.exports=function(){}}}]);
//# sourceMappingURL=game.486cb60e.js.map