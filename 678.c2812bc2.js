(self.webpackChunk_exit_path_game=self.webpackChunk_exit_path_game||[]).push([[678],{7214:(t,e,s)=>{"use strict";t.exports=s.p+"06f38b818fcab77d1d42.jpeg"},1558:(t,e,s)=>{"use strict";t.exports=s.p+"9b9de51f0667f69cf909.jpeg"},6344:(t,e,s)=>{"use strict";t.exports=s.p+"0680ec675cdeeb9d32e1.jpeg"},5708:(t,e,s)=>{"use strict";t.exports=s.p+"cd3a8d3796fe91d3b9eb.jpeg"},1913:(t,e,s)=>{"use strict";t.exports=s.p+"669719f066b4da6060ae.png"},4916:(t,e,s)=>{"use strict";t.exports=s.p+"04186ecf8339a75eb994.png"},1862:(t,e,s)=>{"use strict";t.exports=s.p+"88fc994ea2fb1d5e322c.png"},2764:(t,e,s)=>{"use strict";t.exports=s.p+"bfe86a26433ba4c17ebc.png"},8365:(t,e,s)=>{"use strict";t.exports=s.p+"e1b84000c55403a11c2e.png"},9833:(t,e,s)=>{"use strict";t.exports=s.p+"ebce029b770e9eca691b.mp3"},1494:(t,e,s)=>{"use strict";t.exports=s.p+"3863c9837c63e1337bf5.mp3"},8453:(t,e,s)=>{"use strict";t.exports=s.p+"08e4d4f58ddfb292dca1.mp3"},994:(t,e,s)=>{"use strict";t.exports=s.p+"e9dec5ba32941ebe6f86.mp3"},3278:(t,e,s)=>{"use strict";t.exports=s.p+"c64fbe7febf6e920b468.mp3"},2489:(t,e,s)=>{"use strict";t.exports=s.p+"6d92bc78ddc6e55c1abc.mp3"},5790:(t,e,s)=>{"use strict";t.exports=s.p+"2c8364bde7908cb17bda.mp3"},9347:(t,e,s)=>{"use strict";t.exports=s.p+"b9f7020aebec79f40607.mp3"},6837:(t,e,s)=>{"use strict";t.exports=s.p+"788e1d4528eebbd2cfbb.mp3"},8687:(t,e,s)=>{"use strict";t.exports=s.p+"aafe39605816b5f38db1.mp3"},3023:(t,e,s)=>{"use strict";t.exports=s.p+"868570158e7bb98ee98b.mp3"},9542:(t,e,s)=>{"use strict";t.exports=s.p+"2d38ed911a47c99647f3.mp3"},3402:(t,e,s)=>{"use strict";t.exports=s.p+"4c9dc1713eda08cda618.mp3"},3289:(t,e,s)=>{"use strict";t.exports=s.p+"a659a62500eb5a9751fe.mp3"},2874:(t,e,s)=>{"use strict";t.exports=s.p+"ee3a60cbb5d78571fce8.mp3"},1919:(t,e,s)=>{"use strict";t.exports=s.p+"064d1ec07dbef411cf4e.mp3"},5082:(t,e,s)=>{"use strict";t.exports=s.p+"f9856c84148141ead986.mp3"},6946:(t,e,s)=>{"use strict";t.exports=s.p+"4e31a839ede8fe824108.mp3"},8062:(t,e,s)=>{"use strict";t.exports=s.p+"567555375bf73b089c86.mp3"},5502:(t,e,s)=>{"use strict";t.exports=s.p+"3fa54c06dec2d5cd3e78.mp3"},4825:(t,e,s)=>{"use strict";t.exports=s.p+"d34739c45f45e9108c78.mp3"},8733:(t,e,s)=>{"use strict";t.exports=s.p+"de85f1a7c8c45b2fd7d3.mp3"},2477:(t,e,s)=>{"use strict";t.exports=s.p+"3aa008ec01648e31c404.mp3"},6011:(t,e,s)=>{"use strict";t.exports=s.p+"aecd8a2f0b7acca73329.mp3"},9635:(t,e,s)=>{"use strict";t.exports=s.p+"5d72e69442d206f00698.mp3"},2889:(t,e,s)=>{"use strict";t.exports=s.p+"9380529c7aa0d240629e.mp3"},654:(t,e,s)=>{"use strict";t.exports=s.p+"5d1ce30a5f63256208b0.mp3"},3648:(t,e,s)=>{"use strict";t.exports=s.p+"aba67dd0d75cb8c8beb3.mp3"},1983:(t,e,s)=>{"use strict";t.exports=s.p+"9ab9ebf11c990d9fd79d.mp3"},1957:(t,e,s)=>{"use strict";t.exports=s.p+"25da7a62f8c9415d2999.mp3"},7391:(t,e,s)=>{"use strict";t.exports=s.p+"925141732bb605373906.mp3"},3090:(t,e,s)=>{"use strict";t.exports=s.p+"b1245e3dc8baca6d1e7f.mp3"},4913:(t,e,s)=>{"use strict";t.exports=s.p+"effef74669bdb0f3d5eb.mp3"},7416:(t,e,s)=>{"use strict";t.exports=s.p+"7b39b11296c75eb18421.mp3"},81:(t,e,s)=>{"use strict";t.exports=s.p+"d2798a35a109afc27000.mp3"},5534:(t,e,s)=>{"use strict";t.exports=s.p+"563d21ee02e609bbd5d0.png"},1625:(t,e,s)=>{"use strict";t.exports=s.p+"4d9d5da37cc5ebea91f0.jpeg"},8773:(t,e,s)=>{"use strict";t.exports=s.p+"6408deaee1ac22813cf9.png"},3495:(t,e,s)=>{"use strict";t.exports=s.p+"10e122519bee27c1aba4.mp3"},1229:(t,e,s)=>{"use strict";t.exports=s.p+"bcfd5d0822630962ace5.mp3"},9224:(t,e,s)=>{"use strict";t.exports=s.p+"33e3ca5743b79c3bce77.png"},4718:(t,e,s)=>{"use strict";t.exports=s.p+"4c1906df778ca2bfbbfd.png"},578:(t,e,s)=>{"use strict";t.exports=s.p+"eb15afa9164e6dd325ff.png"},7490:(t,e,s)=>{"use strict";t.exports=s.p+"ce88229bbfff12e36e80.png"},3566:(t,e,s)=>{"use strict";t.exports=s.p+"3bf51af39346de6d28ab.png"},1712:(t,e,s)=>{"use strict";t.exports=s.p+"1943d3105824474bf33b.png"},7890:(t,e,s)=>{"use strict";t.exports=s.p+"3a07b85e2008241a8ba5.png"},1089:(t,e,s)=>{"use strict";t.exports=s.p+"29e8ce162338346c9b51.jpeg"},6513:(t,e,s)=>{"use strict";t.exports=s.p+"8f6852074f7bcc1877d0.png"},134:(t,e,s)=>{"use strict";t.exports=s.p+"b3fe22e9c8d4f3d388de.png"},9219:(t,e,s)=>{"use strict";t.exports=s.p+"b3998260388873ebf97d.png"},3285:(t,e,s)=>{"use strict";t.exports=s.p+"f6270e0494900b949559.png"},2308:(t,e,s)=>{"use strict";t.exports=s.p+"97ba4cf16a6edc3ca58c.png"},3031:(t,e,s)=>{"use strict";t.exports=s.p+"66011b381ae04731fcbb.png"},9889:(t,e,s)=>{"use strict";t.exports=s.p+"a014f78d65d0ac4e284c.png"},7610:(t,e,s)=>{"use strict";t.exports=s.p+"687d81a668d2ca49e020.png"},5069:(t,e,s)=>{"use strict";t.exports=s.p+"318e35221b2292b71562.png"},1523:(t,e,s)=>{"use strict";t.exports=s.p+"e11695c62ec7e5ef53ba.png"},7374:(t,e,s)=>{"use strict";t.exports=s.p+"bbffd27ee2bddcf73f43.json"},678:(t,e,s)=>{"use strict";s.r(e),s.d(e,{start:()=>Mi});var i={};s.r(i),s.d(i,{SimpleScrollBar:()=>Os});var h={};s.r(h),s.d(h,{ArrowKeysToPan_445:()=>Js,LightOn_226:()=>ci,MainTimeline:()=>pi,ag_intro_mc_459:()=>zs,cameraFlash_93:()=>Qs,cautionSign_anim_444:()=>$s,flashButton_rim2_347:()=>ei,flashButton_rim4_453:()=>si,flashButton_rim_344:()=>ti,flashButton_rimcopy2_353:()=>hi,flashButton_rimcopy_350:()=>ii,flowReady_437:()=>ai,giveKudo_306:()=>ri,handStuff_52:()=>ni,handStuffcopy_57:()=>li,hideMe_48:()=>oi,introLoader_43:()=>ui,redPing_166:()=>mi,runner_duck_84:()=>yi,runner_head_17:()=>vi,runner_idle_82:()=>gi,runner_jump_83:()=>bi,slidingDoor_153:()=>fi,startBox_308:()=>xi,startFade_355:()=>Li,w_beaconC_228:()=>Ci,w_beacon_161:()=>wi});var a={};s.r(a),s.d(a,{ColorPicker:()=>Si,ScrollBarDirection:()=>Ps});var r={};s.r(r),s.d(r,{ColorPickerEvent:()=>X,ScrollEvent:()=>mt});var n={};s.r(n),s.d(n,{controls:()=>a,events:()=>r});var l={};s.r(l),s.d(l,{SFSEvent:()=>vs,SmartFoxClient:()=>ys});var o={};s.r(o),s.d(o,{smartfoxserver:()=>l});var u={};s.r(u),s.d(u,{gotoandplay:()=>o});var c={};s.r(c),s.d(c,{Anim:()=>N,BitmapCanvas:()=>P,Emit:()=>ft,HandyCam:()=>bt,Key:()=>xt,Logger:()=>Mt,Math2:()=>Z,Relay:()=>R,SoundBox:()=>kt,StopWatch:()=>nt,Text2:()=>is,TileObject:()=>F});var d={};s.r(d),s.d(d,{AGILogin:()=>M,AGIcon:()=>T,AGIntro:()=>E,Ach:()=>L,AchEvent:()=>w,AchSound:()=>S,Achievement:()=>C,BodyPart:()=>D,Boop1:()=>G,Boop2:()=>V,Bouncer:()=>U,BouncerSound:()=>H,CameraFlashSingular:()=>K,CharacterSelection:()=>q,Checkpoint:()=>A,CheckpointFlag:()=>O,CheckpointHolder:()=>Y,CheckpointSound:()=>W,Cheer:()=>z,Cheer2:()=>J,ColorPicker_backgroundSkin:()=>Q,ColorPicker_colorWell:()=>$,ColorPicker_disabledSkin:()=>tt,ColorPicker_downSkin:()=>et,ColorPicker_overSkin:()=>st,ColorPicker_swatchSelectedSkin:()=>it,ColorPicker_swatchSkin:()=>ht,ColorPicker_textFieldSkin:()=>at,ColorPicker_upSkin:()=>rt,EndCountdown:()=>lt,EndPointHolder:()=>ot,Exit_fla:()=>h,FadeOut:()=>ut,FinalA:()=>ct,FinalB:()=>dt,FinalC:()=>pt,FlairMenu:()=>yt,FlowReady:()=>vt,FreedomSequence:()=>gt,Game:()=>Wt,GetKudos:()=>zt,Ghosting:()=>Ct,Grinder:()=>Jt,HalfBlockHolder:()=>Qt,InsideA:()=>At,InsideB:()=>_t,InsideC:()=>Bt,InvisibleTileHolder:()=>$t,JumpSound:()=>te,Kudo:()=>ee,LabA:()=>Dt,LabB:()=>Vt,LabC:()=>Gt,Laser:()=>se,LaserCannon:()=>ie,LaserGun:()=>he,Level:()=>j,Level0:()=>ae,Level1:()=>ne,Level10:()=>le,Level100:()=>oe,Level101:()=>ue,Level102:()=>ce,Level103:()=>de,Level104:()=>pe,Level105:()=>me,Level106:()=>ye,Level107:()=>ve,Level108:()=>ge,Level109:()=>be,Level11:()=>fe,Level110:()=>xe,Level111:()=>Le,Level112:()=>we,Level113:()=>Ce,Level114:()=>Se,Level115:()=>Te,Level116:()=>Me,Level117:()=>Ee,Level118:()=>ke,Level119:()=>Pe,Level12:()=>Oe,Level13:()=>Ne,Level14:()=>Re,Level15:()=>Ae,Level16:()=>Be,Level17:()=>_e,Level18:()=>Ie,Level19:()=>je,Level2:()=>Ze,Level20:()=>Fe,Level21:()=>De,Level22:()=>Ge,Level23:()=>Ve,Level24:()=>Ue,Level25:()=>He,Level26:()=>Ke,Level27:()=>Xe,Level28:()=>qe,Level29:()=>Ye,Level3:()=>We,Level30:()=>ze,Level4:()=>Je,Level5:()=>Qe,Level6:()=>$e,Level7:()=>ts,Level8:()=>es,Level9:()=>ss,LevelEnd:()=>St,LevelEndBox:()=>hs,LevelStart:()=>Tt,LevelUpWindow:()=>as,Lobby:()=>ns,MainMenu:()=>os,MainMenuSong:()=>us,MenuLow:()=>cs,Morgue:()=>Et,Multiplayer:()=>bs,MultiplayerMenu:()=>ds,MultiplayerPlayer:()=>fs,MultiplayerWarning:()=>ls,NotLoggedIn:()=>xs,ParallaxScrollingBitmap:()=>Ls,Placeholder:()=>ws,Placing:()=>rs,Plate:()=>Cs,Player:()=>Pt,PlayerBar:()=>jt,PlayerShell:()=>ms,PopSpikes:()=>Ss,QuickPlayLobby:()=>Ts,Rewind:()=>Ms,Robot:()=>Es,Runner:()=>wt,Scratcher:()=>ks,SinglePlayerMenu:()=>ps,Skin:()=>Lt,SkyLine:()=>Ot,SkylineA:()=>Ut,SkylineB:()=>Kt,SkylineC:()=>Ht,SmallScratch:()=>Rs,Spike:()=>B,SpikeDrop:()=>As,SpikeFall:()=>Bs,SpikesHolder:()=>_s,StadiumA:()=>Xt,StadiumB:()=>Yt,StadiumC:()=>qt,StartBeam:()=>It,StartPointHolder:()=>Is,Static:()=>Nt,SwingingAxe:()=>js,Takeoff:()=>Zs,Teleporter:()=>Fs,Thud:()=>Ds,Ticker:()=>Gs,TickerWord:()=>Vs,Tile:()=>_,TileHolder:()=>Us,TileOpaque:()=>I,TimeOutWindow:()=>Hs,TreadmillLeftHolder:()=>Ks,TreadmillRightHolder:()=>Xs,Tubes:()=>gs,Turnstile:()=>re,UIBackground:()=>qs,UIPanel:()=>Rt,WhiteSquare:()=>Zt,WhooshSound:()=>Ys,YouArrow:()=>Ft,Zap:()=>Ws,betz:()=>i,blackBeam:()=>k,fl:()=>n,it:()=>u,john:()=>c,scrollBar:()=>Ns});var p=s(107),m=s.n(p),y=s(8193),v=s(8239),g=s.n(v);const b={};function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}b.character1=new URL(s(7214),s.b),b.character35=new URL(s(8773),s.b),b.character83=new URL(s(9889),s.b),b.character96=new URL(s(1523),s.b),b.character316=new URL(s(5534),s.b),b.character334=new URL(s(1625),s.b),b.character560=new URL(s(9224),s.b),b.character570=new URL(s(4718),s.b),b.character622=new URL(s(578),s.b),b.character627=new URL(s(7490),s.b),b.character630=new URL(s(3566),s.b),b.character632=new URL(s(1712),s.b),b.character663=new URL(s(7890),s.b),b.character761=new URL(s(1089),s.b),b.character765=new URL(s(6513),s.b),b.character796=new URL(s(134),s.b),b.character806=new URL(s(9219),s.b),b.character810=new URL(s(3285),s.b),b.character813=new URL(s(2308),s.b),b.character819=new URL(s(3031),s.b),b.character863=new URL(s(7610),s.b),b.character871=new URL(s(5069),s.b),b.character1020=new URL(s(1558),s.b),b.character1028=new URL(s(6344),s.b),b.character1030=new URL(s(5708),s.b),b.character1084=new URL(s(1913),s.b),b.character1086=new URL(s(4916),s.b),b.character1088=new URL(s(1862),s.b),b.character1090=new URL(s(2764),s.b),b.character1092=new URL(s(8365),s.b),b.character47=new URL(s(3495),s.b),b.character48=new URL(s(1229),s.b),b.character172=new URL(s(9833),s.b),b.character178=new URL(s(1494),s.b),b.character179=new URL(s(8453),s.b),b.character180=new URL(s(994),s.b),b.character181=new URL(s(3278),s.b),b.character182=new URL(s(2489),s.b),b.character183=new URL(s(5790),s.b),b.character184=new URL(s(9347),s.b),b.character185=new URL(s(6837),s.b),b.character186=new URL(s(8687),s.b),b.character187=new URL(s(3023),s.b),b.character188=new URL(s(9542),s.b),b.character189=new URL(s(3402),s.b),b.character190=new URL(s(3289),s.b),b.character191=new URL(s(2874),s.b),b.character192=new URL(s(1919),s.b),b.character193=new URL(s(5082),s.b),b.character194=new URL(s(6946),s.b),b.character195=new URL(s(8062),s.b),b.character196=new URL(s(5502),s.b),b.character197=new URL(s(4825),s.b),b.character198=new URL(s(8733),s.b),b.character199=new URL(s(2477),s.b),b.character200=new URL(s(6011),s.b),b.character201=new URL(s(9635),s.b),b.character202=new URL(s(2889),s.b),b.character203=new URL(s(654),s.b),b.character204=new URL(s(3648),s.b),b.character205=new URL(s(1983),s.b),b.character206=new URL(s(1957),s.b),b.character207=new URL(s(7391),s.b),b.character208=new URL(s(3090),s.b),b.character209=new URL(s(4913),s.b),b.character210=new URL(s(7416),s.b),b.character256=new URL(s(81),s.b);const x={data:"data",properties:JSON.parse('{"width":16000,"height":10000,"fps":30,"backgroundColor":13421772}'),assets:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){g()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({data:new URL(s(7374),s.b)},b)};class L{constructor(t,e){this.got=!1,this.achName=t,this.description=e}}class w extends y.Z.flash.events.Event{constructor(t,e){super(t,!0,!1),this.achNum=e}clone(){return new w(this.type,this.achNum)}toString(){return this.formatToString("AchEvent","type","bubbles","cancelable","eventPhase")}}g()(w,"SEND","sendr");class C extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(102,this.frame103)}frame103(){this.parent.killAch(this)}}class S extends y.Z.flash.media.Sound{constructor(){super()}}class T extends y.Z.flash.display.MovieClip{constructor(){super()}}class M extends y.Z.flash.display.MovieClip{constructor(){super()}}class E extends y.Z.flash.display.MovieClip{constructor(){super()}}class k extends y.Z.flash.display.MovieClip{constructor(){super()}}class P extends y.Z.flash.display.MovieClip{constructor(){super(),this.bmpOffsetX=0,this.bmpOffsetY=0,this.canvasWidth=0,this.alphaFade=!0,this.canvasHeight=0}alphaFader(){var t=new y.Z.flash.geom.ColorTransform(1,1,1,.99,0,0,0,0);this.bmpData.colorTransform(new y.Z.flash.geom.Rectangle(this.bmpOffsetX,this.bmpOffsetY,this.canvasWidth,this.canvasHeight),t)}drawMovieClip(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"normal";1==e&&2==s&&3==i&&(e=t.x,s=t.y,i=t.rotation);var r=new y.Z.flash.geom.Matrix;r.translate(e-this.bmpOffsetX,s-this.bmpOffsetY),-1==t.scaleX&&(r.scale(-1,1),r.translate(2*t.x,0)),this.bmpData.draw(t,r,h,a)}getAlpha(t,e){return this.bmpData.getPixel32(t,e)>>24&255}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:550,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;this.bmpData=new y.Z.flash.display.BitmapData(t,e,!0,16777215),this.bmp=new y.Z.flash.display.Bitmap(this.bmpData),this.addChild(this.bmp),this.canvasWidth=t,this.canvasHeight=e}kill(){this.bmpData.dispose()}lineTo(t,e,s,i){let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;var n=new y.Z.flash.display.MovieClip;n.graphics.lineStyle(h,a,r),n.graphics.moveTo(t,e),n.graphics.lineTo(s,i),this.drawMovieClip(n),n=null}ping(){this.alphaFade&&this.alphaFader()}}class O extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class N{constructor(){}static autoElastic(t,e,s,i,h){return(e+=(s-t)*i)*h}static colourMe(t,e){var s=t.transform.colorTransform;s.color=e,t.transform.colorTransform=s}static ease(t,e,s){return t-s*(t-e)/2}static elastic(t,e,s,i,h){return(e+=(s-t)*i)*h}static removeColour(t){t.transform.colorTransform=new y.Z.flash.geom.ColorTransform}}class R extends y.Z.flash.events.Event{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no message";super(t,!0,!1),this.sender=e,this.msg=s}clone(){return new R(this.type,this.sender,this.msg)}toString(){return this.formatToString("Relay","type","bubbles","cancelable","eventPhase")}}g()(R,"ACH","ach"),g()(R,"GOTO","goto"),g()(R,"SEND","send"),g()(R,"WARNING","warning");class A extends y.Z.flash.display.MovieClip{constructor(){super(),this.id=0,this.checkPointFlags=new Array,this.playerList=new Array}addFlag(t,e,s){for(var i=null,h=0;h<this.playerList.length;h++)if(t==this.playerList[h])return;this.playerList.push(t),(i=new O).x=0,i.y=this.checkPointFlags.length*(i.height/2)-40,N.colourMe(i.flag.parts1,e),N.colourMe(i.flag.parts2,s),this.checkPointFlags.push(i),this.addChild(i),t.isMain&&this.dispatchEvent(new R(R.SEND,"CHECK"))}isNew(t){for(var e=0;e<this.playerList.length;e++)if(t==this.playerList[e])return!1;return!0}}class B extends y.Z.flash.display.MovieClip{constructor(){super()}}class _ extends y.Z.flash.display.MovieClip{constructor(){super(),this.posX=0,this.posY=0,this.holdY=0,this.tileSize=25,this.myColour=0,this.touched=!1,this.holdX=0,this.type=1,this.painted=!1}init(){this.x=Math.round(this.x),this.y=Math.round(this.y),this.holdX=this.x,this.holdY=this.y,this.posX=Math.floor(this.x/this.tileSize),this.posY=Math.floor(this.y/this.tileSize),this.name="tile"+this.posX+"x"+this.posY}}class I extends _{constructor(){super()}}class j extends y.Z.flash.display.MovieClip{constructor(){super()}__preInit(){this.tMaxX=100,this.tMaxY=50,this.levelName="Multiplayer",this.obstacleColour=13421772,this.createdArray=!1,this.levelColour=3355443,this.lastX=0,this.lastY=0,this.checkPointID=0,this.arrayMode=!1,this.levelWidth=400,this.maxWidth=0,this.levelHeight=800,this.levelType="SP",this.tArr=new Array,this.toPush=new Array,this.canvas=new P,this.timeString="",this.timeRank="",this.popSpikes=new Array,this.tiles=new Array,this.halfTiles=new Array,this.plates=new Array,this.laserGuns=new Array,this.spikes=new Array,this.swingingAxes=new Array,this.teleporters=new Array,this.fallingSpikes=new Array,this.grinders=new Array,this.bouncers=new Array,this.laserCannons=new Array,this.checkPoints=new Array,super.__preInit()}addCheckpoint(t){var e=new A;this.addChild(e),e.x=t.x,e.y=t.y,e.id=this.checkPointID,this.checkPointID++,this.checkPoints.push(e)}applyObstacleColour(t){N.colourMe(t,this.obstacleColour)}createArray(){var t=0;this.tArr.splice(0,this.tArr.length);for(var e=0;e<this.tMaxY;e++)for(this.tArr.push(new Array),t=0;t<this.tMaxX;t++)this.tArr[e].push(y.Z.__internal.avm2.Runtime.uint(0));this.canvas.init(3e3,1e3),this.addChild(this.canvas)}createBouncer(t){this.bouncers.push(t),this.createTileAt(t,99),this.applyObstacleColour(t),y.Z.__internal.avm2.Runtime.trace("BOUNCER!",t)}createEndPoint(t){this.createTileAt(t,4)}createFallingSpike(t){this.fallingSpikes.push(t),this.applyObstacleColour(t)}createGrinder(t){this.grinders.push(t),this.applyObstacleColour(t)}createHalfBlock(t){this.createTileAt(t,3)}createInvisibleBlock(t){this.createTileAt(t,98)}createLaserCannon(t){this.laserCannons.push(t),this.applyObstacleColour(t.barrel)}createLaserGun(t){this.laserGuns.push(t),this.applyObstacleColour(t.gunBarrel)}createPlate(t){this.plates.push(t),this.applyObstacleColour(t)}createPopSpikes(t){this.popSpikes.push(t),t.inside.spikes.hitA.visible=!1,this.applyObstacleColour(t)}createSpike(t){this.createSpikeAt(t)}createSpikeAt(t){var e=new B;e.x=Math.round(t.x),e.y=Math.round(t.y),e.rotation=t.rotation,this.addChild(e),e.hitA.visible=!1,this.applyObstacleColour(e),this.spikes.push(e),t.visible=!1}createStartPoint(t){this.createTileAt(t,2)}createSwingingAxe(t){this.swingingAxes.push(t),t.axe.side0.visible=!1,t.axe.side1.visible=!1,this.applyObstacleColour(t)}createTeleporter(t){this.teleporters.push(t),this.applyObstacleColour(t)}createTile(t){this.createTileAt(t,1)}createTileAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.toPush.push([t,e])}createTreadmillBlock(t,e){"L"==e?this.createTileAt(t,5):this.createTileAt(t,6)}generateLevel(){var t=null,e=0,s=null;this.preInitCheck(),this.maxWidth=0,this.canvas.init(3e3,1e3),this.addChild(this.canvas);for(var i=0;i<this.toPush.length;i++)t=this.toPush[i][0],e=y.Z.__internal.avm2.Runtime.uint(this.toPush[i][1]),(s="SP"==this.levelType?new _:new I).x=Math.round(t.x),s.y=Math.round(t.y),s.x>this.maxWidth&&(this.maxWidth=s.x),s.typeOf=e,3!=s.typeOf?(this.tiles.push(s),s.init()):this.halfTiles.push(s),this.addChild(s),4!=e&&"SP"==this.levelType&&N.colourMe(s,this.levelColour),s.gotoAndStop(s.typeOf),2==e&&(this.startPoint=s),4==e&&(this.endPoint=s),1==e&&s.x<3e3&&(this.canvas.drawMovieClip(s,s.x,s.y,0,s.transform.colorTransform),s.visible=!1),this.arrayMode&&(this.tArr[Math.round(t.y/25)][Math.round(t.x/25)]=e,1==e&&s.x<3e3&&(this.canvas.drawMovieClip(s,s.x,s.y),this.removeChild(s),s=null)),99!=e&&(this.removeChild(t),t=null);for(this.toPush.splice(0,this.toPush.length),this.arrayMode&&this.tiles.splice(0,this.tiles.length),i=0;i<this.teleporters.length;i++)this.teleporters[i].init();this.uniqueLevelInit()}getTileArray(){for(var t=0;t<this.tMaxX;t++)y.Z.__internal.avm2.Runtime.trace(this.tArr[t])}init(){this.levelWidth=this.width,this.levelHeight=this.height}kill(){this.canvas.kill()}killTiles(){for(var t=0;t<this.tiles.length;t++)99==this.tiles[t].typeOf&&(this.removeChild(this.tiles[t]),this.tiles[t]=null,this.tiles.splice(t,1),t--)}ping(){}preInitCheck(){}repaint(){for(var t=0;t<this.spikes.length;t++)N.colourMe(this.spikes[t],this.obstacleColour),this.applyObstacleColour(this.spikes[t]);for(t=0;t<this.swingingAxes.length;t++)N.colourMe(this.swingingAxes[t],this.obstacleColour);for(t=0;t<this.teleporters.length;t++)N.colourMe(this.teleporters[t],this.obstacleColour);for(t=0;t<this.fallingSpikes.length;t++)N.colourMe(this.fallingSpikes[t],this.obstacleColour);for(t=0;t<this.grinders.length;t++)N.colourMe(this.grinders[t],this.obstacleColour);for(t=0;t<this.laserCannons.length;t++)N.colourMe(this.laserCannons[t].barrel,this.obstacleColour);for(t=0;t<this.bouncers.length;t++)N.colourMe(this.bouncers[t],this.obstacleColour)}setPlayer(t){this.player=t}uniqueLevelInit(){}uniqueLevelPing(){}}class Z{constructor(){}static ceilTo(t,e){return e*Math.ceil(t/e)}static chance(t){return 0==Z.random(t)?1:0}static degToRad(t){return t*Math.PI/180}static dist(t,e,s,i){return Math.sqrt(Math.pow(t-s,2)+Math.pow(e-i,2))}static floorTo(t,e){return e*Math.floor(t/e)}static getRotationDifference(t,e){var s=e,i=t-s;return i>180?s+=360:i<-180&&(s-=360),s-t}static midPoint(t,e){var s=(t.x+e.x)/2,i=(t.y+e.y)/2;return new y.Z.flash.geom.Point(s,i)}static pythagH(t,e){return Math.sqrt(t*t+e*e)}static random(t){return Math.floor(Math.random()*t)}static randomBoolean(){return 0!=Z.random(2)}static randomColour(){return 16777215*Math.random()}static range(t){return t-Z.random(2*t+1)}static restrict(t,e,s){return Math.max(Math.min(t,s),e)}static roman(t){for(var e=void 0,s=void 0,i="",h=new Array("IIII","V","XXXX","L","CCCC","D","MMMM"),a=0;a<h.length;a++)s=t%(e=h[a].length+1),i=h[a].substr(0,s)+i,t=(t-s)/e;return(i=(i=(i=(i=(i=i.replace(/DCCCC/g,"CM")).replace(/CCCC/g,"CD")).replace(/LXXXX/g,"XC")).replace(/XXXX/g,"XL")).replace(/VIIII/g,"IX")).replace(/IIII/g,"IV")}static rotateTo(t,e,s,i){return 180*-Math.atan2(s-t,i-e)/Math.PI}static roundDecimal(t,e){return y.Z.__internal.avm2.Runtime.int(t*Math.pow(10,e))/Math.pow(10,e)}static roundTo(t,e){return e*Math.round(t/e)}static toHex(t){for(var e="",s=0,i=t;i>0;)switch(s=i%16,i/=16,s){case 10:e="A"+e;continue;case 11:e="B"+e;continue;case 12:e="C"+e;continue;case 13:e="D"+e;continue;case 14:e="E"+e;continue;case 15:e="F"+e;continue;default:e=s+e;continue}return e}}class F extends y.Z.flash.display.MovieClip{constructor(){super(),this.thudTresh=2,this.holdDown=!1,this.guyTL=!1,this.guyTM=!1,this.xVel=0,this.guyTR=!1,this.xLove=0,this.guyLM=!1,this.yMax=20,this.cblx=0,this.cbly=0,this.holdCounter=0,this.yAcc=1,this.hops=-8,this.cbmy=0,this.cmx=0,this.cbmx=0,this.crmx=0,this.crmy=0,this.yVel=0,this.bounceTolerance=0,this.cmy=0,this.ctrx=0,this.ctry=0,this.yGrav=.6,this.playerSize=0,this.lastY=0,this.bounce=-.3,this.dXVel=8,this.yLove=3,this.lastX=0,this.modX=0,this.playerJump=!1,this.rotSpeed=1,this.typeOf="none",this.holdUp=!1,this.ctlx=0,this.ctly=0,this.guyRM=!1,this.xMax=30,this.xF=0,this.tileSize=25,this.clmx=0,this.clmy=0,this.guyBM=!1,this.guyBR=!1,this.guyBL=!1,this.ctmy=0,this.cbrx=0,this.cbry=0,this.dYVel=0,this.xAcc=1,this.ctmx=0,this.yF=1,this.jumpCounter=0,this.jumping=!1,this.jumpLevel=!1,this.xGrav=0,this.curLevel=new j,this.targetObject=this}bounding(){this.yVel<0?this.checkTile(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkTile(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(Z.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkTile(this.x+this.xVel+this.modX,this.y,3,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkTile(this.x+this.xVel+this.modX,this.y,2,this.curLevel)?this.x=this.x+(this.xVel+this.modX):(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br?(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)):this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}bounding2(){this.yVel<0?this.checkArray(this.x,this.y+this.yVel,0,this.curLevel)?(this.y=this.y+this.yVel,this.yGrav<0&&(this.y=Math.ceil(this.y))):(this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.rotSpeed=-1*this.rotSpeed,this.tr?(this.y=this.tr.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tr),this.touchBlock(this.tr)):this.tl&&(this.y=this.tl.y+this.tileSize+this.targetObject.height,this.hitBlock(this.tl),this.touchBlock(this.tl)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),this.yGrav<0&&(this.jumping=!1)):this.yVel>0&&(this.checkArray(this.x,this.y+this.yVel,1,this.curLevel)?this.y=this.y+this.yVel:(this.yVel<=this.bounceTolerance&&(this.yVel,this.bounceTolerance),this.xVel=this.xVel*this.xF,this.yVel=this.yVel*this.bounce,this.yGrav>0&&(this.jumping=!1),this.bl?(this.y=this.bl.y,this.touchBlock(this.bl)):this.br?(this.y=this.br.y,this.touchBlock(this.br)):this.bm&&(this.y=this.bm.y,this.touchBlock(this.bm)),this.yVel<this.thudTresh&&this.yVel>0-this.thudTresh&&(this.yVel=0),Math.abs(this.yVel)>6?this.rotSpeed=this.rotSpeed*(Z.random(8)-4):this.rotSpeed=.5*this.rotSpeed)),this.xVel<0?this.checkArray(this.x+this.xVel,this.y,3,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.bl?(this.x=this.bl.x+this.targetObject.width/2+this.tileSize,this.touchBlock(this.bl)):this.br&&(this.x=this.br.x-this.targetObject.width/2+this.tileSize,this.touchBlock(this.br)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0)):this.xVel>0&&(this.checkArray(this.x+this.xVel,this.y,2,this.curLevel)?this.x=this.x+this.xVel:(this.yVel=this.yVel*this.yF,this.xVel=this.xVel*this.bounce,this.xVel,this.bounceTolerance,this.br&&(this.x=this.br.x-this.targetObject.width/2,this.touchBlock(this.br)),this.bl&&(this.x=this.bl.x+this.targetObject.width/2,this.touchBlock(this.bl)),this.xVel<this.thudTresh&&this.xVel>0-this.thudTresh&&(this.xVel=0))),this.xVel>this.xMax&&(this.xVel=this.xMax),this.xVel<0-this.xMax&&(this.xVel=0-this.xMax),this.yVel>this.yMax&&(this.yVel=this.yMax),this.yVel<0-this.yMax&&(this.yVel=0-this.yMax)}checkArray(t,e,s,i){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var h=this.targetObject.width,a=this.targetObject.height;this.ctlx=t-h/2+1,this.ctly=e-a+1,this.ctrx=t+h/2-1,this.ctry=e-a+1,this.cbrx=t+h/2-1,this.cbry=e-1,this.cblx=t-h/2+1,this.cbly=e-1,this.clmx=t-h/2+1,this.clmy=e-a/2+1,this.ctmx=t+1,this.ctmy=e-a+1,this.crmx=t+h/2-1,this.crmy=e-a/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy;var r=this.curLevel.tArr[Math.floor(this.ctly/this.tileSize)][Math.floor(this.ctlx/this.tileSize)],n=this.curLevel.tArr[Math.floor(this.ctry/this.tileSize)][Math.floor(this.ctrx/this.tileSize)],l=this.curLevel.tArr[Math.floor(this.cbry/this.tileSize)][Math.floor(this.cbrx/this.tileSize)],o=this.curLevel.tArr[Math.floor(this.cbly/this.tileSize)][Math.floor(this.cblx/this.tileSize)],u=this.curLevel.tArr[Math.floor(this.ctmy/this.tileSize)][Math.floor(this.ctmx/this.tileSize)],c=this.curLevel.tArr[Math.floor(this.clmy/this.tileSize)][Math.floor(this.clmx/this.tileSize)],d=this.curLevel.tArr[Math.floor(this.cbmy/this.tileSize)][Math.floor(this.cbmx/this.tileSize)],p=this.curLevel.tArr[Math.floor(this.crmy/this.tileSize)][Math.floor(this.crmx/this.tileSize)];switch(this.curLevel.tArr[Math.floor(this.cbly/this.tileSize)][Math.floor(this.cbmx/this.tileSize)],r>0&&(this.guyTL=1==r),n>0&&(this.guyTR=1==n),l>0&&(1==l||2==l&&this.yVel>0?this.guyBR=!0:this.guyBR=!1),o>0&&(1==o||2==o&&this.yVel>0?this.guyBL=!0:this.guyBL=!1),u>0&&(this.guyTM=1==u),d>0&&(this.guyBM=1==d),c>0&&(this.guyLM=1==c),p>0&&(this.guyRM=1==p),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&(this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),1==this.playerSize&&this.guyBR&&this.guyBL&&(this.jumpLevel=!0)):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),s){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}checkTile(t,e,s,i){this.guyTL=!1,this.guyTR=!1,this.guyBL=!1,this.guyBR=!1,this.guyBM=!1,this.guyTM=!1,this.guyLM=!1,this.guyRM=!1;var h=this.targetObject.width,a=this.targetObject.height;switch(this.ctlx=t-h/2+1,this.ctly=e-a+1,this.ctrx=t+h/2-1,this.ctry=e-a+1,this.cbrx=t+h/2-1,this.cbry=e-1,this.cblx=t-h/2+1,this.cbly=e-1,this.clmx=t-h/2+1,this.clmy=e-a/2+1,this.ctmx=t+1,this.ctmy=e-a+1,this.crmx=t+h/2-1,this.crmy=e-a/2+1,this.cbmx=t+1,this.cbmy=e-1,this.cmx=this.ctmx,this.cmy=this.clmy,this.tl=this.curLevel.getChildByName("tile"+Math.floor(this.ctlx/this.tileSize)+"x"+Math.floor(this.ctly/this.tileSize)),this.tr=this.curLevel.getChildByName("tile"+Math.floor(this.ctrx/this.tileSize)+"x"+Math.floor(this.ctry/this.tileSize)),this.br=this.curLevel.getChildByName("tile"+Math.floor(this.cbrx/this.tileSize)+"x"+Math.floor(this.cbry/this.tileSize)),this.bl=this.curLevel.getChildByName("tile"+Math.floor(this.cblx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tm=this.curLevel.getChildByName("tile"+Math.floor(this.ctmx/this.tileSize)+"x"+Math.floor(this.ctmy/this.tileSize)),this.lm=this.curLevel.getChildByName("tile"+Math.floor(this.clmx/this.tileSize)+"x"+Math.floor(this.clmy/this.tileSize)),this.bm=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbmy/this.tileSize)),this.rm=this.curLevel.getChildByName("tile"+Math.floor(this.crmx/this.tileSize)+"x"+Math.floor(this.crmy/this.tileSize)),this.mb=this.curLevel.getChildByName("tile"+Math.floor(this.cbmx/this.tileSize)+"x"+Math.floor(this.cbly/this.tileSize)),this.tl&&(1==this.tl.type?(this.guyTL=!0,this.tl,this.pass(this.tl)):this.guyTL=!1),this.tr&&(1==this.tr.type?(this.guyTR=!0,this.tr,this.pass(this.tr)):this.guyTR=!1),this.br&&(1==this.br.type?(this.guyBR=!0,this.br,this.pass(this.br)):2==this.br.type&&this.yVel>0?(this.guyBR=!0,this.br):this.guyBR=!1),this.bl&&(1==this.bl.type?(this.guyBL=!0,this.bl,this.pass(this.bl)):2==this.bl.type&&this.yVel>0?(this.guyBL=!0,this.bl):this.guyBL=!1),this.tm&&(1==this.tm.type?(this.guyTM=!0,this.tm,this.pass(this.tm)):this.guyTM=!1),this.bm&&(1==this.bm.type?(this.guyBM=!0,this.bm,this.pass(this.bm)):this.guyBM=!1),this.lm&&(1==this.lm.type?(this.guyLM=!0,this.lm,this.pass(this.lm)):this.guyLM=!1),this.rm&&(1==this.rm.type?(this.guyRM=!0,this.rm,this.pass(this.rm)):this.guyRM=!1),this.yGrav>0?((this.guyBM||this.guyBL||this.guyBR)&&(this.yLove=0,this.holdCounter=0),0==this.playerSize&&((this.guyBM&&this.guyBL||this.guyBM&&this.guyBR)&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0)),1==this.playerSize&&(this.guyBR&&this.guyBL&&(this.jumpLevel=!0),this.guyBL&&!this.guyTL&&(this.jumpLevel=!0),this.guyBR&&!this.guyTR&&(this.jumpLevel=!0))):((this.guyTM||this.guyTL||this.guyTR)&&(this.yLove=0,this.holdCounter=0),(this.guyTM&&this.guyTL||this.guyTM&&this.guyTR)&&(this.jumpLevel=!0)),s){case 0:if(this.guyTL||this.guyTR)return!1;case 1:if(this.guyBR||this.guyBL)return!1;case 2:if(this.guyTR||this.guyBR)return!1;case 3:default:if(this.guyTL||this.guyBL)return!1}return!0}hitBlock(t){}init(t){this.curLevel=t,this.lastX=this.x,this.lastX=this.y}normalHorizontal(){this.xVel=this.xVel+this.xGrav,this.xGrav>0?(1==this.xLove&&(this.holdUp||this.xVel++,this.xVel>=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel>0&&(this.xLove=3),3!=this.xLove||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.xVel>1.5&&(this.xVel=3),0==this.xLove&&(this.playerJump=!1)):(1==this.xLove&&(this.holdUp||this.xVel--,this.yVel<=0&&(this.xLove=2,this.xVel=0)),2!=this.xLove&&3!=this.xLove||this.xVel<0&&(this.xLove=3),3!=this.xLove||0!=this.xVel||this.holdUp||(this.xLove=0,this.holdCounter=0),0==this.xLove&&this.yVel<1.5&&(this.xLove=3),0==this.xLove&&(this.playerJump=!1))}normalVertical(){this.yVel=this.yVel+this.yGrav,this.yGrav>0?(1==this.yLove&&(this.holdUp||this.yVel++,this.yVel>=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel>0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel>1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)):(1==this.yLove&&(this.holdUp||this.yVel--,this.yVel<=0&&(this.yLove=2,this.yVel=0)),2!=this.yLove&&3!=this.yLove||this.yVel<0&&(this.yLove=3),3!=this.yLove||0!=this.yVel||this.holdUp||(this.yLove=0,this.holdCounter=0),0==this.yLove&&this.yVel<1.5&&(this.yLove=3),0==this.yLove&&(this.playerJump=!1)),0!=this.yLove&&(this.jumpLevel=!1)}pass(t){}touchBlock(t){}updateTileInteraction(){this.lastX=this.x,this.lastY=this.y,this.normalVertical(),this.curLevel.arrayMode?this.bounding2():this.bounding(),"egg"==this.typeOf&&(this.y=Math.floor(this.y)),"deadaphant"==this.typeOf&&(this.y=Math.floor(this.y))}}class D extends F{constructor(){super(),this.levelNum=0,this.colour=16777215,this.gameMode=0,this.deadCounter=0}hitBlock(t){}ping(){this.playerSize=1,this.thudTresh=5,this.xF=.7,this.targetObject=this.hitA,this.updateTileInteraction()}touchBlock(t){}}class G extends y.Z.flash.media.Sound{constructor(){super()}}class V extends y.Z.flash.media.Sound{constructor(){super()}}class U extends y.Z.flash.display.MovieClip{constructor(){super(),this.bounces=0,this.addFrameScript(0,this.frame1),this.parent.createBouncer(this)}frame1(){this.stop()}}class H extends y.Z.flash.media.Sound{constructor(){super()}}class K extends y.Z.flash.display.MovieClip{constructor(){super(),this.goal=0,this.counter=0}ping(){if(this.counter++,this.x=0-this.parent.x,this.counter>=this.goal)return this.counter=0,this.setGoal(),this.cameraFlash.x=Z.random(800),this.cameraFlash.rotation=Z.random(360),this.cameraFlash.y=300+Z.random(200),void this.cameraFlash.play()}setGoal(){this.goal=Z.random(20)+5}}class X extends y.Z.flash.events.Event{constructor(t,e){super(t,!0),this._color=e}clone(){return new X(this.type,this.color)}get color(){return this._color}toString(){return this.formatToString("ColorPickerEvent","type","bubbles","cancelable","color")}}g()(X,"CHANGE","change"),g()(X,"ENTER","enter"),g()(X,"ITEM_ROLL_OUT","itemRollOut"),g()(X,"ITEM_ROLL_OVER","itemRollOver");class q extends y.Z.flash.display.MovieClip{constructor(t){super(),this.colour=0,this.colour2=0,this.playerObject=t,this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.clicky,!1,0,!0),this.pickerA.addEventListener(X.ITEM_ROLL_OVER,this.roll),this.pickerB.addEventListener(X.ITEM_ROLL_OVER,this.roll),this.pickerA.addEventListener(X.CHANGE,this.roll),this.pickerB.addEventListener(X.CHANGE,this.roll),this.backToMenuButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.backButt,!1,0,!0),this.pickerA.selectedColor=this.playerObject.colour,this.pickerB.selectedColor=this.playerObject.colour2,this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.tagOf.text=this.playerObject.userName;for(var e=0;e<24;e++)this["box"+e].head.gotoAndStop(e+1),this.playerObject.achs[e]?(this["box"+e].lock.visible=!1,this["box"+e].whiteOutline.visible=!0):(this["box"+e].head.visible=!1,this["box"+e].lock.visible=!0,this["box"+e].whiteOutline.visible=!1);for(e=0;e<24;e++)this["item"+e].arm.handGear.gotoAndStop(e+1),this.playerObject.achs[e+24]?(this["item"+e].lock.visible=!1,this["item"+e].whiteOutline.visible=!0):(this["item"+e].arm.handGear.visible=!1,this["item"+e].lock.visible=!0,this["item"+e].whiteOutline.visible=!1)}backButt(){this.dispatchEvent(new R(R.GOTO,"SaveGame")),this.dispatchEvent(new R(R.GOTO,"CharacterSelection","Back"))}clicky(){for(var t=0;t<24;t++)this["box"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.headType=this.playerObject.headType=t+1);for(t=0;t<24;t++)this["item"+t].whiteOutline.hitTestPoint(this.mouseX,this.mouseY)&&(this.runnerBar.runner.handType=this.playerObject.handType=t+1,y.Z.__internal.avm2.Runtime.trace("ELLO"))}kill(){this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping),this.pickerA.removeEventListener(X.ITEM_ROLL_OVER,this.roll),this.pickerB.removeEventListener(X.ITEM_ROLL_OVER,this.roll),this.pickerA.removeEventListener(X.CHANGE,this.roll),this.pickerB.removeEventListener(X.CHANGE,this.roll),this.backToMenuButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.backButt)}ping(){this.runnerBar.runner.setColours(),this.playerObject.userName=this.tagOf.text}roll(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).currentTarget;t==this.pickerA?(this.runnerBar.runner.colour=t.selectedColor,this.playerObject.colour=t.selectedColor):(this.runnerBar.runner.colour2=t.selectedColor,this.playerObject.colour2=t.selectedColor)}}class Y extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.addCheckpoint(this)}}class W extends y.Z.flash.media.Sound{constructor(){super()}}class z extends y.Z.flash.media.Sound{constructor(){super()}}class J extends y.Z.flash.media.Sound{constructor(){super()}}class Q extends y.Z.flash.display.MovieClip{constructor(){super()}}class $ extends y.Z.flash.display.MovieClip{constructor(){super()}}class tt extends y.Z.flash.display.MovieClip{constructor(){super()}}class et extends y.Z.flash.display.MovieClip{constructor(){super()}}class st extends y.Z.flash.display.MovieClip{constructor(){super()}}class it extends y.Z.flash.display.MovieClip{constructor(){super()}}class ht extends y.Z.flash.display.Sprite{constructor(){super()}}class at extends y.Z.flash.display.MovieClip{constructor(){super()}}class rt extends y.Z.flash.display.MovieClip{constructor(){super()}}class nt{constructor(){this.frameBased=!0,this.completeString="",this.timerCounter=0,this.timerInc=0}getFrameTime(){return this.timerCounter}getRealTime(t){return nt.translateTime(t)}getTimeAsSeconds(){return Math.floor(this.timerCounter/nt.fr)%60}getTimeAsString(){return this.completeString}getTimeAsTotalSeconds(){return Math.floor(this.timerCounter/nt.fr)}handleCounter(){this.frameBased&&(this.timerCounter=this.timerCounter+1,this.completeString=nt.translateTime(this.timerCounter))}initTimer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.frameBased=!1,this.timer=new y.Z.flash.utils.Timer(t),this.timerInc=t,this.timer.addEventListener("timer",this.timerHandler),this.timer.start()}killTimer(){this.timer&&(this.timer.stop(),this.timer.removeEventListener("timer",this.timerHandler))}ping(){this.handleCounter()}resetTime(){this.timerCounter=0}setTime(t){this.timerCounter=t}setTimeAsTotalSeconds(t){this.timerCounter=t*nt.fr}timerHandler(t){this.timerCounter=this.timerCounter+Math.ceil(nt.fr*this.timerInc/1e3)}static translateTime(t){var e,s,i=Math.round(t%nt.fr/nt.fr*100);e=i<10?"0"+i:String(i);var h=Math.floor(t/nt.fr)%60;s=h<10?"0"+h:String(h);var a=Math.floor(t/(60*nt.fr));return(a<10?"0"+a:String(a))+":"+s+"."+e}}g()(nt,"fr",30);class lt extends y.Z.flash.display.MovieClip{constructor(t){super(),this.user="bob",this.timer=new nt,this.user=t,this.timer.initTimer(),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.counting),this.whoBeat.text=this.user+" just beat the level!"}counting(){this.timeOf.text=String(15-this.timer.getTimeAsSeconds())}endNow(){this.timer.killTimer(),this.dispatchEvent(new R(R.SEND,"EndCountdown","End"))}ping(t,e){this.x=t,this.y=e,15-this.timer.getTimeAsSeconds()<=0&&this.endNow()}}class ot extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createEndPoint(this)}}class ut extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,14,this.frame15,29,this.frame30)}frame1(){this.stop()}frame15(){this.parent.loadNextSinglePlayerLevel()}frame30(){this.parent.endFadeOut(this)}}class ct extends y.Z.flash.media.Sound{constructor(){super()}}class dt extends y.Z.flash.media.Sound{constructor(){super()}}class pt extends y.Z.flash.media.Sound{constructor(){super()}}class mt extends y.Z.flash.events.Event{constructor(t,e,s){super(mt.SCROLL,!1,!1),this._direction=t,this._delta=e,this._position=s}clone(){return new mt(this._direction,this._delta,this._position)}get delta(){return this._delta}get direction(){return this._direction}get position(){return this._position}toString(){return this.formatToString("ScrollEvent","type","bubbles","cancelable","direction","delta","position")}}g()(mt,"SCROLL","scroll");class yt extends y.Z.flash.display.MovieClip{constructor(){super(),this.achievements=new Array}addListeners(){this.holder.backToButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}buttons(t){switch(t.currentTarget){case this.holder.backToButton:this.dispatchEvent(new R(R.GOTO,"FlairMenu","Back"))}}handleScrollBarScroll(t){var e=this.height-50-this.holder.scrollBar_mc.height;this.y=0+this.holder.scrollBar_mc.percent*-e}init(t,e){var s=null;this.playerObject=t,this.achievements=e,this.addListeners();for(var i=0;i<48;i++)s=e[i],this["s"+i].nam.text=s.achName,this["s"+i].desc.text=s.description,this.playerObject.achs[i]?(this["s"+i].lock.visible=!1,i>=24?(this["s"+i].headgear.handGear.gotoAndStop(i-23),this["s"+i].headgear.head.visible=!1,this["s"+i].headgear.head2.visible=!1):(this["s"+i].headgear.head.gotoAndStop(i+1),this["s"+i].headgear.handGear.visible=!1)):this["s"+i].headgear.visible=!1;this.holder.scrollBar_mc.addEventListener(mt.SCROLL,this.handleScrollBarScroll,!1,0,!0)}kill(){this.holder.backToButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping)}ping(){this.holder.y=0-this.y}updateScrollBar(){var t=this.height-50-this.holder.scrollBar_mc.height;this.holder.scrollBar_mc.maxScrollPosition=t,this.y=0+this.holder.scrollBar_mc.percent*-t}}class vt extends y.Z.flash.media.Sound{constructor(){super()}}class gt extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(634,this.frame635,689,this.frame690)}frame635(){this.parent.parent.endEnding()}frame690(){this.parent.endEnding()}}class bt{constructor(){this.stageHeight=500,this.lockX=!1,this.lockY=!1,this.enforceLimits=!0,this.yPos=0,this.driftSpeed=.6,this.stageWidth=800,this.camX=0,this.camY=0,this.xPos=0,this.limits=new Array(400,2e3,0,0)}init(t){this.target=t}ping(t,e){var s=void 0,i=NaN,h=NaN,a=void 0,r=NaN,n=NaN;this.lockX||(s=0-t+this.stageWidth/2,i=0-this.limits[0]+this.stageWidth/2,h=0-this.limits[1]+this.stageWidth/2,this.enforceLimits&&s>i?this.target.x=N.ease(this.target.x,i,this.driftSpeed):this.enforceLimits&&s<h?this.target.x=N.ease(this.target.x,h,this.driftSpeed):this.target.x=N.ease(this.target.x,s,this.driftSpeed)),this.lockY||(a=0-e+this.stageHeight/2,r=0-this.limits[2]+this.stageHeight/2,n=0-this.limits[3]+this.stageHeight/2,this.enforceLimits&&a>r?this.target.y=N.ease(this.target.y,r,this.driftSpeed):this.enforceLimits&&a<n?this.target.y=N.ease(this.target.y,n,this.driftSpeed):this.target.y=N.ease(this.target.y,a,this.driftSpeed)),this.camX=this.target.x,this.camY=this.target.y}rotateAt(t,e,s){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-s),this.affineTransform.rotate(t),this.affineTransform.translate(e,s),this.target.transform.matrix=this.affineTransform}scaleAt(t,e,s){this.affineTransform=this.target.transform.matrix,this.affineTransform.translate(-e,-s),this.affineTransform.scale(t,t),this.affineTransform.translate(e,s),this.target.transform.matrix=this.affineTransform}}class ft extends y.Z.flash.display.MovieClip{constructor(){super(),this.objects=new Array}killObject(t){this.objects[t].parent.removeChild(this.objects[t]),this.objects[t]=null,this.objects.splice(t,1)}manage(t){this.objects.push(t)}ping(){for(var t=null,e=0;e<this.objects.length;e++)(t=this.objects[e]).timerKill?(t.ping(),t.killCounter--,t.killCounter<=0&&(this.killObject(e),e--)):t.currentFrame==t.totalFrames&&(this.killObject(e),e--)}}class xt{constructor(){}static clearKeys(t){xt.keysDown=new Object}static initialize(t,e){xt.dualKey=e,xt.initialized||(t.addEventListener(y.Z.flash.events.KeyboardEvent.KEY_DOWN,xt.keyPressed),t.addEventListener(y.Z.flash.events.KeyboardEvent.KEY_UP,xt.keyReleased),t.addEventListener(y.Z.flash.events.Event.DEACTIVATE,xt.clearKeys),xt.initialized=!0)}static isDown(t){if(!xt.initialized)throw new Error("Key class has yet been initialized.");if("number"==typeof t)return Boolean(t in xt.keysDown);if(xt.dualKey){if(t==xt.LEFT)return Boolean(xt.A in xt.keysDown)||Boolean(xt.LEFTKEY in xt.keysDown);if(t==xt.RIGHT)return Boolean(xt.D in xt.keysDown)||Boolean(xt.RIGHTKEY in xt.keysDown);if(t==xt.UP)return Boolean(xt.W in xt.keysDown)||Boolean(xt.UPKEY in xt.keysDown);if(t==xt.DOWN)return Boolean(xt.S in xt.keysDown)||Boolean(xt.DOWNKEY in xt.keysDown)}return!1}static isInitialized(){return xt.initialized}static keyPressed(t){xt.keysDown[t.keyCode]=!0}static keyReleased(t){t.keyCode in xt.keysDown&&delete xt.keysDown[t.keyCode]}}g()(xt,"A",65),g()(xt,"allLetters",new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")),g()(xt,"ARROWKEYS","arrowKeys"),g()(xt,"D",68),g()(xt,"DOWN","down"),g()(xt,"DOWNKEY",y.Z.flash.ui.Keyboard.DOWN),g()(xt,"dualKey",!1),g()(xt,"EIGHT",56),g()(xt,"FIVE",53),g()(xt,"FOUR",52),g()(xt,"initialized",!1),g()(xt,"keysDown",new Object),g()(xt,"LEFT","left"),g()(xt,"LEFTKEY",y.Z.flash.ui.Keyboard.LEFT),g()(xt,"M",77),g()(xt,"NINE",57),g()(xt,"ONE",49),g()(xt,"P",80),g()(xt,"Q",81),g()(xt,"RIGHT","right"),g()(xt,"RIGHTKEY",y.Z.flash.ui.Keyboard.RIGHT),g()(xt,"S",83),g()(xt,"SEVEN",55),g()(xt,"SIX",54),g()(xt,"THREE",51),g()(xt,"TWO",50),g()(xt,"UP","up"),g()(xt,"UPKEY",y.Z.flash.ui.Keyboard.UP),g()(xt,"W",87),g()(xt,"WASD","wasd"),g()(xt,"ZERO",48);class Lt extends y.Z.flash.display.MovieClip{constructor(){super(),this.isMain=!0,this.level=15,this.oldX=0,this.placing=0,this.wins=295,this.oldY=0,this.id=0,this.kudos=10,this.curCheck=0,this.matches=1254,this.headType=3,this.toX=0,this.toY=0,this.handType=12,this.colour=16777215,this.time=45,this.xV=0,this.colour2=16777215,this.tCounter=0,this.userName="bob",this.xp=1500,this.completedLevel=!1,this.yV=0}addCheckPoint(t){this.checkPoints[t].addFlag(this,this.colour,this.colour2)}duck(){this.gotoAndStop(4)}fuel(){this.setColours()}handleSkin(){this.player.hitHalf?this.duck():this.player.jumpLevel?xt.isDown(xt.LEFT)?(xt.isDown(xt.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=-1):xt.isDown(xt.RIGHT)?(xt.isDown(xt.DOWN)?this.duck():this.player.burningFlow?this.gotoAndStop(5):this.gotoAndStop(2),this.scaleX=1):xt.isDown(xt.DOWN)?this.duck():this.gotoAndStop(1):this.gotoAndStop(3),this.x=this.player.x,this.y=this.player.y}init(t,e){this.player=t,this.colour=this.player.colour,this.colour2=this.player.colour2,this.checkPoints=e}ping(){this.handleSkin(),this.setColours()}setChecks(t){this.checkPoints=t}setColours(){var t=null;this.body.head.gotoAndStop(this.headType),this.body.handGear.handGear.gotoAndStop(this.handType);for(var e=new Array(this.body.cb.i,this.body.db.i,this.body.head.hat,this.body.handGear.handGear),s=0;s<e.length;s++)t=e[s],N.colourMe(t,this.colour2);var i=new Array(this.body.aa.o,this.body.aa.i,this.body.ba.o,this.body.ba.i,this.body.ab.o,this.body.ab.i,this.body.cb.o,this.body.db.o,this.body.head.o,this.body.body.o,this.body.bb.o,this.body.bb.i,this.body.ca.o,this.body.ca.i,this.body.da.o,this.body.da.i);for(s=0;s<i.length;s++)t=i[s],N.colourMe(t,this.colour);this.youArrow&&N.colourMe(this.youArrow.lilArrow,this.colour)}}class wt extends Lt{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class Ct extends y.Z.flash.display.MovieClip{constructor(){super(),this.ghosts=new Array}addGhosts(){for(var t=null,e=0;e<this.logs.length;e++)e!=this.logs.length-1&&(this.logs.length,t=new wt,this.addChild(t),this.ghosts.push(t),t.alpha=.2)}handleGhosts(t){for(var e=null,s=null,i=0;i<this.ghosts.length;i++)e=this.ghosts[i],t<this.logs[i].length&&(s=this.logs[i][t],e.x=s[0],e.y=s[1],e.gotoAndStop(s[2]),e.scaleX=s[3])}init(t){this.logs=t}killGhosts(){for(var t=0;t<this.ghosts.length;t++)this.removeChild(this.ghosts[t]),this.ghosts[t]=null;this.ghosts.splice(0,this.ghosts.length)}ping(t){this.handleGhosts(t)}reset(){this.killGhosts(),this.addGhosts()}}class St extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(78,this.frame79)}frame79(){this.dispatchEvent(new R(R.GOTO,"LevelEnd","Lobby"))}}class Tt extends y.Z.flash.display.MovieClip{constructor(){super()}}class Mt{constructor(){this.isAtCheckpoint=!1,this.maxLogLength=1e3,this.maxLogs=1,this.playHead=0,this.logs=new Array}newLog(){this.logs.length>this.maxLogs&&this.logs.splice(0,1);var t=new Array;this.logs.push(t),this.curLog=this.logs[this.logs.length-1]}ping(t){this.curLog.length<this.maxLogLength&&(this.curLog.push(new Array(t.x,t.y,t.currentFrame,t.body.currentFrame,t.scaleX,this.isAtCheckpoint)),this.playHead=this.curLog.length-1)}setFromLog(t){t.x=this.curLog[this.playHead][0],t.y=this.curLog[this.playHead][1],t.gotoAndPlay(this.curLog[this.playHead][2]),t.body.gotoAndPlay(this.curLog[this.playHead][3]),t.scaleX=this.curLog[this.playHead][4]}}class Et extends y.Z.flash.display.Sprite{constructor(){super(),this.bodyParts=new Array}addDeadBody(t,e){var s=0,i=null,h=t;for(s=0;s<6;s++)(i=new D).x=h.x,i.y=h.y,i.gotoAndStop(s+1),i.init(this.level),N.colourMe(i,e),i.colour=e,h.y>500?(i.xVel=Z.range(5),i.yVel=-10-Z.random(20)):(i.xVel=Z.range(5),i.yVel=Z.range(5)),this.addChild(i),this.bodyParts.push(i)}destroy(t){var e=null,s=this.bodyParts[t];s.y<=500&&((e=new y.Z.flash.geom.ColorTransform).color=s.colour,this.bg.drawMovieClip(s,1,2,3,e)),this.removeChild(s),this.bodyParts[t]=null,this.bodyParts.splice(t,1)}handleBodyParts(){for(var t=null,e=0;e<this.bodyParts.length;e++)(t=this.bodyParts[e]).ping(),this.bg.lineTo(t.lastX,t.lastY,t.x,t.y,1,16777215,.3),(0==Math.round(t.xVel)&&0==Math.round(t.yVel)||t.y>500)&&(t.deadCounter++,t.deadCounter>5&&this.destroy(e))}init(t,e){this.level=t,this.bg=e}ping(){this.handleBodyParts()}}class kt{constructor(){}static handleMute(){kt.muted=!kt.muted;var t=new y.Z.flash.media.SoundTransform;kt.muted?t.volume=0:t.volume=1,y.Z.flash.media.SoundMixer.soundTransform=t}static killAll(){y.Z.flash.media.SoundMixer.stopAll()}static loopSound(t){(new(y.Z.flash.utils.getDefinitionByName(t))).play(0,999999)}static playSound(t){(new(y.Z.flash.utils.getDefinitionByName(t))).play(0,1)}static stopAllSounds(){y.Z.flash.media.SoundMixer.stopAll()}stopSound(){}}g()(kt,"muted",!1);class Pt extends F{constructor(){super(),this.burningFlow=!1,this.isMain=!0,this.placing=0,this.level=15,this.wins=295,this.gameName="01234567",this.kudos=10,this.playerXNormalMax=8,this.playerXBurningMax=50,this.playerYMax=15,this.flowPoints=0,this.matches=1254,this.gameMode=0,this.burningXAcc=3,this.rewinding=!1,this.handType=0,this.playerXMax=8,this.headType=0,this.time=0,this.teleporting=!1,this.fullFlow=!1,this.levelNum=0,this.normalXAcc=.8,this.kudosToGive=2,this.hitHalf=!1,this.xp=1500,this.completedLevel=!1,this.beltSpeed=2,this.colour=Z.randomColour(),this.colour2=Z.randomColour(),this.userName="Naruto"+Z.random(1e3)}checkPointInteraction(){for(var t=0;t<this.curLevel.checkPoints.length;t++)this.hitTestObject(this.curLevel.checkPoints[t])&&this.curLevel.startPoint!=this.curLevel.checkPoints[t]&&this.curLevel.checkPoints[t].isNew(this)&&(kt.playSound("CheckpointSound"),this.curLevel.startPoint=this.curLevel.checkPoints[t],this.curLevel.checkPoints[t].addFlag(this,this.colour,this.colour2))}doTheJump(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(kt.playSound("JumpSound"),this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1,this.parent.playerObject.jumps++,this.parent.playerObject.jumps>=1e3&&this.dispatchEvent(new w(w.SEND,6)))}handleFlow(){this.levelNum<=1||16!=this.levelNum&&(this.burningFlow?(this.flowPoints=this.flowPoints-5,xt.isDown(y.Z.flash.ui.Keyboard.SPACE)||xt.isDown(y.Z.flash.ui.Keyboard.SHIFT)?this.flowPoints<=0&&(this.flowPoints=0,this.burningFlow=!1,this.parent.stopBurningFlowMusic(),this.fullFlow&&this.dispatchEvent(new w(w.SEND,8))):(this.burningFlow=!1,this.parent.stopBurningFlowMusic())):(Math.abs(this.xVel)>2?this.flowPoints=this.flowPoints+2:this.flowPoints=this.flowPoints-20,this.flowPoints<0&&(this.flowPoints=0),this.flowPoints>400?(this.flowPoints=400,this.dispatchEvent(new w(w.SEND,7)),this.fullFlow=!0):this.fullFlow=!1,(xt.isDown(y.Z.flash.ui.Keyboard.SPACE)||xt.isDown(y.Z.flash.ui.Keyboard.SHIFT))&&this.flowPoints>=100&&(this.burningFlow=!0,this.parent.startBurningFlowMusic(),kt.playSound("Takeoff"))))}handleHalfTiles(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}hitBlock(t){}initPlayer(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8,this.normalXAcc=.8,this.burningXAcc=1.5}kill(){this.dispatchEvent(new R(R.SEND,"KILL"))}levelInteraction(){this.y>550&&this.kill(),this.hitTestObject(this.curLevel.endPoint)&&(this.completedLevel=!0,this.parent.finishLevel())}movePlayer(){xt.isDown(xt.UP)?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),xt.isDown(xt.DOWN)?(this.holdDown||(this.holdDownX=this.x),this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown&&Math.abs(this.holdDownX-this.x)>200&&this.dispatchEvent(new w(w.SEND,9)),this.holdDown=!1,this.xF=.7,this.scaleY=1),xt.isDown(xt.LEFT)?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):xt.isDown(xt.RIGHT)&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),xt.isDown(xt.LEFT)||xt.isDown(xt.RIGHT)?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5,this.burningFlow?(this.playerXMax=this.playerXBurningMax,this.xAcc=this.burningXAcc):(this.xAcc=this.normalXAcc,this.playerXMax=N.ease(this.playerXMax,this.playerXNormalMax,.3)),this.handleFlow()}ping(){this.completedLevel||(this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.spikeInteraction(),this.levelInteraction(),this.teleporterInteraction(),this.checkPointInteraction())}spikeInteraction(){for(var t=0,e=0;e<this.curLevel.spikes.length;e++)if(this.hitTestObject(this.curLevel.spikes[e].hitA))return void this.kill();for(e=0;e<this.curLevel.swingingAxes.length;e++)if(this.hitTestObject(this.curLevel.swingingAxes[e].axe)&&(this.hitTestObject(this.curLevel.swingingAxes[e].axe.side0)||this.hitTestObject(this.curLevel.swingingAxes[e].axe.side1)))return void this.kill();for(e=0;e<this.curLevel.popSpikes.length;e++)if(this.hitTestObject(this.curLevel.popSpikes[e].inside.spikes.hitA))return void this.kill();for(e=0;e<this.curLevel.grinders.length;e++)if(Z.dist(this.x,this.y,this.curLevel.grinders[e].x,this.curLevel.grinders[e].y)<this.curLevel.grinders[e].dist)return void this.kill();for(e=0;e<this.curLevel.bouncers.length;e++)if(this.hitTestObject(this.curLevel.bouncers[e])&&1==this.curLevel.bouncers[e].currentFrame)return this.yVel=-20,this.curLevel.bouncers[e].bounces++,10==this.curLevel.bouncers[e].bounces&&this.dispatchEvent(new w(w.SEND,10)),this.playerJump=!0,this.jumpLevel=!1,this.yLove=1,this.curLevel.bouncers[e].gotoAndPlay(2),void kt.playSound("BouncerSound");for(e=0;e<this.curLevel.plates.length;e++)this.hitTestObject(this.curLevel.plates[e])?(this.curLevel.plates[e].gotoAndStop(2),this.curLevel["lg"+this.curLevel.plates[e].name.substr(1,1)].gotoAndStop(2)):(this.curLevel.plates[e].gotoAndStop(1),this.curLevel["lg"+this.curLevel.plates[e].name.substr(1,1)].gotoAndStop(1));for(e=0;e<this.curLevel.fallingSpikes.length;e++)if(0==this.curLevel.fallingSpikes[e].rotation||180==this.curLevel.fallingSpikes[e].rotation){if(0==this.curLevel.fallingSpikes[e].smashState)Math.abs(this.x-this.curLevel.fallingSpikes[e].x)<10&&(this.curLevel.fallingSpikes[e].smashState=1,kt.playSound("SpikeDrop"));else if(1==this.curLevel.fallingSpikes[e].smashState){for(this.curLevel.fallingSpikes[e].spikeIn.y=this.curLevel.fallingSpikes[e].spikeIn.y-20,t=0;t<this.curLevel.tiles.length;t++)if(this.curLevel.tiles[t].hitTestObject(this.curLevel.fallingSpikes[e].spikeIn.hitA)){this.curLevel.fallingSpikes[e].smashState=2,kt.playSound("Thud");break}}else 2==this.curLevel.fallingSpikes[e].smashState&&(this.curLevel.fallingSpikes[e].spikeIn.y=this.curLevel.fallingSpikes[e].spikeIn.y+10,this.curLevel.fallingSpikes[e].spikeIn.y>0&&(this.curLevel.fallingSpikes[e].smashState=0,this.curLevel.fallingSpikes[e].spikeIn.y=0));if(this.hitTestObject(this.curLevel.fallingSpikes[e].spikeIn.hitA))return void this.kill()}}teleporterInteraction(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),this.parent.emitBeam(this.x-17,this.y,25),void kt.playSound("WhooshSound")}touchBlock(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}class Ot extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}ping(){this.parent.singlePlayer?this.x=0-this.parent.x/10:this.x=0-this.parent.x,3==this.currentFrame&&(this.cA.ping(),this.cB.ping())}}class Nt extends y.Z.flash.display.MovieClip{constructor(){super()}}class Rt extends y.Z.flash.display.MovieClip{constructor(){super(),this.flowCount=0,this.levelNum=0,this.flow.flowInside.flowBar.scaleX=0}movePanel(){this.x=0-this.handyCam.camX,this.y=0-this.handyCam.camY}movePlayer(){}ping(t,e){this.handyCam=t,this.player=e,this.movePanel(),this.updateFlow()}updateFlow(){this.levelNum<=1||16==this.levelNum?this.flow.visible=!1:(this.flow.visible=!0,this.flow.flowInside.flowBar.scaleX=N.ease(this.flow.flowInside.flowBar.scaleX,this.player.flowPoints/400,.9),this.player.burningFlow?(this.flowCount++,1==this.flowCount&&this.flow.flowReady.gotoAndPlay(31),this.flow.flowInside.filters=new Array(new y.Z.flash.filters.GlowFilter(39423,1,15,15,1.5))):(this.flowCount=this.flowCount-3,this.bordering.filters=new Array,this.flow.flowInside.filters=new Array,this.player.flowPoints>=100?0==this.flow.flowReady.visible&&(this.flow.flowReady.visible=!0,N.colourMe(this.flow.flowInside,16777215),this.flow.flowReady.gotoAndPlay(2),kt.playSound("FlowReady")):this.flow.flowReady.visible&&(this.flow.flowReady.visible=!1,N.colourMe(this.flow.flowInside,11184810))),this.flowCount<=0?(this.flowCount=0,this.bordering.filters=new Array):this.bordering.filters=new Array(new y.Z.flash.filters.GlowFilter(39423,Math.min(this.flowCount/10,1),0,Math.min(15,this.flowCount),Math.min(10,this.flowCount/10))))}}class At extends y.Z.flash.media.Sound{constructor(){super()}}class Bt extends y.Z.flash.media.Sound{constructor(){super()}}class _t extends y.Z.flash.media.Sound{constructor(){super()}}class It extends y.Z.flash.display.MovieClip{constructor(){super()}}class jt extends y.Z.flash.display.MovieClip{constructor(){super(),this.timeTotal=0}}class Zt extends y.Z.flash.display.MovieClip{constructor(){super()}}class Ft extends y.Z.flash.display.MovieClip{constructor(t,e){super(),this.skin=t,this.playerData=e,this.nameOf.text=this.playerData.userName,N.colourMe(this.lilArrow,this.playerData.colour)}}class Dt extends y.Z.flash.media.Sound{constructor(){super()}}class Gt extends y.Z.flash.media.Sound{constructor(){super()}}class Vt extends y.Z.flash.media.Sound{constructor(){super()}}class Ut extends y.Z.flash.media.Sound{constructor(){super()}}class Ht extends y.Z.flash.media.Sound{constructor(){super()}}class Kt extends y.Z.flash.media.Sound{constructor(){super()}}class Xt extends y.Z.flash.media.Sound{constructor(){super()}}class qt extends y.Z.flash.media.Sound{constructor(){super()}}class Yt extends y.Z.flash.media.Sound{constructor(){super()}}class Wt extends y.Z.flash.display.MovieClip{constructor(){super(),this.xCamX=375,this.updateMethod=0,this.cLeft=!1,this.fastSound=!1,this.tCounter=0,this.levelFinished=!1,this.firstSoundPlay=!0,this.cUp=!1,this.updateRate=7,this.singlePlayer=!0,this.songPlaying="none",this.startTheCountdown=!1,this.levelNum=0,this.tryFrame=0,this.deathScreens=0,this.cRight=!1,this.level30Okay=!1,this.timeCounter=0,this.mpLevel=100,this.cDown=!1,this.goAhead=!1,this.rewindCounter=0,this.spaceDown=!1,this.buildStr="0.2.3",this.cheerCounter=0,this.isPaused=!1,this.tConnected=!1,this.camera=new bt,this.logger=new Mt,this.ghosting=new Ct,this.placingBonuses=new Array(250,150,100,50),this.bg=new P,this.skinLayer=new y.Z.flash.display.MovieClip,this.morgue=new Et,this.uiPanel=new Rt,this.timer=new nt,this.emit=new ft,this.robots=new Array,this.tempShape=new y.Z.flash.display.Shape,this.playerBars=new Array,this.checkPoints=new Array,this.youArrows=new Array,this.skyLine=new Ot,this.sForward=new At,this.sBackward=new Bt,this.sFast=new _t,this.players=new Array,this.tCounterGoal=this.updateRate,this.keysPressed=new Array(!1,!1,!1,!1),this.updaters=new Array(0,0,0,0,0,0,0,0),this.finalPlacingArray=new Array,this.playerSkins=new Array}added(t){this.stage.focus=this.stage}addSkin(){this.skin&&this.removeChild(this.skin),this.skin=new wt,this.addChild(this.skin),this.skin.init(this.player,this.level.checkPoints),this.skin.headType=this.player.headType,this.skin.handType=this.player.handType}checkPoint(){this.tConnected&&this.tubes.sendMessage("CHECK"+this.curLevel.startPoint.id)}chooseMultiplayerSong(){this.startFinal()}chooseSong(){this.levelNum<=2?this.startInside():this.levelNum<=9?this.startStadium():this.levelNum<=10?this.startInside():this.levelNum<=14?this.startLab():this.levelNum<=15?this.startInside():this.levelNum<=16?(this.startLab(),kt.stopAllSounds(),this.songPlaying="none"):this.levelNum<=19?this.startLab():this.levelNum<=24?this.startSkyline():this.levelNum<=29?this.startFinal():this.levelNum}collectSign(){this.playerObject.signs[this.levelNum]=!0;for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;t>=1&&this.dispatchEvent(new w(w.SEND,15)),t>=8&&this.dispatchEvent(new w(w.SEND,16)),t>=15&&this.dispatchEvent(new w(w.SEND,17)),t>=24&&this.dispatchEvent(new w(w.SEND,18)),t>=30&&this.dispatchEvent(new w(w.SEND,19)),this.updateUISign(),this.uiPanel.caution.gotoAndPlay(2)}countDownFinish(){this.goAhead=!0}countdownStart(){this.levelStart=new Tt,this.levelStart.gotoAndPlay(1),this.addChild(this.levelStart),this.uiPanel&&this.contains(this.uiPanel)&&(this.levelStart.startBox.levelName.nameOf.text=this.uiPanel.levName.text)}createNewLevel(){this.levelFinished=!1,this.tryFrame=0,this.checkPoints.splice(0,this.checkPoints.length),this.level.kill(),this.removeChild(this.level),this.level=null,this.curLevel=null,this.setLevel(),this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,this.camera.camX=0,this.camera.camY=0,this.x=0,this.y=0,this.singlePlayer?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var t=0;t<this.playerBars.length;t++)this.uiPanel.removeChild(this.playerBars[t]),this.playerBars[t]=null;this.playerBars.splice(0,this.playerBars.length),this.startLevel()}emitBeam(t,e,s){var i=new It;this.addChild(i),i.x=t,i.y=e,i.width=s,N.colourMe(i,this.player.colour),this.emit.manage(i)}endCountdownFinish(){var t=null,e=NaN,s=null;this.player.rewinding&&this.stopRewinding(),this.removeChild(this.endCountdown),this.endCountdown=null,this.levelEnd=new St,this.addChild(this.levelEnd),this.levelEnd.x=0-this.x,this.levelEnd.y=0-this.y,this.goAhead=!1;for(var i=new Array,h=0;h<this.players.length;h++)0==this.players[h].completedLevel&&i.push(this.players[h]);for(;i.length>0;){for(t=i[0],e=0,h=0;h<i.length;h++)t.x>i[h].x&&(t=i[h],e=Number(h));s=new jt,this.uiPanel.addChild(s),s.x=800,s.y=180+30*this.playerBars.length,s.timeTotal=0,s.nameOf.text=t.userName,s.player=t,this.playerBars.push(s),this.finalPlacingArray.push(s),i.splice(e,1)}this.tubes.giveFinalList(this.finalPlacingArray)}endEnding(){this.level30Okay=!0}endFadeOut(t){this.fadeOut.stop(),this.removeChild(this.fadeOut),this.fadeOut=null}endSoundBackward(t){this.soundBackward.stop(),this.soundBackward=this.sBackward.play(0,99999)}endSoundFast(t){this.soundFast.stop(),this.soundFast=this.sFast.play(0,99999)}endSoundForward(t){this.soundForward.stop(),this.soundForward=this.sForward.play(0,99999)}exitOut(){kt.stopAllSounds(),this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),this.dispatchEvent(new R(R.GOTO,"Game","SinglePlayerMenu"))}finishLevel(){var t=NaN;if(this.singlePlayer)this.levelFinished=!0,this.fadeOut=new ut,this.fadeOut.gotoAndPlay(2),this.player.burningFlow&&(this.player.burningFlow=!1,this.stopBurningFlowMusic()),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y;else for(this.uiPanel.arrowKeysToPan.gotoAndStop(2),this.levelFinished=!0,t=0;t<this.players.length;t++)this.players[t].isPlayer&&(this.players[t].time=this.timer.getFrameTime(),this.tubes.sendTime(),this.iAmDone(this.players[t].userName))}handleCamera(){var t=null;this.tConnected?this.player.completedLevel?(this.xCamX++,xt.isDown(xt.LEFT)&&(this.xCamX=this.xCamX+20),xt.isDown(xt.RIGHT)&&(this.xCamX=this.xCamX-20),this.xCamX<350&&(this.xCamX=350),this.xCamX>this.level.maxWidth&&(this.xCamX=this.level.maxWidth),this.camera.limits=new Array(400,this.level.maxWidth-400,0,0),this.camera.ping(this.player.x-this.xCamX,this.player.y)):(this.camera.limits=new Array(400,this.level.maxWidth-400,0,0),this.camera.ping(this.player.x,this.player.y)):(this.camera.limits=new Array(400,this.level.maxWidth-400,0,0),this.player.burningFlow?((t=new y.Z.flash.geom.ColorTransform).color=16777215,this.camera.ping(this.player.x+200,this.player.y),this.skin.filters=new Array(new y.Z.flash.filters.GlowFilter(39423,1,15,15,1.5,1,!1,!0)),this.bg.drawMovieClip(this.skin,1,2,3,t)):(this.camera.ping(this.player.x,this.player.y),this.skin.filters=new Array))}handleCheering(){}handleLaserCannons(){for(var t=null,e=NaN,s=NaN,i=NaN,h=NaN,a=NaN,r=!1,n=NaN,l=NaN,o=NaN,u=NaN,c=NaN,d=NaN,p=NaN,m=null,y=this.level.laserCannons,v=0;v<y.length;v++){for((t=y[v]).setAngle=Z.rotateTo(this.player.x,this.player.y,t.x,t.y),e=.1,e=t.timeOut>=25?.5:.1,t.rotation=N.ease(t.rotation,t.rotation+Z.getRotationDifference(t.rotation,t.fakeAngle),e),i=(s=10)*Math.sin(Math.PI/180*t.setAngle),h=0-s*Math.cos(Math.PI/180*t.setAngle),a=50,r=!1,n=3;n<a;n++)if(l=i*n+t.x,o=h*n+t.y,this.level.canvas.getAlpha(l,o)>0){this.tempShape.graphics.clear(),this.tempShape.graphics.lineStyle(1,16777215,1),this.tempShape.graphics.moveTo(t.x,t.y),this.tempShape.graphics.lineTo(l,o),this.addChild(this.tempShape),this.player.hitTestObject(this.tempShape)&&(r=!0,t.fakeAngle=t.setAngle),this.tempShape.graphics.clear();break}if(r&&(t.timeOut=0,0==t.beam.visible&&kt.playSound("Zap"),t.beam.visible=!0),t.timeOut++,t.timeOut>=25)t.fakeAngle=t.defaultAngle,t.beam.visible=!1;else for(u=s*Math.sin(Math.PI/180*t.rotation),c=0-s*Math.cos(Math.PI/180*t.rotation),n=3;n<a;){if(l=u*n+t.x,o=c*n+t.y,Z.dist(l,o,this.player.x,this.player.y)<10&&!this.player.rewinding)return void this.kill();if(this.level.canvas.getAlpha(l,o)>0){for(d=Z.dist(t.x,t.y,l,o)-30,t.beam.height=d,p=0;p<5;p++)(m=new Zt).x=l+Z.range(5),m.y=o+Z.range(2),m.scaleX=.5*Math.random()+.5,m.scaleY=.5*Math.random()+.5,this.addChild(m),this.emit.manage(m);break}n++}}}handleYouArrows(){for(var t=0;t<this.youArrows.length;t++)this.youArrows[t].x=N.ease(this.youArrows[t].x,this.youArrows[t].skin.x,.8),this.youArrows[t].y=N.ease(this.youArrows[t].y,this.youArrows[t].skin.y-30,.8)}hotKeys(){xt.isDown(y.Z.flash.ui.Keyboard.SPACE)?this.spaceDown||(this.spaceDown=!0):this.spaceDown=!1}hub(t){switch(t.sender){case"KILL":this.kill();break;case"CHECK":this.checkPoint()}}iAmDone(t){var e=null;y.Z.__internal.avm2.Runtime.trace(t," is done");for(var s=0;s<this.players.length;s++)if(this.players[s].userName==t){if(y.Z.__internal.avm2.Runtime.trace(s," is the array index of the done player"),this.players[s].isPlayer&&this.players[s].completedLevel)return;this.players[s].completedLevel=!0,e=new jt,this.uiPanel.addChild(e),e.x=800,e.y=180+30*this.playerBars.length,e.timeTotal=this.players[s].time,e.nameOf.text=this.players[s].userName,e.player=this.players[s],this.playerBars.push(e),this.tSortTimes();break}}init(t,e){this.addChild(this.skyLine),this.playerObject=e,this.singlePlayer?(0==this.playerObject.gameLevel?this.timer.setTimeAsTotalSeconds(0):this.timer.setTimeAsTotalSeconds(this.playerObject.gameTime),this.levelNum=this.playerObject.gameLevel):(this.tubes=t,this.tubes.debuggy.txt.text=" ",this.updateMethod=0,this.levelNum=this.tubes.myNextLevel),this.setLevel(),this.player=new Pt,this.player.x=-200,this.player.y=-200,this.player.userName=this.playerObject.userName,this.player.xp=this.playerObject.xp,this.player.kudos=this.playerObject.kudos,this.player.wins=this.playerObject.wins,this.player.matches=this.playerObject.matches,this.player.headType=this.playerObject.headType,this.player.handType=this.playerObject.handType,this.player.colour=this.playerObject.colour,this.player.colour2=this.playerObject.colour2,this.player.init(this.level),this.player.initPlayer(),this.player.visible=!1,this.singlePlayer?this.uiPanel.placing.visible=!1:this.uiPanel.placing.visible=!0,this.bg.init(2e3,800),this.addChild(this.bg),this.addSkin(),this.ghosting.init(this.logger.logs),this.addChild(this.ghosting),this.addChild(this.player),this.addChild(this.morgue),this.morgue.init(this.level,this.bg),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(R.SEND,this.hub,!1,0,!0),this.addEventListener(y.Z.flash.events.Event.ADDED_TO_STAGE,this.added,!1,0,!0),this.uiPanel.exitButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.exitOut,!1,0,!0),this.uiPanel.muteButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.uiPanel.pauseButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.pauseOut,!1,0,!0),this.uiPanel.qualityButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.qualityOut,!1,0,!0),this.singlePlayer||(this.uiPanel.pauseButton.visible=!1,this.uiPanel.exitButton.visible=!1),this.camera.init(this),this.camera.lockY=!0,this.addChild(this.uiPanel),this.addChild(this.emit),this.level.createArray(),this.startLevel(),this.updatePing(0);var s=new Ft(this.skin,this.player);this.addChild(s),this.youArrows.push(s),this.initSounds(),this.organizeDepth(),this.singlePlayer?this.chooseSong():(this.chooseMultiplayerSong(),this.stage.focus=this.stage)}initMP(){var t=null,e=null;this.players=this.tubes.players,this.player.x=this.level.startPoint.x+17.5,this.player.y=this.level.startPoint.y;for(var s=0;s<this.players.length;s++)this.players[s].completedLevel=!1,this.players[s].isPlayer?(this.players[s].time=0,this.playerSkins.push(null),this.skin.x=this.player.x,this.skin.y=this.player.y):(y.Z.__internal.avm2.Runtime.trace("added to game: "+this.players[s].userName),(t=new wt).x=this.players[s].xPos,t.y=this.players[s].yPos,t.setChecks(this.level.checkPoints),t.isMain=!1,this.skinLayer.addChild(t),this.playerSkins.push(t),e=new Ft(t,this.players[s]),this.youArrows.push(e),t.youArrow=e,this.addChild(e));y.Z.__internal.avm2.Runtime.trace("Final Player Array:",this.playerSkins)}initSounds(){this.soundRatio=this.sForward.length/this.sBackward.length,y.Z.__internal.avm2.Runtime.trace("SOUND RATIO:",this.soundRatio,this.sForward.length,this.sBackward.length),this.firstSoundPlay=!0}kill(){this.player.rewinding||(this.tConnected&&this.tubes.sendMessage("die"),16==this.levelNum&&0==this.playerObject.gameDeaths&&this.dispatchEvent(new w(w.SEND,14)),this.deathScreens=0,this.morgue.addDeadBody(this.player,this.player.colour),this.player.flowPoints=0,this.player.burningFlow=!1,this.skin.filters=new Array,this.uiPanel.ping(this.camera,this.player),this.singlePlayer?(this.playerObject.gameDeaths++,this.startRewinding()):(this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y))}killS(){this.player.rewinding&&this.stopRewinding(),this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(R.SEND,this.hub),this.removeEventListener(y.Z.flash.events.Event.ADDED_TO_STAGE,this.added),this.uiPanel.exitButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.exitOut),this.uiPanel.muteButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut),this.uiPanel.pauseButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.pauseOut),this.uiPanel.qualityButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.qualityOut)}loadNextSinglePlayerLevel(){if(this.levelNum++,this.chooseSong(),this.playerObject.gameLevel=this.levelNum,0!=this.levelNum&&(this.playerObject.gameTime=this.timer.getTimeAsTotalSeconds()),3==this.levelNum&&(this.dispatchEvent(new w(w.SEND,0)),kt.playSound("Cheer")),this.levelNum>=4&&this.levelNum<=9&&(1==Z.random(10)?kt.playSound("Cheer"):kt.playSound("Cheer2")),10==this.levelNum&&(this.dispatchEvent(new w(w.SEND,1)),0==this.playerObject.gameDeaths&&this.dispatchEvent(new w(w.SEND,13))),15==this.levelNum&&this.dispatchEvent(new w(w.SEND,2)),20==this.levelNum&&this.dispatchEvent(new w(w.SEND,3)),25==this.levelNum&&this.dispatchEvent(new w(w.SEND,4)),30==this.levelNum&&this.dispatchEvent(new w(w.SEND,5)),this.deathScreens++,10==this.deathScreens&&this.dispatchEvent(new w(w.SEND,11)),31==this.levelNum)return this.playerObject.gameLevel=0,void this.dispatchEvent(new R(R.GOTO,"Game","End"));this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,this.createNewLevel(),this.organizeDepth(),this.addChild(this.fadeOut),this.fadeOut.x=0-this.x,this.fadeOut.y=0-this.y,this.skyLine.x=0,this.skyLine.y=0,this.dispatchEvent(new R(R.GOTO,"SaveGame"))}muteOut(){kt.handleMute()}organizeDepth(){this.addChild(this.skyLine),this.levelNum<=2?this.skyLine.gotoAndStop(2):this.levelNum<=9?this.skyLine.gotoAndStop(3):10==this.levelNum?this.skyLine.gotoAndStop(2):this.levelNum<=14?this.skyLine.gotoAndStop(4):this.levelNum<=16?this.skyLine.gotoAndStop(2):this.levelNum<=19?this.skyLine.gotoAndStop(5):this.levelNum<=24?this.skyLine.gotoAndStop(6):this.levelNum<=30?this.skyLine.gotoAndStop(1):this.skyLine.gotoAndStop(7),this.addChild(this.level),this.addChild(this.bg),30==this.levelNum&&(this.bg.visible=!1),this.addChild(this.player),this.addChild(this.skin),this.addChild(this.skinLayer),this.addChild(this.morgue),this.addChild(this.uiPanel),this.addChild(this.emit)}pauseOut(){this.isPaused=!this.isPaused}ping(){if(!this.isPaused&&(this.tryFrame++,this.singlePlayer||this.tUpdateFriendsENT(),this.startTheCountdown&&this.endCountdown&&this.endCountdown.ping(0-this.x,0-this.y),this.goAhead)){if(30==this.levelNum&&!this.level30Okay)return this.skin.gotoAndStop(2),this.uiPanel.exitButton.visible=!1,this.uiPanel.muteButton.visible=!1,this.uiPanel.qualityButton.visible=!1,void(this.uiPanel.pauseButton.visible=!1);this.player.rewinding?this.rewind():(this.player.ping(),this.skin.ping(),this.logger.ping(this.skin)),this.handleCamera(),this.handleLaserCannons(),this.uiPanel.ping(this.camera,this.player),this.emit.ping(),this.ghosting.ping(this.tryFrame),this.hotKeys(),this.bg.ping(),this.morgue.ping(),this.levelFinished||30!=this.levelNum&&(this.timer.ping(),this.singlePlayer||this.tubes.player.host&&(this.tubes.player.hostTime=this.timer.getFrameTime())),30!=this.levelNum?this.uiPanel.timeDisp.text=this.timer.getTimeAsString():this.uiPanel.timeDisp.text=" ",this.level.timeString=this.timer.getTimeAsString(),30==this.levelNum&&this.setRank(),this.level.setPlayer(this.player),this.level.uniqueLevelPing(),this.skyLine.ping(),this.handleCheering(),this.static&&(this.static.x=0-this.x,this.static.y=0-this.y),this.singlePlayer&&this.levelNum<30&&this.player.hitTestObject(this.level.cautionSign)&&this.level.cautionSign.visible&&(this.level.cautionSign.visible=!1,kt.playSound("Scratcher"),this.collectSign())}}qualityOut(){return y.Z.__internal.avm2.Runtime.trace(this.stage.quality),"LOW"==this.stage.quality?(this.stage.quality="HIGH",void y.Z.__internal.avm2.Runtime.trace(this.stage.quality)):"HIGH"==this.stage.quality?(this.stage.quality="LOW",void y.Z.__internal.avm2.Runtime.trace(this.stage.quality)):void 0}reset(){for(var t=0;t<this.level.popSpikes.length;t++)this.level.popSpikes[t].inside.gotoAndPlay(this.level.popSpikes[t].name.substr(1,2));for(t=0;t<this.level.swingingAxes.length;t++)this.level.swingingAxes[t].axe.gotoAndPlay(this.level.swingingAxes[t].name.substr(1,2))}rewind(){var t=null;this.skin.visible=!1;var e=!1,s=15;this.rewindCounter++,this.logger.playHead-s<0&&(s=Number(this.logger.playHead),e=!0);for(var i=0;i<s;i++)this.logger.playHead--,this.logger.setFromLog(this.skin),this.player.x=this.skin.x,this.player.y=this.skin.y,this.skin.ping(),!e&&this.skin.hitTestObject(this.level.startPoint)&&(e=!0),(t=new y.Z.flash.geom.ColorTransform).alphaMultiplier=.2,this.bg.drawMovieClip(this.skin,1,2,3,t,"normal");e&&this.stopRewinding()}runTest(){for(var t=NaN,e=0,s=0,i=0;i<10;i++){for(t=y.Z.flash.utils.getTimer(),e=0;e<500;e++)this.ping();s=Number(s+(y.Z.flash.utils.getTimer()-t))}y.Z.__internal.avm2.Runtime.trace("RunTime: ",s/10)}setLevel(){this.singlePlayer||0!=this.levelNum||(this.levelNum=100,this.tubes.myNextLevel=this.levelNum),!this.singlePlayer&&isNaN(this.levelNum)&&(this.levelNum=100,this.tubes.myNextLevel=this.levelNum);var t=y.Z.flash.utils.getDefinitionByName("Level"+this.levelNum);this.level=new t,this.level.init(),this.addChild(this.level),this.curLevel=this.level,this.morgue.init(this.level,this.bg),0==this.levelNum&&(this.playerObject.gameDeaths=0)}setPlayerName(t){y.Z.__internal.avm2.Runtime.trace("PLAYEROBJECT SET!",t),this.playerObject.gameName=t,this.player.gameName=t}setRank(){this.timer.getTimeAsTotalSeconds()>1200?this.level.timeRank="TAKING MY TIME   ":this.timer.getTimeAsTotalSeconds()>1e3?this.level.timeRank="PRETTY FAIR JOB  ":this.timer.getTimeAsTotalSeconds()>900?this.level.timeRank="PACING OKAY      ":this.timer.getTimeAsTotalSeconds()>720?(this.dispatchEvent(new w(w.SEND,20)),this.level.timeRank="MAYBE A JOG      "):this.timer.getTimeAsTotalSeconds()>540?(this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.level.timeRank="POWERWALKER      "):this.timer.getTimeAsTotalSeconds()>510?(this.level.timeRank="FAIR PERFORMANCE ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22))):this.timer.getTimeAsTotalSeconds()>480?(this.level.timeRank="MODERATE PACE    ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22))):this.timer.getTimeAsTotalSeconds()>450?(this.level.timeRank="IMPRESSIVE TIME  ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22))):this.timer.getTimeAsTotalSeconds()>420?(this.level.timeRank="FAIRLY QUICK     ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22))):this.timer.getTimeAsTotalSeconds()>390?(this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22)),this.dispatchEvent(new w(w.SEND,23)),this.level.timeRank="ZIPPING AROUND   "):this.timer.getTimeAsTotalSeconds()>360?(this.level.timeRank="ZOOM ZOOM ZOOMER ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22)),this.dispatchEvent(new w(w.SEND,23))):this.timer.getTimeAsTotalSeconds()>330?(this.level.timeRank="WICKED FAST PACE ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22)),this.dispatchEvent(new w(w.SEND,23))):(this.level.timeRank="TOP RANKING RUN  ",this.dispatchEvent(new w(w.SEND,20)),this.dispatchEvent(new w(w.SEND,21)),this.dispatchEvent(new w(w.SEND,22)),this.dispatchEvent(new w(w.SEND,23)))}startBurningFlowMusic(){this.soundFast=this.sFast.play(this.soundForward.position,1),this.soundFast.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundForward.removeEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop(),this.fastSound=!0}startFinal(){"final"!=this.songPlaying&&(kt.stopAllSounds(),this.songPlaying="final",this.sForward=new ct,this.sBackward=new pt,this.sFast=new dt,this.initSounds(),this.startForwardMusic())}startForwardMusic(){var t=0;this.fastSound=!1,this.firstSoundPlay?(this.firstSoundPlay=!1,this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundForward)):(t=y.Z.__internal.avm2.Runtime.int((this.sBackward.length-this.soundBackward.position)*this.soundRatio),kt.stopAllSounds(),t<this.sForward.length&&t>0?this.soundForward=this.sForward.play(t,1):this.soundForward=this.sForward.play(0,1),this.soundForward.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundBackward.removeEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundBackward.stop())}startInside(){"inside"!=this.songPlaying&&(kt.stopAllSounds(),this.songPlaying="inside",this.sForward=new At,this.sBackward=new Bt,this.sFast=new _t,this.initSounds(),this.startForwardMusic())}startLab(){"lab"!=this.songPlaying&&(kt.stopAllSounds(),this.songPlaying="lab",this.sForward=new Dt,this.sBackward=new Gt,this.sFast=new Vt,this.initSounds(),this.startForwardMusic())}startLevel(){this.level.generateLevel(),this.logger.newLog(),this.ghosting.reset(),this.startPlayer(this.player),this.player.xVel=0,this.player.yVel=0,this.tryFrame=0,this.player.completedLevel=!1,this.uiPanel.levelNum=this.levelNum,this.player.levelNum=this.levelNum,30!=this.levelNum?this.uiPanel.levDisplay.text="Stage "+(this.levelNum+1):this.uiPanel.levDisplay.text="Ending",this.levelNum<=2?this.uiPanel.levName.text="Getting Out":this.levelNum<=9?this.uiPanel.levName.text="The Stadium":this.levelNum<=10?this.uiPanel.levName.text="The Audit":this.levelNum<=14?this.uiPanel.levName.text="Lab Testing":this.levelNum<=16?this.uiPanel.levName.text="The Path to Freedom":this.levelNum<=19?this.uiPanel.levName.text="Backrooms":this.levelNum<=24?this.uiPanel.levName.text="Outside":this.levelNum<=32?this.uiPanel.levName.text="Skyline City Limits":this.levelNum<=100?this.uiPanel.levName.text="Marathon":this.levelNum<=101?this.uiPanel.levName.text="Front Door":this.levelNum<=102?this.uiPanel.levName.text="Crossroads":this.levelNum<=103?this.uiPanel.levName.text="Tubes":this.levelNum<=104?this.uiPanel.levName.text="Death Wall":this.levelNum<=105?this.uiPanel.levName.text="The Maze":this.levelNum<=106?this.uiPanel.levName.text="Lunge":this.levelNum<=107?this.uiPanel.levName.text="Unfriendly Teleporters":this.levelNum<=108?this.uiPanel.levName.text="Funk":this.levelNum<=109?this.uiPanel.levName.text="Cubicles":this.levelNum<=110?this.uiPanel.levName.text="Over and Under":this.levelNum<=111?this.uiPanel.levName.text="Zipper":this.levelNum<=112?this.uiPanel.levName.text="Jumper":this.levelNum<=113?this.uiPanel.levName.text="Slip and Slide":this.levelNum<=114?this.uiPanel.levName.text="Wombat":this.levelNum<=115?this.uiPanel.levName.text="Fuzz Balls":this.levelNum<=116?this.uiPanel.levName.text="Secret Staircase":this.levelNum<=117?this.uiPanel.levName.text="Cubey":this.levelNum<=118?this.uiPanel.levName.text="Descending":this.levelNum<=119?this.uiPanel.levName.text="Treadmillvania":this.uiPanel.levName.text=" ",this.updateUISign(),this.reset(),this.singlePlayer||(this.tConnected=!0,this.organizeDepth())}startPlayer(t){this.player,t.x=this.level.startPoint.x+12.5,t.y=this.level.startPoint.y;var e=new It;this.addChild(e),e.x=this.level.startPoint.x,e.y=this.level.startPoint.y,this.emit.manage(e)}startReverseMusic(){this.fastSound?(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundFast.position)/this.soundRatio,1),this.soundBackward.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundFast.removeEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1):(this.soundBackward=this.sBackward.play((this.sForward.length-this.soundForward.position)/this.soundRatio,1),this.soundBackward.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundBackward),this.soundForward.removeEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundForward.stop())}startRewinding(){this.player.rewinding=!0,this.startReverseMusic(),this.dispatchEvent(new R(R.SEND,"StartJitter","StartJitter")),this.static=new Nt,this.addChild(this.static)}startSinglePlayer(){this.goAhead=!0}startSkyline(){"skyline"!=this.songPlaying&&(kt.stopAllSounds(),this.songPlaying="skyline",this.sForward=new Ut,this.sBackward=new Ht,this.sFast=new Kt,this.initSounds(),this.startForwardMusic())}startStadium(){"stadium"!=this.songPlaying&&(kt.stopAllSounds(),this.songPlaying="stadium",this.sForward=new Xt,this.sBackward=new qt,this.sFast=new Yt,this.initSounds(),this.startForwardMusic())}stopBurningFlowMusic(){this.soundForward=this.sForward.play(this.soundFast.position,1),this.soundForward.addEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundForward),this.soundFast.removeEventListener(y.Z.flash.events.Event.SOUND_COMPLETE,this.endSoundFast),this.soundFast.stop(),this.fastSound=!1}stopRewinding(){this.player.rewinding=!1,this.logger.newLog(),this.skin.visible=!0,this.player.xVel=0,this.player.yVel=0,this.player.x=this.level.startPoint.x+12.5,this.player.y=this.level.startPoint.y,this.dispatchEvent(new R(R.SEND,"EndJitter","EndJitter")),this.removeChild(this.static),this.static=null,this.rewindCounter>150&&this.dispatchEvent(new w(w.SEND,12)),this.startForwardMusic()}tCheck(t,e){for(var s=0;s<this.players.length;s++)if(this.players[s].userName==t)return void this.playerSkins[s].addCheckPoint(e)}tDie(t,e){this.tubes.getMyName()}tMarkTime(t,e){t.completedLevel=!0,t.time=Number(e)}tRemovePlayer(t){for(var e=void 0,s=0;s<this.players.length;s++)if(this.players[s].userName==t){for(e=0;e<this.youArrows.length;e++)this.youArrows[e].skin==this.playerSkins[s]&&(this.removeChild(this.youArrows[e]),this.youArrows[e]=null,this.youArrows.splice(e,1));return this.skinLayer.removeChild(this.playerSkins[s]),this.playerSkins[s]=null,void this.playerSkins.splice(s,1)}}tSortTimes(){var t=null,e=NaN,s=new Array;this.finalPlacingArray.splice(0,this.finalPlacingArray.length);for(var i=0;i<this.playerBars.length;i++)s.push(this.playerBars[i]);for(;s.length>0;){for(t=s[0],e=0,i=0;i<s.length;i++)t.timeTotal>s[i].timeTotal&&(t=s[i],e=Number(i));this.finalPlacingArray.push(t),s.splice(e,1)}for(i=0;i<this.finalPlacingArray.length;i++)this.finalPlacingArray[i].y=180+36*i,this.finalPlacingArray[i].timeOf.text=this.timer.getRealTime(this.finalPlacingArray[i].timeTotal),this.finalPlacingArray[i].posOf.text=String(i+1);this.startTheCountdown||(this.endCountdown=new lt(this.playerBars[0].player.userName),this.addChild(this.endCountdown),this.startTheCountdown=!0),this.finalPlacingArray.length==this.players.length&&(this.endCountdown||(this.startTheCountdown=!0,this.endCountdown=new lt(this.playerBars[0].player.userName),this.addChild(this.endCountdown)),this.endCountdown.endNow())}tUpdateFriendsENT(){for(var t=NaN,e=1,s=0;s<this.players.length;s++){if(this.players[s].isPlayer)this.players[s].xPos=this.skin.x,this.players[s].yPos=this.skin.y,this.players[s].fr=this.skin.currentFrame,this.players[s].xScale=this.skin.scaleX;else{for(this.players[s].tCounter++,this.players[s].tCounter>this.players[s].tCounterGoal?(this.playerSkins[s].x=this.players[s].xPos,this.playerSkins[s].y=this.players[s].yPos):(this.playerSkins[s].x=this.players[s].oldX+this.players[s].xV*this.players[s].tCounter,this.playerSkins[s].y=this.players[s].oldY+this.players[s].yV*this.players[s].tCounter),this.playerSkins[s].colour=this.players[s].colour,this.playerSkins[s].colour2=this.players[s].colour2,this.playerSkins[s].headType=this.players[s].headType,this.playerSkins[s].handType=this.players[s].handType,this.playerSkins[s].scaleX=this.players[s].xScale,this.playerSkins[s].gotoAndStop(this.players[s].fr),this.playerSkins[s].setColours(),t=0;t<this.curLevel.fallingSpikes.length;t++)0!=this.curLevel.fallingSpikes[t].rotation&&180!=this.curLevel.fallingSpikes[t].rotation||0==this.curLevel.fallingSpikes[t].smashState&&Math.abs(this.playerSkins[s].x-this.curLevel.fallingSpikes[t].x)<10&&(this.curLevel.fallingSpikes[t].smashState=1);this.player.x<this.playerSkins[s].x&&e++}for(t=0;t<this.playerBars.length;t++)if(this.playerBars[t].player==this.players[s]){this.playerBars[t].timeTotal!=this.players[s].time&&(this.playerBars[t].timeTotal=this.players[s].time,this.tSortTimes());break}}if(this.updatePlayerPosition(e),1==this.updateMethod)for(s=0;s<this.robots.length;s++);this.handleYouArrows()}updatePing(t){}updatePlayerPosition(t){this.levelFinished||(this.uiPanel.placing.positionNum.text=String(t),this.uiPanel.placing.nth.text=1==t?"st":2==t?"nd":3==t?"rd":"th",this.uiPanel.placing.totalPlayers.text="of "+this.players.length+" runners")}updateUISign(){for(var t=0,e=0;e<this.playerObject.signs.length;e++)1==this.playerObject.signs[e]&&t++;this.uiPanel.caution.signsTot.text=t+"/30",this.singlePlayer&&(this.playerObject.signs[this.levelNum]?(this.level.cautionSign.visible=!1,this.uiPanel.caution.gotoAndStop(11)):this.uiPanel.caution.gotoAndStop(1)),this.singlePlayer||(this.uiPanel.caution.visible=!1)}}class zt extends y.Z.flash.media.Sound{constructor(){super()}}class Jt extends y.Z.flash.display.MovieClip{constructor(){super(),this.dist=this.width,this.parent.createGrinder(this),this.dist=this.width/2}}class Qt extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createHalfBlock(this)}}class $t extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createInvisibleBlock(this)}}class te extends y.Z.flash.media.Sound{constructor(){super()}}class ee extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(14,this.frame15)}frame15(){this.stop()}}class se extends y.Z.flash.display.MovieClip{constructor(){super()}}class ie extends y.Z.flash.display.MovieClip{constructor(){super(),this.timeOut=30,this.setAngle=0,this.defaultAngle=0,this.foundTarget=!1,this.fakeAngle=0,this.parent.createLaserCannon(this),this.beam.visible=!1,this.defaultAngle=this.rotation}ping(t){this.foundTarget}}class he extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1),this.parent.createLaserGun(this)}frame1(){this.stop()}}class ae extends j{constructor(){super()}uniqueLevelInit(){this.addChild(this.blackOver)}}class re extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class ne extends j{constructor(){super(),this.touching=!1,this.turnstile=new re}uniqueLevelInit(){this.sign.TICKERAB.changeString("        "),this.addChild(this.turnstile),this.turnstile.x=1217.15,this.turnstile.y=429.25,this.addChild(this.blackOver)}uniqueLevelPing(){this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.turnstile.play(),this.sign.TICKERAB.changeString("^^^^^^^^"),this.player.parent.setPlayerName(this.sign.TICKERAB.word))}}class le extends j{constructor(){super(),this.touching=!1,this.hasTouched=!1}uniqueLevelInit(){this.sign.TICKE.changeString("     ",!0),this.addChild(this.turnstile),this.addChild(this.blackOver)}uniqueLevelPing(){var t=NaN;if(this.touching)this.player.hitTestObject(this.turnstile)||(this.touching=!1);else if(!this.hasTouched&&this.player.hitTestObject(this.turnstile)){for(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKE.changeString("AUDIT",!0),this.slidingDoor.play(),this.parent.startLab(),t=0;t<7;t++)this["b"+t].gotoAndStop(2),this["b"+t].beacon.gotoAndPlay(Z.random(this["b"+t].beacon.totalFrames-1)+1);this.addChild(this.redPing),this.redPing.gotoAndStop(2)}}}class oe extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ue extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ce extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class de extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class pe extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class me extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ye extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ve extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ge extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class be extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class fe extends j{constructor(){super()}preInitCheck(){this.levelColour=0,this.obstacleColour=0,this.repaint()}uniqueLevelInit(){}uniqueLevelPing(){}}class xe extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Le extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class we extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Ce extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Se extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Te extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Me extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Ee extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class ke extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Pe extends j{constructor(){super(),this.levelType="MP"}uniqueLevelInit(){}uniqueLevelPing(){}}class Oe extends j{constructor(){super()}preInitCheck(){this.levelColour=0,this.obstacleColour=0,this.repaint()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ne extends j{constructor(){super()}preInitCheck(){this.levelColour=0,this.obstacleColour=0,this.repaint()}uniqueLevelInit(){}uniqueLevelPing(){}}class Re extends j{constructor(){super()}preInitCheck(){this.levelColour=0,this.obstacleColour=0,this.repaint()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ae extends j{constructor(){super()}uniqueLevelInit(){this.addChild(this.blackOver),this.addChild(this.sign)}uniqueLevelPing(){}}class Be extends j{constructor(){super(),this.triggeredLight=!1}uniqueLevelInit(){this.addChild(this.lightOn)}uniqueLevelPing(){this.triggeredLight||this.player.x>970&&(this.triggeredLight=!0,this.lightOn.play(),this.parent.startLab())}}class _e extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ie extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class je extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ze extends j{constructor(){super()}uniqueLevelInit(){this.addChild(this.blackOver)}uniqueLevelPing(){}}class Fe extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class De extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ge extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ve extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ue extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class He extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ke extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Xe extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class qe extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Ye extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class We extends j{constructor(){super()}uniqueLevelInit(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}uniqueLevelPing(){}}class ze extends j{constructor(){super(),this.touching=!1,this.hasTouched=!1}endEnding(){this.ending.visible=!1,this.ending.stop(),this.removeChild(this.ending)}uniqueLevelInit(){this.sign.TICKERA.changeString("        ",!0),this.sign.TICKERB.changeString("                 ",!0),this.addChild(this.turnstile),this.addChild(this.ending),this.parent.bg.visible=!1}uniqueLevelPing(){this.touching?this.player.hitTestObject(this.turnstile)||(this.touching=!1):!this.hasTouched&&this.player.hitTestObject(this.turnstile)&&(this.touching=!0,this.hasTouched=!0,this.turnstile.play(),this.sign.TICKERA.changeString(this.timeString,!1),this.sign.TICKERB.changeString(this.timeRank,!1))}}class Je extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class Qe extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class $e extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class ts extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class es extends j{constructor(){super()}uniqueLevelInit(){}uniqueLevelPing(){}}class ss extends j{constructor(){super(),this.triggeredLight=!1}uniqueLevelInit(){this.sign.TICKERAB.changeString(this.parent.playerObject.gameName),this.addChild(this.sign)}uniqueLevelPing(){this.triggeredLight||this.player.x>1775&&(this.triggeredLight=!0,kt.playSound("Cheer2"),kt.playSound("Cheer"))}}class is{constructor(){}static cash(t){return is.delimit(t,",",3,2)}static commaSnob(t){if(t<1e3)return String(t);for(var e=String(t).length,s=new Array,i=0;i<e;i++)s.push(String(t).charAt(e-1-i));var h="";for(i=0;i<e;i++)h=i%3==0&&0!=i?s[i]+","+h:s[i]+h;return h}static delimit(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var h=null,a=t.toFixed(i);"0."==a&&0==i&&(a="0");var r=i>0?1:0;if(a.length<=s+(i+r))return a;for(var n=a.substring(a.length-(i+r),a.length),l=a.substring(0,a.length-(i+r)),o=new Array,u=l.length;u>=0;u-=s)""!=(h=l.substring(u-s,u))&&o.unshift(h);for(var c="",d=0;d<o.length;d++)c+=o[d]+(d!=o.length-1?e:"");return c+n}static hexToString(t){return y.Z.__internal.avm2.Runtime.trace(t),String(t)}static lower(t){return t.toLowerCase()}static parseSentence(t){for(var e=null,s=0,i=0,h=new Array,a=0;a<t.length;a++)if(" "==t.charAt(a)){for(e="",s=y.Z.__internal.avm2.Runtime.uint(i);s<a;s++)e+=t.charAt(s);i=y.Z.__internal.avm2.Runtime.uint(a+1)," "!=e&&e.length>=1&&h.push(e)}return h.push(t.substr(i,t.length)),h}static upper(t){return t.toUpperCase()}}class hs extends y.Z.flash.display.MovieClip{constructor(){super(),this.kudosRound=0,this.totXP=0,this.xpRound=0}init(t){this.player=t,this.updateBox()}updateBox(){this.playerInfo.text=this.player.userName,this.xp.text=is.commaSnob(this.player.xp)+" XP",this.totXP=this.player.xp,this.levelTitle.text=this.parent.parent.parent.getRankByXP(this.totXP),this.levelNum.text=this.parent.parent.parent.getLevelByXP(this.totXP),this.kudos.text=is.commaSnob(this.player.kudos),this.matchNum.text=is.commaSnob(this.player.matches)+" Matches",this.wins.text=is.commaSnob(this.player.wins)+" Wins",this.skinner.colour=this.player.colour,this.skinner.colour2=this.player.colour2,this.skinner.headType=this.player.headType,this.skinner.handType=this.player.handType,N.colourMe(this.backdrop,this.player.colour),N.colourMe(this.side,this.player.colour2),this.skinner.fuel()}updateKudos(t){this.kudosRound=this.kudosRound+t,this.kudosThisRound.text="+"+this.kudosRound}updateXP(t){this.xpRound=this.xpRound+t,this.xpThisRound.text=is.commaSnob(this.xpRound)+" XP"}}class as extends y.Z.flash.display.MovieClip{constructor(){super()}init(t,e){this.levelNum.text=String(t),this.levelStr.text=String(e),this.okayButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay)}okay(t){this.okayButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}class rs extends y.Z.flash.display.MovieClip{constructor(){super()}}class ns extends y.Z.flash.display.MovieClip{constructor(){super(),this.newXP=0,this.oldLevel=0,this.timeToGo=5,this.newLevel=0,this.returning=!1,this.oldXP=0,this.players=new Array,this.bars=new Array,this.ranking=new Array,this.timer=new nt,this.addFrameScript(0,this.frame1)}addBar(){var t=new rs;this.addChild(t),this.bars.push(t),t.kudosButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.giveKudo,!1,0,!0),t.kudosButton.visible=!1,this.levelUpWindow&&this.contains(this.levelUpWindow)&&this.addChild(this.levelUpWindow)}backTo(t){this.dispatchEvent(new R(R.GOTO,"Lobby","Back"))}exchangeKudos(t,e){for(var s=0;s<this.players.length;s++)if(this.players[s].userName==t)return this.bars[s].boxy.giveKudo.play(),this.bars[s].boxy.updateXP(25),this.bars[s].boxy.updateKudos(1),void(this.players[s].isPlayer&&(this.bars[s].boxy.kudosRound>=5&&this.dispatchEvent(new w(w.SEND,34)),this.bars[s].boxy.kudosRound>=7&&this.dispatchEvent(new w(w.SEND,35))))}frame1(){this.stop(),this.dispatchEvent(new R(R.SEND,"Results","Init"))}giveKudo(t){for(var e=NaN,s=0;s<this.bars.length;s++)if(this.bars[s]==t.currentTarget.parent&&this.tubes.sendMessage("kudokudo"+this.players[s].userName),this.players[s].isPlayer&&(this.players[s].kudosToGive--,this.kudosLeft.text="Kudos To Give: "+this.players[s].kudosToGive,this.players[s].kudosToGive<=0)){for(e=0;e<this.bars.length;e++)this.bars[e].kudosButton.visible=!1;this.kudosLeft.text="Kudos To Give: 0"}}init(t){this.tubes=t,this.backToMenuButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.backTo,!1,0,!0),this.sendButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.sendMessage,!1,0,!0),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mouseClick,!1,0,!0),this.stage.focus=this.texter,this.texter.text="",this.players=this.tubes.players,this.initPlayers()}initPlayers(){for(var t=0;t<this.players.length;t++)this.addBar(),this.updateBar(t),this.bars[t].kudosButton.visible=!1}kill(){this.sendButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.sendMessage),this.backToMenuButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.backTo),this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping),this.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mouseClick)}mouseClick(){console.log("CLICK!"),console.log("barskebgth!",this.bars.length);for(var t=0;t<this.bars.length;t++)if(this.bars[t].sMute.hitTestPoint(this.mouseX,this.mouseY))return console.log("HIT "+this.bars[t]),this.tubes.isPlayerMuted(this.players[t].userName)?(console.log("Player is muted, will unmute"),this.tubes.unMutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(1)):(console.log("Player is unmuted, will mute"),this.tubes.mutePlayer(this.players[t].userName),void this.bars[t].sMute.gotoAndStop(2));console.log("NO HIT!")}ping(){xt.isDown(y.Z.flash.ui.Keyboard.ENTER)&&this.sendMessage(),this.players.length>1?this.nextInfo.text="Next game will start in "+this.timeToGo+" second(s)":this.nextInfo.text="Waiting for more players...",this.sortPlayers(),this.tubes.ping(),this.xpDisp.text=is.commaSnob(this.tubes.playerObject.xp)+" XP";var t=this.parent.getLevelByXP(this.tubes.playerObject.xp),e=this.parent.getRankByXP(this.tubes.playerObject.xp),s=this.parent.ranks[t+1],i=this.parent.ranks[t],h=s-this.tubes.playerObject.xp;this.xpAndLevel.text=String(t),this.xpTill.text=is.commaSnob(h)+" XP until the next Level",this.xpBar.barIn.scaleX=N.ease(this.xpBar.barIn.scaleX,(this.tubes.playerObject.xp-i)/(s-i),.3),this.levelRank.text=e}removeBar(t){this.bars[t].kudosButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.giveKudo),this.removeChild(this.bars[t]),this.bars[t]=null,this.bars.splice(t,1)}reRank(){}returnFromGame(){this.returning=!0,this.tubes.timeToGo=this.tubes.timeToGoStart;for(var t=0;t<this.players.length;t++)this.players[t].matches++,this.players[t].isPlayer?(this.oldXP=this.tubes.playerObject.xp,this.oldLevel=this.parent.getLevelByXP(this.tubes.playerObject.xp),this.players[t].host&&(this.tubes.setRoomVariable("state","Lobby"),this.tubes.resetTimeToGo()),this.tubes.playerObject.matches++,this.dispatchEvent(new w(w.SEND,15)),this.bars[t].kudosButton.visible=!1):this.bars[t].kudosButton.visible=!0,0==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+3,this.players[t].xp=this.players[t].xp+250,this.players[t].wins++,this.updateBar(t),this.bars[t].boxy.updateXP(250),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+250,this.tubes.playerObject.wins++,this.tubes.playerObject.wins>=1&&this.dispatchEvent(new w(w.SEND,24)),this.tubes.playerObject.wins>=10&&this.dispatchEvent(new w(w.SEND,25)),this.tubes.playerObject.wins>=100&&this.dispatchEvent(new w(w.SEND,26)))):1==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+2,this.players[t].xp=this.players[t].xp+150,this.updateBar(t),this.bars[t].boxy.updateXP(150),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+150)):2==this.players[t].placing?(this.players[t].kudosToGive=this.players[t].kudosToGive+1,this.players[t].xp=this.players[t].xp+100,this.updateBar(t),this.bars[t].boxy.updateXP(100),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+100)):(this.players[t].kudosToGive=this.players[t].kudosToGive+0,this.players[t].xp=this.players[t].xp+25,this.tubes.playerObject.xp=this.tubes.playerObject.xp+25,this.updateBar(t),this.bars[t].boxy.updateXP(25),this.bars[t].boxy.kudosThisRound.text="0",this.players[t].isPlayer&&(this.tubes.playerObject.xp=this.tubes.playerObject.xp+25));this.tubes.chooseUserLevel();var e=this.parent.getRankByXP(this.tubes.playerObject.xp),s=this.parent.getLevelByXP(this.tubes.playerObject.xp);if(s>this.oldLevel){for(this.levelUpWindow=new as,this.levelUpWindow.init(s,e),this.addChild(this.levelUpWindow),t=0;t<this.players[t];t++)this.players[t].isPlayer&&this.updateBar(t);this.tubes.sendMessage("LVX"+this.tubes.playerObject.userName+" has just leveled up to Level "+s+": "+e)}this.dispatchEvent(new R(R.GOTO,"SaveGame"));var i=this.tubes.playerObject.matches;i>=5&&this.dispatchEvent(new w(w.SEND,30)),i>=25&&this.dispatchEvent(new w(w.SEND,31)),i>=100&&this.dispatchEvent(new w(w.SEND,32)),i>=250&&this.dispatchEvent(new w(w.SEND,33)),s>=3&&this.dispatchEvent(new w(w.SEND,36)),s>=5&&this.dispatchEvent(new w(w.SEND,37)),s>=8&&this.dispatchEvent(new w(w.SEND,38)),s>=10&&this.dispatchEvent(new w(w.SEND,39)),s>=15&&this.dispatchEvent(new w(w.SEND,40)),s>=20&&this.dispatchEvent(new w(w.SEND,41)),s>=25&&this.dispatchEvent(new w(w.SEND,42)),s>=30&&this.dispatchEvent(new w(w.SEND,43)),s>=35&&this.dispatchEvent(new w(w.SEND,44)),s>=38&&this.dispatchEvent(new w(w.SEND,45)),s>=39&&this.dispatchEvent(new w(w.SEND,46)),s>=40&&this.dispatchEvent(new w(w.SEND,47))}sendMessage(){if(""==this.texter.text||" "==this.texter.text||"\n"==this.texter.text||" \n"==this.texter.text||this.texter.text.length<=1)return this.texter.text="",void(this.stage.focus=this.texter);xt.isDown(y.Z.flash.ui.Keyboard.ENTER)?this.texter.text=this.texter.text.substr(0,this.texter.text.length-1):this.texter.text=this.texter.text.substr(0,this.texter.text.length),this.tubes.sendMessage("!!"+this.texter.text),this.texter.text="",this.stage.focus=this.texter}sortPlayers(){for(var t=NaN,e=0;e<this.players.length;e++)for(this.bars[e].x=50,t=0;t<this.tubes.finalList.length;t++)this.tubes.finalList[t]==this.players[e]&&(this.bars[e].y=N.ease(this.bars[e].y,100+50*t,.3))}updateBar(t){var e=t,s=this.bars[e],i=this.players[e];s&&i&&(s.x=50,s.boxy.init(i),s.placingNum.text=String(i.placing+1),i.completedLevel?s.timeDisp.text=this.timer.getRealTime(i.time):this.returning?(s.timeDisp.text="No Finish",s.boxy.kudoImage.visible=!0):(s.timeDisp.text="New!",s.boxy.xpThisRound.text=" ",s.boxy.kudosThisRound.text=" ",s.boxy.kudoImage.visible=!1),1==i.isPlayer?(s.playerBorder.visible=!0,s.kudosButton.visible=!1,i.kudosToGive>0&&(this.kudosLeft.text="Kudos To Give: "+i.kudosToGive),s.sMute.visible=!1):s.playerBorder.visible=!1,this.tubes.isPlayerMuted(i.userName)?s.sMute.gotoAndStop(2):s.sMute.gotoAndStop(1),s.boxy.updateBox())}updateKudosToGive(){for(var t=0;t<this.players.length;t++){if(this.players[t].isPlayer)return void(this.players[t].kudosToGive>0?this.kudosLeft.text="Kudos To Give: "+this.players[t].kudosToGive:this.kudosLeft.text="Kudos To Give: 0");this.bars[t].kudosButton.visible=!0}}}class ls extends y.Z.flash.display.MovieClip{constructor(){super()}init(){this.okayButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.noThankYou)}noThankYou(t){this.okayButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.noThankYou),this.parent&&this.parent.removeChild(this)}okay(t){this.okayButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.noThankYouButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.noThankYou),this.dispatchEvent(new R(R.GOTO,"ExitPathLink")),this.parent&&this.parent.removeChild(this)}}class os extends y.Z.flash.display.MovieClip{constructor(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super(),this.agDomain=!1,this.mpButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mpButtonHandler,!1,0,!0),this.spButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.spButtonHandler,!1,0,!0),this.fButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.fButtonHandler,!1,0,!0),this.mButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mButtonHandler,!1,0,!0),this.twitterButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.tButtonHandler,!1,0,!0),this.facebookButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.fbButtonHandler,!1,0,!0),this.armorGamesButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.agButtonHandler,!1,0,!0),this.gogogo.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.goHandler,!1,0,!0),this.muteButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.agDomain=t}agButtonHandler(){this.dispatchEvent(new R(R.GOTO,"ArmorGames"))}fbButtonHandler(){this.dispatchEvent(new R(R.GOTO,"Facebook"))}fButtonHandler(){this.dispatchEvent(new R(R.GOTO,"MainMenu","Flair"))}goHandler(){this.dispatchEvent(new R(R.GOTO,"DeleteAllData"))}kill(){this.mpButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mpButtonHandler),this.spButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.spButtonHandler),this.fButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.fButtonHandler),this.mButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.mButtonHandler),this.twitterButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.tButtonHandler),this.facebookButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.fbButtonHandler),this.armorGamesButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.agButtonHandler),this.gogogo.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.goHandler),this.muteButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut),this.parent.killAGISaver()}mButtonHandler(){this.dispatchEvent(new R(R.GOTO,"MainMenu","CharacterEdit"))}mpButtonHandler(){this.agDomain?this.dispatchEvent(new R(R.GOTO,"MainMenu","Multiplayer")):(this.warning=new ls,this.addChild(this.warning),this.warning.init())}muteOut(){kt.handleMute()}spButtonHandler(){this.dispatchEvent(new R(R.GOTO,"MainMenu","SinglePlayer"))}tButtonHandler(){this.dispatchEvent(new R(R.GOTO,"Twitter"))}}class us extends y.Z.flash.media.Sound{constructor(){super()}}class cs extends y.Z.flash.media.Sound{constructor(){super()}}class ds extends y.Z.flash.display.MovieClip{constructor(){super()}buttons(t){switch(t.currentTarget){case this.qp:this.dispatchEvent(new R(R.GOTO,"MultiplayerMenu","QuickPlay"));break;case this.backToMenuButton:this.dispatchEvent(new R(R.GOTO,"MultiplayerMenu","Back"))}}customGo(t){this.dispatchEvent(new R(R.GOTO,"MultiplayerMenu","CharacterSelection"))}init(t){this.playerObject=t,this.qp.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToMenuButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.customGo,!1,0,!0),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerInfo.xpDisp.text=is.commaSnob(this.playerObject.xp)+" XP",this.playerInfo.kudosDisp.text=is.commaSnob(this.playerObject.kudos)+" Kudos",this.playerInfo.winDisp.text=is.commaSnob(this.playerObject.wins)+" Wins",this.playerInfo.matchDisp.text=is.commaSnob(this.playerObject.matches)+" Matches";var e=this.parent.getLevelByXP(this.playerObject.xp),s=this.parent.getRankByXP(this.playerObject.xp),i=this.parent.ranks[e+1],h=this.parent.ranks[e],a=i-this.playerObject.xp;this.playerInfo.xpAndLevel.text=e+" "+s,this.playerInfo.xpTill.text=is.commaSnob(a)+" XP until the next Level",this.playerInfo.xpBar.barIn.scaleX=(this.playerObject.xp-h)/(i-h),this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}kill(){this.qp.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.backToMenuButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.customGo)}}class ps extends y.Z.flash.display.MovieClip{constructor(){super()}addListeners(){this.playButt.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.viewButt.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.eraseButt.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.backToButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.customizeButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.yesButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.deleteSure.noButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0)}buttons(t){switch(t.currentTarget){case this.playButt:this.dispatchEvent(new R(R.GOTO,"SinglePlayerMenu","StartGame"));break;case this.viewButt:this.dispatchEvent(new R(R.GOTO,"SinglePlayerMenu","ViewHighscores"));break;case this.eraseButt:this.deleteSure.visible=!0;break;case this.backToButton:this.dispatchEvent(new R(R.GOTO,"SinglePlayerMenu","BackButton"));break;case this.customizeButton:this.dispatchEvent(new R(R.GOTO,"SinglePlayerMenu","CharacterSelection"));break;case this.deleteSure.yesButton:this.dispatchEvent(new R(R.GOTO,"SinglePlayerMenu","Delete"));break;case this.deleteSure.noButton:this.deleteSure.visible=!1}}init(t){this.playerObject=t,this.addListeners(),this.nameDisp.text="Welcome, "+this.playerObject.userName+"!",this.playerObject.bestTime<=9999999?this.bestTime.text=nt.translateTime(this.playerObject.bestTime):this.bestTime.text="No Run",0==this.playerObject.gameLevel?this.currentProgress.text="Not Started":this.currentProgress.text="Level "+(1+this.playerObject.gameLevel);for(var e=0,s=0;s<this.playerObject.signs.length;s++)1==this.playerObject.signs[s]&&e++;this.signsCollected.text=e+"/30",this.deleteSure.visible=!1,this.runnerBar.runner.gotoAndStop(2),this.runnerBar.runner.colour=this.playerObject.colour,this.runnerBar.runner.colour2=this.playerObject.colour2,this.runnerBar.runner.headType=this.playerObject.headType,this.runnerBar.runner.handType=this.playerObject.handType,this.runnerBar.runner.fuel()}kill(){this.playButt.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.viewButt.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.eraseButt.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.backToButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.customizeButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.yesButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons),this.deleteSure.noButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons)}}class ms extends y.Z.flash.display.MovieClip{constructor(){super(),this.completedLevel=!1,this.isMain=!0,this.level=15,this.oldX=0,this.placing=-1,this.hostTime=0,this.wins=295,this.oldY=0,this.id=0,this.kudos=10,this.yPos=250,this.host=!1,this.isPlayer=!1,this.curCheck=0,this.xScale=1,this.matches=1254,this.xPos=250,this.toX=0,this.toY=0,this.headType=3,this.tCounterGoal=0,this.handType=3,this.colour=16777215,this.time=0,this.xV=0,this.colour2=16777215,this.tCounter=0,this.kudosToGive=0,this.fr=1,this.userName="bob",this.xp=1500,this.yV=0,this.ping=Z.random(400),this.timer=new nt}init(){}}class ys extends y.Z.flash.events.EventDispatcher{constructor(){super()}connect(t){}createRoom(t){}disconnect(){}getActiveRoom(){return null}getAllRooms(){return[]}getRoomList(){}joinRoom(t){}login(t,e,s){}roundTripBench(){}sendPrivateMessage(t,e){}sendPublicMessage(t){}setRoomVariables(t){}setUserVariables(t){}}class vs extends y.Z.flash.events.Event{constructor(t,e){super(t),this.params=e}clone(){return new vs(this.type,this.params)}toString(){return this.formatToString("SFSEvent","type","bubbles","cancelable","eventPhase","params")}}g()(vs,"onAdminMessage","onAdminMessage"),g()(vs,"onBuddyList","onBuddyList"),g()(vs,"onBuddyListError","onBuddyListError"),g()(vs,"onBuddyListUpdate","onBuddyListUpdate"),g()(vs,"onBuddyPermissionRequest","onBuddyPermissionRequest"),g()(vs,"onBuddyRoom","onBuddyRoom"),g()(vs,"onConfigLoadFailure","onConfigLoadFailure"),g()(vs,"onConfigLoadSuccess","onConfigLoadSuccess"),g()(vs,"onConnection","onConnection"),g()(vs,"onConnectionLost","onConnectionLost"),g()(vs,"onCreateRoomError","onCreateRoomError"),g()(vs,"onDebugMessage","onDebugMessage"),g()(vs,"onExtensionResponse","onExtensionResponse"),g()(vs,"onJoinRoom","onJoinRoom"),g()(vs,"onJoinRoomError","onJoinRoomError"),g()(vs,"onLogin","onLogin"),g()(vs,"onLogout","onLogout"),g()(vs,"onModeratorMessage","onModMessage"),g()(vs,"onObjectReceived","onObjectReceived"),g()(vs,"onPlayerSwitched","onPlayerSwitched"),g()(vs,"onPrivateMessage","onPrivateMessage"),g()(vs,"onPublicMessage","onPublicMessage"),g()(vs,"onRandomKey","onRandomKey"),g()(vs,"onRoomAdded","onRoomAdded"),g()(vs,"onRoomDeleted","onRoomDeleted"),g()(vs,"onRoomLeft","onRoomLeft"),g()(vs,"onRoomListUpdate","onRoomListUpdate"),g()(vs,"onRoomVariablesUpdate","onRoomVariablesUpdate"),g()(vs,"onRoundTripResponse","onRoundTripResponse"),g()(vs,"onSpectatorSwitched","onSpectatorSwitched"),g()(vs,"onUserCountChange","onUserCountChange"),g()(vs,"onUserEnterRoom","onUserEnterRoom"),g()(vs,"onUserLeaveRoom","onUserLeaveRoom"),g()(vs,"onUserVariablesUpdate","onUserVariablesUpdate");class gs extends y.Z.flash.display.MovieClip{constructor(){super(),this.minPlayers=2,this.timeToGoStart=25,this.startedGame=!1,this.tCounterGoal=6,this.pingCounter=0,this.timeToGo=25,this.allAlone=!1,this.locate="QPL",this.levelStarted=!1,this.allAloneCounter=0,this.timeCounter=0,this.NEWLINE="\n",this.timerUpdateRate=20,this.timeOutCounter=0,this.firstTimeIn=!0,this.timeToGoCounter=0,this.maxPlayers=5,this.inLimbo=!1,this.pingCount=0,this.totalPingTime=0,this.firstTimeSend=!1,this.tCounter=0,this.mpLevels=new Array(100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119),this.myNextLevel=100+Z.random(10),this.timer=new y.Z.flash.utils.Timer(200),this.hostTimer=new y.Z.flash.utils.Timer(1e3),this.muteList=new Array,this.updaters=new Object,this.players=new Array,this.finalList=new Array,this.currentPing=Z.random(1e4)}addPlayer(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=new ms;i.userName=e,i.id=t,i.isPlayer=s,i.placing=this.players.length,this.players.push(i),this.finalList.push(i),s||"QPL"!=this.locate&&"Lobby"==this.locate&&this.parent.lobby&&this.parent&&this.parent.lobby.addBar(),s&&(i.level=this.playerObject.level,i.xp=this.playerObject.xp,i.kudos=this.playerObject.kudos,i.wins=this.playerObject.wins,i.matches=this.playerObject.matches,i.time=0,i.colour=this.playerObject.colour,i.colour2=this.playerObject.colour2,i.headType=this.playerObject.headType,i.handType=this.playerObject.handType,i.ping=this.playerObject.ping,this.player=i,y.Z.__internal.avm2.Runtime.trace("MY ID IS "+i.id))}broadcastPlayerPing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=null,s=!1,i=null,h=0,a=void 0;if(this.tCounter=6,this.tCounterGoal=6,this.player&&this.tCounter==this.tCounterGoal){for(a in this.tCounter=0,e=new Object,s=!1,i="QD",this.updaters.ping!=this.currentPing&&(this.updaters.ping=this.currentPing,e.ping=this.currentPing,y.Z.__internal.avm2.Runtime.trace("CPing")),this.player.host&&this.updaters.hostTime!=this.player.hostTime&&(this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime,y.Z.__internal.avm2.Runtime.trace("HTime")),this.updaters.xScale!=this.player.xScale&&(this.updaters.xScale=this.player.xScale,e.scX=this.player.xScale,y.Z.__internal.avm2.Runtime.trace("xScale")),this.updaters.colour!=this.player.colour&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour,y.Z.__internal.avm2.Runtime.trace("colour")),this.updaters.colour2!=this.player.colour2&&(this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2,y.Z.__internal.avm2.Runtime.trace("colour2")),this.updaters.headType!=this.player.headType&&(this.updaters.headType=this.player.headType,e.pH=this.player.headType,y.Z.__internal.avm2.Runtime.trace("headType")),this.updaters.handType!=this.player.handType&&(this.updaters.handType=this.player.handType,e.pI=this.player.handType,y.Z.__internal.avm2.Runtime.trace("handType")),this.updaters.xp!=this.player.xp&&(this.updaters.xp=this.player.xp,e.xp=this.player.xp,y.Z.__internal.avm2.Runtime.trace("xp")),this.updaters.wins!=this.player.wins&&(this.updaters.wins=this.player.wins,e.wins=this.player.wins,y.Z.__internal.avm2.Runtime.trace("wins")),this.updaters.matches!=this.player.matches&&(this.updaters.matches=this.player.matches,e.matches=this.player.matches,y.Z.__internal.avm2.Runtime.trace("matches")),this.updaters.kudos!=this.player.kudos&&(this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos,y.Z.__internal.avm2.Runtime.trace("kudos")),this.updaters.host!=this.player.host&&(this.updaters.host=this.player.host,e.host=this.player.host,y.Z.__internal.avm2.Runtime.trace("host")),i+="x",this.updaters.xPos!=Math.floor(this.player.xPos)&&(this.updaters.xPos=Math.floor(this.player.xPos),i+=String(Math.floor(this.player.xPos)),s=!0),i+="y",this.updaters.yPos!=Math.floor(this.player.yPos)&&(this.updaters.yPos=Math.floor(this.player.yPos),i+=String(Math.floor(this.player.yPos)),s=!0),i+="f",this.updaters.fr!=this.player.fr&&(this.updaters.fr=this.player.fr,i+=String(this.player.fr),s=!0),i+="q",this.updaters.time!=this.player.time&&(this.updaters.time=this.player.time,e.time=this.player.time,y.Z.__internal.avm2.Runtime.trace("time")),t&&(this.updaters.colour=this.player.colour,e.colour=this.player.colour,this.updaters.colour2=this.player.colour2,e.colour2=this.player.colour2,this.updaters.headType=this.player.headType,e.pH=this.player.headType,this.updaters.handType=this.player.handType,e.pI=this.player.handType,this.updaters.xp=this.player.xp,e.xp=this.player.xp,this.updaters.wins=this.player.wins,e.wins=this.player.wins,this.updaters.ping=this.currentPing,e.ping=this.currentPing,this.updaters.matches=this.player.matches,e.matches=this.player.matches,this.updaters.kudos=this.player.kudos,e.kudos=this.player.kudos,this.updaters.host=this.player.host,e.host=this.player.host,this.updaters.hostTime=this.player.hostTime,e.hostTime=this.player.hostTime,this.updaters.xPos=this.player.xPos,e.xPos=this.player.xPos,this.updaters.yPos=this.player.yPos,e.yPos=this.player.yPos),h=0,e)h++;s&&(s=!1,this.sendMessage(i)),0!=h&&this.setUserVariables(e)}}chooseUserLevel(){this.myNextLevel=this.myNextLevel+(Z.random(2)+1),this.myNextLevel>119&&(this.myNextLevel=100),this.myNextLevel<100&&(this.myNextLevel=100),this.setRoomVariable("level",String(this.myNextLevel))}colourPlayer(t){return"<FONT COLOR='#"+Z.toHex(t.colour)+"'>"+t.userName+"</FONT>"}createRoom(){for(var t=null,e=!1,s=null,i=null,h=null,a=null,r=new Object,n=!1,l=this.sfs.getAllRooms();!n;){for(a in e=!1,s=this.randomAnimal(),i=this.randomRoadType(),h=Z.random(1e4)+" "+s+" "+i,l)if(l[a].getName()==h){e=!0;break}e||(t=h,n=!0)}r.name=t,r.isGame=!0,r.maxUsers=this.maxPlayers;var o=new Array;o.push({name:"host",val:this.playerObject.userName,persistent:!0}),r.vars=o,this.sfs.createRoom(r)}debugTrace(t){this.debuggy.txt.htmlText=this.debuggy.txt.htmlText+t}disconnect(){this.sfs.disconnect()}getMyID(){return this.sfs.myUserId}getMyName(){return this.sfs.myUserName}getMyRoom(){return this.sfs.myUserName}getRoomCount(){return this.players.length}getRoomMax(){return this.maxPlayers}getVariable(t){return this.sfs.getActiveRoom().getVariable(t)}giveFinalList(t){var e=NaN;this.finalList=new Array;for(var s=0;s<t.length;s++)for(e=0;e<this.players.length;e++)if(t[s].player.userName==this.players[e].userName){this.finalList.push(this.players[e]),this.players[e].placing=s;break}for(y.Z.__internal.avm2.Runtime.trace("ARRAY"),s=0;s<t.length;s++)y.Z.__internal.avm2.Runtime.trace(t[s].player.userName);for(y.Z.__internal.avm2.Runtime.trace("FINAL"),s=0;s<this.finalList.length;s++)y.Z.__internal.avm2.Runtime.trace(this.finalList[s].userName);this.timeToGo=this.timeToGoStart}hostDuty(){}init(t){this.timer.addEventListener("timer",this.timerHandler),this.timer.start(),this.hostTimer.addEventListener("timer",this.timerHandler2),this.hostTimer.start(),this.playerObject=t,this.inLimbo=!1,this.firstTimeIn=!0,this.sfs=new ys(!0),this.sfs.addEventListener(vs.onConnection,this.onConnection),this.sfs.addEventListener(vs.onConnectionLost,this.onConnectionLost),this.sfs.addEventListener(vs.onLogin,this.onLogin),this.sfs.addEventListener(vs.onRoomListUpdate,this.onRoomListUpdate),this.sfs.addEventListener(vs.onJoinRoom,this.onJoinRoom),this.sfs.addEventListener(vs.onJoinRoomError,this.onJoinRoomError),this.sfs.addEventListener(vs.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.addEventListener(vs.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.addEventListener(vs.onPublicMessage,this.onPublicMessageHandler),this.sfs.addEventListener(vs.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.addEventListener(vs.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.addEventListener(vs.onRoomAdded,this.onRoomAddedHandler),this.sfs.addEventListener(vs.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.addEventListener(vs.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.addEventListener(vs.onAdminMessage,this.onAdminMessageHandler),this.sfs.addEventListener(y.Z.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.addEventListener(y.Z.flash.events.IOErrorEvent.IO_ERROR,this.onIOError),this.sfs.debug=!1,this.sfs.isConnected?this.debugTrace("You are already connected!"):this.sfs.connect("multiplayer.armorgames.com",9339)}isPlayerMuted(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return!0;return!1}joinRoom(t){this.sfs.joinRoom(t)}kill(){this.timer.removeEventListener("timer",this.timerHandler),this.timer.stop(),this.timer=null,this.hostTimer.removeEventListener("timer",this.timerHandler2),this.hostTimer.stop(),this.hostTimer=null,this.sfs.removeEventListener(vs.onConnection,this.onConnection),this.sfs.removeEventListener(vs.onConnectionLost,this.onConnectionLost),this.sfs.removeEventListener(vs.onLogin,this.onLogin),this.sfs.removeEventListener(vs.onRoomListUpdate,this.onRoomListUpdate),this.sfs.removeEventListener(vs.onJoinRoom,this.onJoinRoom),this.sfs.removeEventListener(vs.onJoinRoomError,this.onJoinRoomError),this.sfs.removeEventListener(vs.onPrivateMessage,this.onPrivateMessageHandler),this.sfs.removeEventListener(vs.onUserEnterRoom,this.onUserEnterRoomHandler),this.sfs.removeEventListener(vs.onPublicMessage,this.onPublicMessageHandler),this.sfs.removeEventListener(vs.onUserVariablesUpdate,this.onUserVariablesUpdateHandler),this.sfs.removeEventListener(vs.onUserLeaveRoom,this.onUserLeaveRoomHandler),this.sfs.removeEventListener(vs.onRoomAdded,this.onRoomAddedHandler),this.sfs.removeEventListener(vs.onRoomVariablesUpdate,this.onRoomVariablesUpdateHandler),this.sfs.removeEventListener(vs.onRoundTripResponse,this.onRoundTripResponseHandler),this.sfs.removeEventListener(vs.onAdminMessage,this.onAdminMessageHandler),this.sfs.removeEventListener(y.Z.flash.events.SecurityErrorEvent.SECURITY_ERROR,this.onSecurityError),this.sfs.removeEventListener(y.Z.flash.events.IOErrorEvent.IO_ERROR,this.onIOError)}mutePlayer(t){this.muteList.push(t),this.debugTrace(t+" has been muted, you will no longer see this user's messages.")}onAdminMessageHandler(t){this.debugTrace("<FONT COLOR='#"+Z.toHex(16711680)+"'><B>Admin Overlord Message:</B> "+t.params.message+"</FONT>")}onConnection(t){t.params.success?(this.debugTrace("Connection successful!"),this.parent.step(1),this.sfs.login("ExitGame",this.playerObject.userName,"")):this.debugTrace("Connection failed!")}onConnectionLost(t){this.debugTrace("Connection lost!")}onIOError(t){this.debugTrace("I/O Error: "+t.text)}onJoinRoom(t){var e=null,s=null;if(this.debugTrace("Successfully arrived at "+t.params.room.getName()),"Party Room"!=t.params.room.getName()){this.parent.step(3);var i=t.params.room.getUserList();for(e in i)i[e].getName()==this.getMyName()?(this.addPlayer(i[e].getId(),i[e].getName(),!0),t.params.room.getVariable("host")==this.playerObject.userName&&(this.debugTrace("You have been made host of this address!"),this.setRoomVariable("state","Lobby"),this.chooseUserLevel(),this.resetTimeToGo(),this.player.host=!0,1==this.players.length&&this.startSingleRoomTimeOut())):this.addPlayer(i[e].getId(),i[e].getName());(s=this.sfs.getActiveRoom()).getUserCount()>=this.minPlayers&&this.parent.step(4),this.parent.updateUserCount(s.getUserCount(),s.getMaxUsers())}else this.sfs.getRoomList()}onJoinRoomError(t){this.debugTrace("Room join error; the following error occurred: "+t.params.error),this.parent.step(1),this.sfs.joinRoom("Party Room")}onLogin(t){t.params.success?this.debugTrace("Successfully logged in"):this.debugTrace("Login failed. Reason: "+t.params.error)}onPrivateMessageHandler(t){for(var e=JSON.parse(t.params.message),s=0;s<this.players.length;s++)if(this.players[s].userName==t.params.sender.getName()&&this.players[s]!=this.player)return this.players[s].xp=e.xp,this.players[s].kudos=e.kudos,this.players[s].wins=e.wins,this.players[s].matches=e.matches,this.players[s].colour=e.colour,this.players[s].colour2=e.colour2,this.players[s].headType=e.headType,this.players[s].handType=e.handType,this.players[s].host=e.host,void("Lobby"==this.locate&&this.parent.lobby.updateBar(s))}onPublicMessageHandler(t){var e=null,s=NaN,i=null,h=NaN,a=NaN;if("QD"!=t.params.message.substr(0,2)){if("kudokudo"!=t.params.message.substr(0,8)){if("TIME "==t.params.message.substr(0,5))return this.timeToGo=Number(t.params.message.substr(5,3)),"Lobby"==this.locate&&(this.parent.lobby.timeToGo=this.timeToGo),this.timeToGo<=5&&this.timeToGo>=0&&(kt.playSound("Boop1"),this.startedGame=!1),void(this.parent.game&&"Game"==this.locate&&0==this.startedGame&&(-4==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(20),-5==this.timeToGo&&this.parent.game.levelStart.startBox.gotoAndPlay(36),-6==this.timeToGo&&(this.parent.game.levelStart.startBox.gotoAndPlay(55),this.startedGame=!0),this.timeToGo<=-7&&0==this.parent.game.goAhead&&0==this.parent.game.levelFinished&&(this.parent.game.goAhead=!0,this.startedGame=!0,this.timeToGo=-7)));if("!!"==t.params.message.substr(0,2))for(a=0;a<this.players.length;a++)if(this.players[a].userName==t.params.sender.getName()){if(this.isPlayerMuted(this.players[a].userName))return;return void this.debugTrace(this.colourPlayer(this.players[a])+": "+t.params.message.substr(2,t.params.message.length))}if("CHECK"!=t.params.message.substr(0,5)){if("LVX"==t.params.message.substr(0,3))return this.debugTrace("<FONT COLOR='#00CC00'>"+t.params.message.substr(3,t.params.message.length)+"</FONT>"),this.debugTrace("<FONT COLOR='#00CC00'>KudoBomb!  As celebration, all room members earn +2 kudos to give!</FONT>"),this.player.kudosToGive=this.player.kudosToGive+2,void("Lobby"==this.locate&&this.parent.lobby&&this.parent.lobby.updateKudosToGive());switch(t.params.message){case"die":"Game"==this.locate&&this.parent.game.tDie(t.params.sender.getId(),t.params.sender.getName());break;case"done":break;case"START":this.timeToGo=0,this.player.kudosToGive=0,kt.playSound("Boop2"),this.myNextLevel=Number(this.getVariable("level")),this.dispatchEvent(new R(R.GOTO,"Lobby","StartGame"));break;default:this.debugTrace(t.params.sender.getName()+": "+t.params.message)}}else t.params.sender.getName()!=this.player.userName&&this.parent.game.tCheck(t.params.sender.getName(),Number(t.params.message.substr(5,1)))}else if(e=t.params.message.substr(8,t.params.message.length),"Lobby"==this.locate&&this.parent.lobby.exchangeKudos(e,t.params.sender.getName()),e==this.player.userName){if(this.playerObject.xp,s=this.parent.getLevelByXP(this.playerObject.xp),kt.playSound("GetKudos"),this.debugTrace(t.params.sender.getName()+" has given you kudos!  You now have "+(this.playerObject.kudos+1)),this.player.kudos++,this.playerObject.kudos++,this.player.xp=this.player.xp+5,this.playerObject.xp=this.playerObject.xp+5,this.playerObject.kudos>=10&&this.dispatchEvent(new w(w.SEND,27)),this.playerObject.kudos>=100&&this.dispatchEvent(new w(w.SEND,28)),this.playerObject.kudos>=250&&this.dispatchEvent(new w(w.SEND,29)),"Lobby"==this.locate&&(i=this.parent.getRankByXP(this.playerObject.xp),(h=this.parent.getLevelByXP(this.playerObject.xp))>s))for(this.parent.lobby.levelUpWindow=new as,this.parent.lobby.levelUpWindow.init(h,i),this.parent.lobby.addChild(this.parent.lobby.levelUpWindow),this.sendMessage("LVX"+this.player.userName+" has just leveled up to Level "+h+": "+i),a=0;a<this.players[a];a++)this.players[a].isPlayer&&this.parent.lobby.updateBar(a);this.dispatchEvent(new R(R.GOTO,"SaveGame"))}}else this.parseDataString(t.params.sender.getName(),t.params.message.substr(2,t.params.message.length))}onRoomAddedHandler(t){}onRoomListUpdate(t){var e=null,s=null;if(this.firstTimeIn)return this.firstTimeIn=!1,void this.sfs.joinRoom("Party Room");for(e in this.parent.step(2),t.params.roomList)if("Party Room"!=(s=t.params.roomList[e]).getName()&&s.isGame()&&s.getUserCount()<s.getMaxUsers()&&"Lobby"==s.getVariable("state"))return void this.joinRoom(s.getName());this.debugTrace("No room found, creating room..."),this.createRoom()}onRoomVariablesUpdateHandler(t){var e=null,s=t.params.changedVars;for(e in s)y.Z.__internal.avm2.Runtime.trace(e+" room variable was updated; new value is: "+t.params.room.getVariable(e)),"level"==e&&(this.myNextLevel=Number(t.params.room.getVariable(e)))}onRoundTripResponseHandler(t){var e=t.params.elapsed;this.totalPingTime=this.totalPingTime+e/2,this.pingCount++;var s=Math.round(this.totalPingTime/this.pingCount);this.currentPing=s,this.player&&(this.player.ping=this.currentPing,this.firstTimeSend&&0!=this.currentPing&&(this.firstTimeSend=!1)),"Game"==this.locate&&this.parent.game.updatePing(this.currentPing)}onSecurityError(t){this.debugTrace("Security error: "+t.text)}onUserEnterRoomHandler(t){var e=this.sfs.getActiveRoom();if("Party Room"!=e.getName()){this.debugTrace("User "+t.params.user.getName()+" entered the room"),this.addPlayer(t.params.user.getId(),t.params.user.getName()),this.allAlone&&(this.allAlone=!1),this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),e.getUserCount()>=this.minPlayers&&this.parent.step(4);var s=new Object;s.xp=this.player.xp,s.kudos=this.player.kudos,s.wins=this.player.wins,s.matches=this.player.matches,s.colour=this.player.colour,s.colour2=this.player.colour2,s.headType=this.player.headType,s.handType=this.player.handType,s.host=this.player.host,s.ping=this.player.ping;var i=JSON.stringify(s);this.sendPrivateMessage(i,t.params.user.getId())}}onUserLeaveRoomHandler(t){var e=this.sfs.getActiveRoom();"Party Room"!=e.getName()&&(this.debugTrace("User "+t.params.userName+" left the room"),this.locate,this.parent.updateUserCount(e.getUserCount(),e.getMaxUsers()),this.removePlayer(t.params.userID,t.params.userName),this.player.host&&1==this.players.length&&"Lobby"==this.locate&&this.setRoomVariable("state","Lobby"))}onUserVariablesUpdateHandler(t){for(var e=t.params,s=e.changedVars,i=0;i<this.players.length;i++)if(this.players[i].userName==e.user.getName()){if(this.players[i].isPlayer)return;for(var h in this.players[i].timer.getFrameTime(),s)switch(h){case"pX":this.players[i].toX=Number(e.user.getVariable("pX"));continue;case"pY":this.players[i].toY=Number(e.user.getVariable("pY"));continue;case"fr":this.players[i].fr=Number(e.user.getVariable("fr"));continue;case"pH":this.players[i].headType=Number(e.user.getVariable("pH"));continue;case"pI":this.players[i].handType=Number(e.user.getVariable("pI"));continue;case"scX":this.players[i].xScale=e.user.getVariable("scX");continue;case"colour":this.players[i].colour=e.user.getVariable("colour");continue;case"colour2":this.players[i].colour2=e.user.getVariable("colour2");continue;case"xp":this.players[i].xp=e.user.getVariable("xp");continue;case"kudos":this.players[i].kudos=e.user.getVariable("kudos");continue;case"wins":this.players[i].wins=e.user.getVariable("wins");continue;case"matches":this.players[i].matches=e.user.getVariable("matches");continue;case"host":this.players[i].host=e.user.getVariable("host");continue;case"hostTime":this.players[i].hostTime=e.user.getVariable("hostTime"),"Game"==this.locate&&this.parent.game&&this.parent.game.timer.setTime(this.players[i].hostTime);continue;case"ping":this.players[i].ping=e.user.getVariable("ping");continue;case"stopX":this.players[i].oldX=this.players[i].xPos;continue;case"stopY":this.players[i].oldY=this.players[i].yPos;continue;case"xPos":this.players[i].xPos=e.user.getVariable("xPos");continue;case"yPos":this.players[i].yPos=e.user.getVariable("yPos");continue;case"time":this.players[i].time=e.user.getVariable("time"),this.players[i].time>0&&(this.debugTrace(this.players[i].userName+" has just beat the level."),"Game"==this.locate&&this.parent.game.iAmDone(this.players[i].userName));continue;default:continue}return void("Lobby"==this.locate?this.parent.lobby.updateBar(i):this.locate)}}parseDataString(t,e){var s=null,i=0;for(i=0;i<this.players.length;i++)if(this.players[i].userName==t){if(s=this.players[i],this.players[i].userName==this.player.userName)return;break}s.tCounter=0,s.oldX=s.xPos,s.oldY=s.yPos,s.xV=0,s.yV=0;var h=0,a=0,r=0,n=0;for(i=0;i<e.length;i++)"x"==e.substr(i,1)&&(h=Number(i)),"y"==e.substr(i,1)&&(a=Number(i)),"f"==e.substr(i,1)&&(r=Number(i)),"q"==e.substr(i,1)&&(n=Number(i));var l=!1,o=!1;a-h!=1&&(s.xPos=Number(e.substr(h+1,a-h-1)),l=!0,y.Z.__internal.avm2.Runtime.trace("xPos"+s.xPos)),r-a!=1&&(s.yPos=Number(e.substr(a+1,r-a-1)),o=!0,y.Z.__internal.avm2.Runtime.trace("yPos"+s.yPos)),n-r!=1&&(s.fr=Number(e.substr(r+1,n-r-1)),y.Z.__internal.avm2.Runtime.trace("fr"+s.fr)),s.tCounterGoal=6+Math.floor(this.currentPing/1e3*30),l?s.xV=(s.xPos-s.oldX)/s.tCounterGoal:(s.xV=0,s.oldX=s.xPos),o?s.yV=(s.yPos-s.oldY)/s.tCounterGoal:(s.yV=0,s.oldY=s.yPos),"Lobby"==this.locate?this.parent.lobby.updateBar(i):this.locate}ping(){this.pingCounter++,this.pingCounter>=90&&(this.pingCounter=0,this.sfs.roundTripBench()),this.hostDuty(),"Game"==this.locate&&this.talkToTheGame(),this.timeOutPlayer()}randomAnimal(){var t=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish");return t[Z.random(t.length-1)]}randomNoun(){var t=new Array("Stadium","Farm","Factory","Park","Lake","Forest","Island","Market","Garden","Bunker");return t[Z.random(t.length-1)]}randomRoadType(){var t=new Array("Rd.","St.","Blvd.","Alley.","Ave.","Ct.","Ln.","Dr.");return t[Z.random(t.length-1)]}removePlayer(t,e){for(var s=NaN,i=!1,h=NaN,a=0;a<this.players.length;a++)if(this.players[a].userName==e){for(s=0;s<this.players.length;s++)if(this.finalList[s]==this.players[a]){this.finalList.splice(s,1);break}if(this.players[a].host){for(i=!1,h=0,s=0;s<this.players.length;s++)a!=s&&(i?(this.players[s].ping<this.players[h].ping||this.players[s].ping==this.players[h].ping&&this.players[s].id<this.players[h].id)&&(h=Number(s)):(i=!0,h=Number(s)));this.players[h].userName==this.player.userName?(this.player.host=!0,this.debugTrace("You have been made host of this address! (Ping:"+this.player.ping+")"),this.setRoomVariable("host",this.playerObject.userName),"Lobby"==this.locate?this.setRoomVariable("state","Lobby"):this.setRoomVariable("state","Game"),this.chooseUserLevel()):this.players[h].host=!0}return"Lobby"==this.locate&&this.parent.lobby.removeBar(a),"Game"==this.locate&&this.parent.game.tRemovePlayer(this.players[a].userName),this.players[a]=null,void this.players.splice(a,1)}}resetTimeToGo(){this.timeToGo=this.timeToGoStart,this.timeToGoCounter=0}sendMessage(t){this.sfs.sendPublicMessage(t)}sendPrivateMessage(t,e){this.sfs.sendPrivateMessage(t,e)}sendTime(){this.broadcastPlayerPing()}setRoomVariable(t,e){y.Z.__internal.avm2.Runtime.trace("SET ROOM VARIABLE",t,e);var s=new Array;s.push({name:t,val:e,persistent:!0}),this.sfs.setRoomVariables(s)}setUserVariables(t){this.sfs.setUserVariables(t)}startSingleRoomTimeOut(){this.allAlone=!0,this.allAloneCounter=0}talkToTheGame(){}timeOutPlayer(){}timerHandler(t){this.broadcastPlayerPing()}timerHandler2(t){if(this.timeOutCounter++,this.timeOutCounter>120)return this.dispatchEvent(new R(R.GOTO,"Tubes","TimeOut")),void(this.timeOutCounter=0);if(this.allAlone&&this.allAloneCounter++,(xt.isDown(xt.LEFT)||xt.isDown(xt.RIGHT))&&(this.timeOutCounter=0),this.player){if(!this.player.host)return;return this.players.length>1&&!this.allAlone?(this.timeToGo--,this.timeToGo<-7&&(this.timeToGo=-7),this.timeToGo<0&&"Lobby"==this.locate&&(this.timeToGo=this.timeToGoStart),this.timeToGo>10&&"Game"==this.locate&&(this.timeToGo=-7),(this.timeToGo>25||this.timeToGo<-7)&&(this.timeToGo=25),isNaN(this.timeToGo)&&(this.timeToGo=25)):this.timeToGo=this.timeToGoStart,void(0==this.timeToGo?(this.sendMessage("START"),this.timeToGo=0,this.timeToGoCounter=-1e4):(this.timeToGoCounter=0,5==this.timeToGo&&this.player.host&&this.setRoomVariable("state","Game"),this.sendMessage("TIME "+this.timeToGo)))}}unMutePlayer(t){for(var e=0;e<this.muteList.length;e++)if(this.muteList[e]==t)return this.muteList.splice(e,1),void this.debugTrace(t+" is now unmuted.")}}class bs extends y.Z.flash.display.MovieClip{constructor(){super(),this.isSinglePlayer=!1,this.xpLevels=41,this.xpBase=125,this.ranks=new Array,this.levelNames=new Array("Novice","Walker","Jogger","Runner","Sprinter","Windwalker","Speedrunner","Marathoner","Earthrunner","Pacer","Drifter","Voyager","Nimble","Expeditive","Quick","Outlast","Spring","Survivor","Swift","Trekker","Tour","Grace","Agility","Fast","Zoom","Fervor","Rush","Fly","Momentum","Haste","Fleetness","Forge","Drive","Boost","Velocity","Swiftness","Accelerator","Impel","Breakneck","Run Master","Grandmaster","Grandmaster")}getLevelByXP(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return e-1;return this.ranks.length-1}getRankByXP(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.levelNames[e-1];return this.levelNames[this.ranks.length-1]}getXPBetweenLevels(t){for(var e=0;e<this.ranks.length;e++)if(t<this.ranks[e])return this.ranks[e]-this.ranks[e-1];return 99999999}gotRoomList(){}init(t){y.Z.__internal.avm2.Runtime.trace("MP-> INIT"),this.initRanks(),this.playerObject=t,this.multiplayerMenu=new ds,this.addChild(this.multiplayerMenu),this.multiplayerMenu.init(this.playerObject),this.isSinglePlayer=!0,this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}init2(t){this.playerObject=t,this.singlePlayerMenu=new ps,this.addChild(this.singlePlayerMenu),this.singlePlayerMenu.init(this.playerObject),this.isSinglePlayer=!1}initRanks(){for(var t=0;t<this.xpLevels;t++)0==t?this.ranks.push(0):this.ranks.push(this.ranks[t-1]+t*this.xpBase);this.ranks.push(this.ranks[this.ranks.length-1])}ping(t){this.game&&this.game.tConnected&&this.tubes&&this.tubes.ping()}quickJoinRoom(){this.startGame()}rejoin(){this.step(3),y.Z.__internal.avm2.Runtime.trace("MP-> REJOIN"),this.updateUserCount(this.tubes.getRoomCount(),this.tubes.getRoomMax())}startGame(){}startQPM(){this.tubes=new gs,this.tubes.init(this.playerObject),this.addChild(this.tubes)}startRoom(){}startSinglePlayer(){this.game=new Wt,this.game.singlePlayer=!0,this.isSinglePlayer=!0,this.game.init(this.tubes,this.playerObject),this.addChild(this.game),this.game.startSinglePlayer()}step(t){y.Z.__internal.avm2.Runtime.trace("MP-> QP STEP",t),this.quickPlayLobby&&(y.Z.__internal.avm2.Runtime.trace("MP-> QP STEP TRIGGER",t),this.quickPlayLobby.step=t)}updateUserCount(t,e){y.Z.__internal.avm2.Runtime.trace("MP-> UPDATE USER",t,e),this.quickPlayLobby&&this.quickPlayLobby.updateUserCount(t,e)}}class fs extends y.Z.flash.display.MovieClip{constructor(){super(),this.id=0,this.userName="bob"}}class xs extends y.Z.flash.display.MovieClip{constructor(){super()}init(){this.okayButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay)}okay(t){this.okayButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}class Ls extends y.Z.flash.display.Bitmap{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;super(new y.Z.flash.display.BitmapData(s>0?s:t.height,e,!0,0)),this._mustRender=!1,this._texture=t,this._cameraHeight=e,this._cameraY=e,this._oldCamY=0,this._rect=new y.Z.flash.geom.Rectangle(0,0,this._texture.width,this._texture.height),this._topIndex=0,this._bottomIndex=0,this._renderPoint=new y.Z.flash.geom.Point,this.preRender()}get cameraHeight(){return this._cameraHeight}set cameraHeight(t){this._cameraHeight=t,this._mustRender=!0}get cameraY(){return this._cameraY}set cameraY(t){this._cameraY=t,this._mustRender=!0}destroy(){this._texture.dispose(),this._texture=null,this.bitmapData.dispose(),this.bitmapData=null}preRender(){for(this._renderHeight=this.bitmapData.height,this._renderPoint.y=0,this.bitmapData.lock();this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this._renderHeight=this._renderHeight-this._rect.height,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex=this._bottomIndex+this._rect.height,this._bottomIndex>=this._texture.height&&(this._bottomIndex=0);this.bitmapData.unlock()}render(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._mustRender){var t=this._oldCamY-this._cameraY;if(this._oldCamY=this._cameraY,0!=t){if(t>this.bitmapData.height&&(t=this.bitmapData.height),this._renderHeight=Math.abs(t),this.bitmapData.lock(),this.bitmapData.scroll(0,t),t<0)for(this._renderPoint.y=this.bitmapData.height+t;this._renderHeight>0;)this._rect.y=this._bottomIndex,this._renderHeight>this._texture.height-this._bottomIndex?this._rect.height=this._texture.height-this._bottomIndex:this._rect.height=this._renderHeight,this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y+this._rect.height,this._bottomIndex>=this._texture.height?this._bottomIndex=this._rect.height-(this._texture.height-this._bottomIndex):this._bottomIndex=this._bottomIndex+this._rect.height,this._topIndex>=this._texture.height?this._topIndex=this._rect.height-(this._texture.height-this._topIndex):this._topIndex=this._topIndex+this._rect.height;else for(;this._renderHeight>0;)this._renderHeight>this._texture.height-(this._texture.height-this._topIndex)?(this._rect.height=this._texture.height-(this._texture.height-this._topIndex),this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=t-this._rect.height):(this._rect.height=this._renderHeight,this._rect.y=this._topIndex-this._rect.height,this._renderPoint.y=0),this.bitmapData.copyPixels(this._texture,this._rect,this._renderPoint),this._renderHeight=this._renderHeight-this._rect.height,this._renderPoint.y=this._renderPoint.y-this._rect.height,this._bottomIndex<=0?this._bottomIndex=this._texture.height-(this._rect.height-this._bottomIndex):this._bottomIndex=this._bottomIndex-this._rect.height,this._topIndex<=0?this._topIndex=this._texture.height-(this._rect.height-this._topIndex):this._topIndex=this._topIndex-this._rect.height;this.bitmapData.unlock(),this._mustRender=!1}}}}class ws extends y.Z.flash.display.MovieClip{constructor(){super()}}class Cs extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1),this.parent.createPlate(this)}frame1(){this.stop()}}class Ss extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createPopSpikes(this)}}class Ts extends y.Z.flash.display.MovieClip{constructor(){super(),this.numPlayers=0,this.step=0,this.totalPlayers=1,this.gameReady=!1,this.startCounter=0}buttons(t){switch(t.currentTarget){case this.backToMenuButton:this.dispatchEvent(new R(R.GOTO,"QuickPlayLobby","Back"))}}init(){this.backToMenuButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons,!1,0,!0),this.step=0,this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0)}kill(){this.backToMenuButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.buttons)}ping(t){this.gameReady&&this.dispatchEvent(new R(R.GOTO,"QuickPlayLobby","OpenLobby")),0==this.step&&(this.connectionMeter.matcher.width=N.ease(this.connectionMeter.matcher.width,0,.3),this.playerCountText.text="Connecting..."),1==this.step&&(this.connectionMeter.matcher.width=N.ease(this.connectionMeter.matcher.width,20,.3),this.playerCountText.text="Poking Server..."),2==this.step&&(this.connectionMeter.matcher.width=N.ease(this.connectionMeter.matcher.width,182,.3),this.playerCountText.text="Finding Room..."),3==this.step&&(this.connectionMeter.matcher.width=N.ease(this.connectionMeter.matcher.width,345+166/this.totalPlayers*this.numPlayers,.3)),4==this.step&&(this.connectionMeter.matcher.width=N.ease(this.connectionMeter.matcher.width,511,.3),this.gameReady=!0)}updateUserCount(t,e){this.playerCountText.text=t+"/"+e+" Players Found",this.numPlayers=t,this.totalPlayers=e,t>1&&(this.gameReady=!0,this.step=4)}}class Ms extends y.Z.flash.display.MovieClip{constructor(){super()}}class Es extends F{constructor(){super(),this.isMain=!1,this.playerXMax=8,this.l=!1,this.time=0,this.teleporting=!1,this.id=5,this.levelNum=0,this.d=!1,this.playerYMax=15,this.hitHalf=!1,this.r=!1,this.gameMode=0,this.u=!1,this.beltSpeed=2,this.userName="hello",this.colour=Z.randomColour(),this.colour2=Z.randomColour()}doTheJump(){this.jumpCounter++,this.holdUp=!0,0==this.yLove&&this.jumpLevel&&!this.hitHalf&&(this.playerJump=!0,this.jumpLevel=!1,this.yVel=this.hops,this.yLove=1)}handleHalfTiles(){var t=null;this.hitHalf=!1;for(var e=0;e<this.curLevel.halfTiles.length;e++)t=this.curLevel.halfTiles[e],this.hitTestObject(t)&&(this.hitHalf=!0,0==this.jumpLevel?this.xVel=0:this.holdDown||(this.xVel=.7*this.xVel))}hitBlock(t){}initPlayer(){this.xF=1,this.dXVel=5,this.xMax=20,this.playerXMax=8,this.playerYMax=20,this.xAcc=.8}levelInteraction(){for(var t=0;t<this.curLevel.bouncers.length;t++)if(this.hitTestObject(this.curLevel.bouncers[t])&&1==this.curLevel.bouncers[t].currentFrame)return this.yVel=-20,this.playerJump=!0,this.jumpLevel=!1,this.yLove=1,void this.curLevel.bouncers[t].gotoAndPlay(2)}movePlayer(){this.u?this.holdUp||(this.doTheJump(),this.holdUp=!0):(this.holdUp=!1,this.jumpCounter=0),this.d?(this.holdDown=!0,this.xF=.9,this.scaleY=.5):(this.holdDown=!1,this.xF=.7,this.scaleY=1),this.l?this.holdDown||this.xVel>0-this.playerXMax&&(this.xVel=this.xVel-this.xAcc):this.r&&(this.holdDown||this.xVel<this.playerXMax&&(this.xVel=this.xVel+this.xAcc)),this.l||this.r?(this.xF=1,this.holdDown&&!this.hitHalf&&(this.xVel=.95*this.xVel)):this.xF=.5}ping(){this.playerSize=1,this.typeOf="deadaphant",this.thudTresh=10,this.movePlayer(),this.handleHalfTiles(),this.updateTileInteraction(),this.levelInteraction(),this.teleporterInteraction()}teleporterInteraction(){var t=0;if(this.teleporting){for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return;this.teleporting=!1}else for(t=0;t<this.curLevel.teleporters.length;t++)if(this.hitTestObject(this.curLevel.teleporters[t]))return this.teleporting=!0,this.x=this.curLevel.teleporters[t].partner.x,this.y=this.curLevel.teleporters[t].partner.y,this.parent.emitBeam(this.curLevel.teleporters[t].x-17,this.curLevel.teleporters[t].y,25),void this.parent.emitBeam(this.x-17,this.y,25)}touchBlock(t){5==t.typeOf?this.xVel=this.xVel+(0-this.beltSpeed):6==t.typeOf?this.xVel=this.xVel+this.beltSpeed:this.xVel>this.playerXMax?this.xVel=this.playerXMax:this.xVel<0-this.playerXMax&&(this.xVel=0-this.playerXMax)}}class ks extends y.Z.flash.media.Sound{constructor(){super()}}class Ps{constructor(){}}g()(Ps,"HORIZONTAL","horizontal"),g()(Ps,"VERTICAL","vertical");class Os extends y.Z.flash.display.MovieClip{constructor(){super(),this._position=0,this._maxScrollPosition=1,this._thumbHeld=!1,this._oldPosition=0,this.addEventListener(y.Z.flash.events.Event.ADDED_TO_STAGE,this.handleAddedToStage,!1,0,!0),this._position=0,this._maxScrollPosition=1}handleAddedToStage(t){this.removeEventListener(y.Z.flash.events.Event.ADDED_TO_STAGE,this.handleAddedToStage),this._position=0,this._maxScrollPosition=1,this.update(),this.thumb_mc.y=this.bar_mc.y,this.addEventListener(y.Z.flash.events.MouseEvent.MOUSE_DOWN,this.handleMouseDown,!1,0,!0),this.stage.addEventListener(y.Z.flash.events.MouseEvent.MOUSE_UP,this.handleMouseUp,!1,0,!0),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.handleEnterFrame,!1,0,!0)}handleEnterFrame(t){this._thumbHeld&&(this.thumb_mc.y=this.mouseY-this.thumb_mc.height/2,this.thumb_mc.y>this.bar_mc.height-this.thumb_mc.height&&(this.thumb_mc.y=this.bar_mc.height-this.thumb_mc.height),this.thumb_mc.y<this.bar_mc.y&&(this.thumb_mc.y=this.bar_mc.y),this._oldPosition=this._position,this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.dispatchEvent(new mt(Ps.VERTICAL,this._position-this._oldPosition,this._position)))}handleMouseDown(t){this._thumbHeld=!0}handleMouseUp(t){this._thumbHeld=!1}get height(){return this.bar_mc.height}get maxScrollPosition(){return this._maxScrollPosition}set maxScrollPosition(t){this._maxScrollPosition=t,this._maxScrollPosition<0&&(this._maxScrollPosition=0),this._position=this._maxScrollPosition*(this.thumb_mc.y/(this.bar_mc.height-this.thumb_mc.height)),this.update()}get on(){return this.thumb_mc.visible}set on(t){this.thumb_mc.visible=t,this.buttonMode=t}get percent(){return 0==this._maxScrollPosition?0:this._position/this._maxScrollPosition}get scrollPosition(){return this._position}set scrollPosition(t){this._position=t,this._position>this._maxScrollPosition&&(this._position=this._maxScrollPosition),this._position<0&&(this._position=0),this.update()}update(){this.thumb_mc.y=this._position/this._maxScrollPosition*(this.bar_mc.height-this.thumb_mc.height),this.on=this._position!=this._maxScrollPosition}}class Ns extends Os{constructor(){super()}}class Rs extends y.Z.flash.media.Sound{constructor(){super()}}class As extends y.Z.flash.media.Sound{constructor(){super()}}class Bs extends y.Z.flash.display.MovieClip{constructor(){super(),this.smashState=0,this.parent.createFallingSpike(this),this.smashState=0}}class _s extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createSpike(this)}}class Is extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createStartPoint(this)}}class js extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createSwingingAxe(this)}}class Zs extends y.Z.flash.media.Sound{constructor(){super()}}class Fs extends y.Z.flash.display.MovieClip{constructor(){super(),this.letter="a",this.type="1",this.parent.createTeleporter(this)}init(){this.letter=this.name.substr(1,1),this.type=this.name.substr(2,1),"1"==this.type&&(this.partner=this.parent["t"+this.letter+"2"]),"2"==this.type&&(this.partner=this.parent["t"+this.letter+"1"]),this.lett.text=this.letter}}class Ds extends y.Z.flash.media.Sound{constructor(){super()}}class Gs extends y.Z.flash.display.MovieClip{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.setCounter=0,this.prevChar="A",this.characters=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0"," ","!",",",".","_",":"),this.startingCharacter=2+Z.random(this.characters.length-3),this.curCharacter=this.startingCharacter,this.prevCharacter=this.startingCharacter-1,this.goalCharacter=Z.random(this.characters.length-1),this.curChar=this.characters[this.startingCharacter],this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.ping,!1,0,!0),this.goalCharacter=null==t?this.getPosition(this.name):this.getPosition(t),e&&(this.startingCharacter=this.goalCharacter)}checkLetters(){var t=this.goalCharacter-this.curCharacter;t<0&&(t+=this.characters.length),this.setCounter++,t>=3?(this.setCounter=0,this.swapLetters(),this.filters=new Array(new y.Z.flash.filters.BlurFilter(0,8,1))):t>=2?(this.filters=new Array(new y.Z.flash.filters.BlurFilter(0,5,1)),this.setCounter>3&&(this.setCounter=0,this.swapLetters())):t>=1?(this.filters=new Array,this.setCounter>5&&(this.setCounter=0,this.swapLetters())):0==t&&this.currentFrame==this.totalFrames&&(this.setCharacters(),this.stop())}getPosition(t){for(var e=0;e<this.characters.length;e++)if(t==this.characters[e])return e;return 0}newCharacter(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s=this.goalCharacter;"^"==t&&(t=this.characters[Z.random(36)]),this.goalCharacter=this.getPosition(t),e&&(this.curCharacter=this.goalCharacter,this.prevCharacter=s,this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters(),this.gotoAndPlay(1))}ping(t){this.checkLetters()}setCharacters(){this.above.let.text=this.prevChar,this.topBack.let.text=this.curChar,this.belowNow.let.text=this.curChar,this.bottomBack.let.text=this.prevChar}swapLetters(){this.gotoAndPlay(1),this.prevCharacter=this.curCharacter,this.curCharacter++,this.curCharacter==this.characters.length&&(this.curCharacter=0),this.curChar=this.characters[this.curCharacter],this.prevChar=this.characters[this.prevCharacter],this.setCharacters()}}class Vs extends y.Z.flash.display.MovieClip{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super();var e=null;this.tickers=new Array,this.word="",this.bg.visible=!1,null==t&&(t=this.name),this.word=t;for(var s=0;s<t.length;s++)(e=new Gs(t.substr(s,1),!0)).x=s*e.width+2,e.y=0,this.addChild(e),this.tickers.push(e)}changeString(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var s=null;this.word=t;for(var i=0;i<this.tickers.length;i++)s=this.tickers[i],t.substr(i,1)!=s.characters[s.goalCharacter]&&s.newCharacter(t.substr(i,1),e);if(t.length>this.tickers.length)for(i=Number(this.tickers.length);i<t.length;i++)(s=new Gs(t.substr(i,1),!0)).x=i*s.width+2,s.y=0,this.addChild(s),this.tickers.push(s);var h="";for(i=0;i<this.tickers.length;i++)h+=this.tickers[i].characters[this.tickers[i].goalCharacter];y.Z.__internal.avm2.Runtime.trace("OWRDO",h),this.word=h}}class Us extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createTile(this)}}class Hs extends y.Z.flash.display.MovieClip{constructor(){super()}init(){this.okayButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay)}okay(t){this.okayButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.okay),this.parent&&this.parent.removeChild(this)}}class Ks extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createTreadmillBlock(this,"L")}}class Xs extends y.Z.flash.display.MovieClip{constructor(){super(),this.parent.createTreadmillBlock(this,"R")}}class qs extends y.Z.flash.display.MovieClip{constructor(){super()}ping(){this.cA.ping(),this.cB.ping()}}class Ys extends y.Z.flash.media.Sound{constructor(){super()}}class Ws extends y.Z.flash.media.Sound{constructor(){super()}}class zs extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,309,this.frame310)}frame1(){this.gotoAndPlay(2)}frame310(){this.stop(),this.dispatchEvent(new R(R.GOTO,"endIntro"," "))}}class Js extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class Qs extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(1,this.frame2)}frame2(){this.stop()}}class $s extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,19,this.frame20)}frame1(){this.stop()}frame20(){this.stop()}}class ti extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class ei extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class si extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class ii extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class hi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class ai extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,30,this.frame31)}frame1(){this.stop()}frame31(){this.stop()}}class ri extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class ni extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class li extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class oi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class ui extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(95,this.frame96)}frame96(){this.stop()}}class ci extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,62,this.frame63)}frame1(){this.stop()}frame63(){this.stop()}}class di{constructor(){g()(this,"userName",void 0),g()(this,"colour",void 0),g()(this,"colour2",void 0),g()(this,"headType",void 0),g()(this,"handType",void 0),g()(this,"xp",void 0),g()(this,"kudos",void 0),g()(this,"matches",void 0),g()(this,"wins",void 0),g()(this,"jumps",void 0),g()(this,"deaths",void 0),g()(this,"gameDeaths",void 0),g()(this,"gameLevel",void 0),g()(this,"gameName",void 0),g()(this,"gameTime",void 0),g()(this,"bestTime",void 0),g()(this,"ping",void 0),g()(this,"signs",void 0),g()(this,"achs",void 0)}}class pi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,1,this.frame2,2,this.frame3)}achCenter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var e=null;0==this.achievements[t.achNum].got&&(this.achievements[t.achNum].got=!0,this.playerObj.achs[t.achNum]=!0,e=new C,this.addChild(e),kt.playSound("AchSound"),t.achNum>=24?(e.ach.box.handGear.gotoAndStop(t.achNum-23),e.ach.box.head.visible=!1,e.ach.box.head2.visible=!1):(e.ach.box.head.gotoAndStop(t.achNum+1),e.ach.box.handGear.visible=!1),e.ach.achTitle.text=this.achievements[t.achNum].achName)}agiLoginPop(t){this.agi&&(this.agi.showLogin(this.loginPopCheck,this),this.agiLogin.hitA.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.agiLoginPop))}checkDomain(){return!!this.agDomain}closeHandler(){y.Z.__internal.avm2.Runtime.trace("CLOSING!"),this.isHS?(this.multiplayer&&this.contains(this.multiplayer)&&this.multiplayer.singlePlayerMenu.addListeners(),this.isHS=!1):(this.isLoggedIn=this.agi.isLoggedIn(),kt.playSound("Cheer2"),this.isLoggedIn&&this.loadGame(),this.agiLogin.hitA.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.fixUpAgiLogin())}deleteAllData(){var t=new Object;this.savedGame.data.saveObj=t,this.savedGame.data.hasSaved=!1,this.savedGame.flush(),this.loadGame(),this.saveGame()}endMenus(){this.endUIBackground(),kt.stopAllSounds(),this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}endUIBackground(){this.removeChild(this.uiBackground),this.uiBackground=null,this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.uiBG)}fixUpAgiLogin(){this.agiLogin&&this.contains(this.agiLogin)&&(this.isLoggedIn?this.agiLogin.disp.htmlText="You are logged in as <FONT COLOR='#"+Z.toHex(this.playerObj.colour)+"'>"+this.playerObj.userName+"</FONT>! [Click to Logout]":this.agiLogin.disp.htmlText="You are currently not logged in [Click to Login]")}frame1(){this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.muteButton.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut,!1,0,!0),this.stop(),this.url=this.stage.loaderInfo.url,this.urlStart=this.url.indexOf("://")+3,this.urlEnd=this.url.indexOf("/",this.urlStart),this.domain=this.url.substring(this.urlStart,this.urlEnd),this.LastDot=this.domain.lastIndexOf(".")-1,this.domEnd=this.domain.lastIndexOf(".",this.LastDot)+1,this.domain=this.domain.substring(this.domEnd,this.domain.length),y.Z.__internal.avm2.Runtime.trace("DOMAIN = "+this.domain),this.currentDomain=this.domain,this.agDomain=!0}frame2(){this.play()}frame3(){xt.initialize(this.stage,!0),this.stop(),this.myCountry="Other",this.achievements=new Array,this.achievements.push(new L("Underground","Finish the underground portion")),this.achievements.push(new L("Stadium","Finish the stadium portion")),this.achievements.push(new L("Lab","Complete the lab stages")),this.achievements.push(new L("Outside","Complete the escape sequence")),this.achievements.push(new L("Bridge","Complete the bridge")),this.achievements.push(new L("Limits","Reach the city limits and win")),this.achievements.push(new L("Jump","Jump 1,000 times")),this.achievements.push(new L("Fill","Fill FLOW to maximum")),this.achievements.push(new L("Burn","Burn a full FLOW bar")),this.achievements.push(new L("Slide","Slide for more than 8 blocks")),this.achievements.push(new L("Bounce","Bounce 10 times on a platform")),this.achievements.push(new L("Survive","Go 10 screens without dying")),this.achievements.push(new L("Rewind","Rewind for more than 5 seconds")),this.achievements.push(new L("Freewind","Don't die before level 11")),this.achievements.push(new L("Mindwind","Don't die before the extermination room level 16, then die")),this.achievements.push(new L("Signage","Collect a caution sign")),this.achievements.push(new L("SignEight","Collect 25% of caution signs")),this.achievements.push(new L("SignFifteen","Collect 50% of caution signs")),this.achievements.push(new L("SignTwentyFour","Collect 75% of caution signs")),this.achievements.push(new L("SignAll","Collect all caution signs")),this.achievements.push(new L("Fast","Beat single player in 15 minutes")),this.achievements.push(new L("Faster","Beat single player in 12 minutes")),this.achievements.push(new L("Fastest","Beat single player in 9 minutes")),this.achievements.push(new L("Perfect","Beat single player in 7 minutes")),this.achievements.push(new L("First","Win a multiplayer race")),this.achievements.push(new L("Ten","Win ten races")),this.achievements.push(new L("Hundred","Win one hundred races")),this.achievements.push(new L("Kudomonger","Earn 10 kudos")),this.achievements.push(new L("Kudomonster","Earn 100 kudos")),this.achievements.push(new L("Kudomaster","Earn 250 kudos")),this.achievements.push(new L("Matched","Run 5 Races")),this.achievements.push(new L("Matchy","Run 25 Races")),this.achievements.push(new L("Matchier","Run 100 Races")),this.achievements.push(new L("Matchiest","Run 250 Races")),this.achievements.push(new L("Reel","Earn 5 kudos in one race")),this.achievements.push(new L("Rack","Earn 7 kudos in one race")),this.achievements.push(new L("Runner","Reach Level 3")),this.achievements.push(new L("Windwalker","Reach Level 5")),this.achievements.push(new L("Earthrunner","Reach Level 8")),this.achievements.push(new L("Drifter","Reach Level 10")),this.achievements.push(new L("Outlast","Reach Level 15")),this.achievements.push(new L("Tour","Reach Level 20")),this.achievements.push(new L("Fervor","Reach Level 25")),this.achievements.push(new L("Fleetness","Reach Level 30")),this.achievements.push(new L("Swiftness","Reach Level 35")),this.achievements.push(new L("Breakneck","Reach Level 38")),this.achievements.push(new L("Runmaster","Reach Level 39")),this.achievements.push(new L("Grandmaster","Reach Level 40")),this.peopleNames=new Array("John","Tony","Dan","Fil","Ian","Mike","Larry","Krin","Con","Louissi","Justin"),this.titles=new Array("Rifle","Cannon","Frostbite","Wolf","Claws","Saw","Shock"),this.animals=new Array("Donkey","Llama","Platypus","Hedgehog","Giraffe","Velociraptor","Otter","Hippo","Elephant","Kangaroo","Marmot","Falcon","Tiger","Cheetah","Muskrat","Deer","Badger","Lemur","Possum","Wildebeest","Whale","Dolphin","Swordfish"),this.playerObj=new di,this.playerObj.ping=0,this.savedGame=y.Z.flash.net.SharedObject.getLocal("Exit-Path"),this.loadGame(),this.saveGame(),this.isLoggedIn=!1,this.multiplayer=new bs,this.singlePlayer=!0,this.agIntro=new E,this.addChild(this.agIntro),this.agiLogin=new M,this.agiLogin.hitA.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.agiLoginPop),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0,this.twitterLink=new y.Z.flash.net.URLRequest("http://twitter.com/armorgames/"),this.armorGamesLink=new y.Z.flash.net.URLRequest("http://armorgames.com/"),this.exitPathLink=new y.Z.flash.net.URLRequest("http://armorgames.com/play/5917/exit-path"),this.facebookLink=new y.Z.flash.net.URLRequest("http://www.facebook.com/pages/Armor-Games/19522089061"),this.addEventListener(R.GOTO,this.hub,!1,0,!0),this.addEventListener(R.SEND,this.messageCenter,!1,0,!0),this.addEventListener(w.SEND,this.achCenter,!1,0,!0),this.bitmapData=new y.Z.flash.display.BitmapData(800,500),this.bitmapData.draw(this.multiplayer,null,null,null),this.rewind=new Ms,this.psb=new Ls(this.bitmapData,500,800),this.clearBitmap=new y.Z.flash.display.BitmapData(800,500,!0,0)}getAGIName(){var t=null;return this.agi?(t=this.agi.getUserProfile(),console.log(t.username),t.username):this.getRandomName()}getAGISaver(){this.agi&&this.contains(this.agi)}getMyStuff(t){t.success,t.data}getRandomName(){return"Guest_"+this.animals[Z.random(this.animals.length)]+Z.random(1e5)}highscoresHandler(){}highscoreSub(){}hub(t){var e=NaN;if(y.Z.__internal.avm2.Runtime.trace(t.sender,"->",t.msg),"Twitter"==t.sender&&y.Z.flash.net.navigateToURL(this.twitterLink,"_blank"),"Facebook"==t.sender&&y.Z.flash.net.navigateToURL(this.facebookLink,"_blank"),"ArmorGames"==t.sender&&y.Z.flash.net.navigateToURL(this.armorGamesLink,"_blank"),"ExitPathLink"==t.sender&&y.Z.flash.net.navigateToURL(this.exitPathLink,"_blank"),"endIntro"==t.sender)return this.mainMenu=new os(this.agDomain),this.startMenus(),this.addChild(this.mainMenu),void this.startMainMenu();if("SaveGame"==t.sender&&this.saveGame(),"DeleteAllData"==t.sender&&this.deleteAllData(),"LevelEnd"==t.sender&&(this.multiplayer.game.removeChild(this.multiplayer.game.levelEnd),this.multiplayer.game.levelEnd=null,this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startLowMenu(),this.multiplayer.lobby=new ns,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.lobby.returnFromGame()),"MainMenu"==t.sender)switch(this.killAgiLogin(),t.msg){case"Multiplayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new bs,this.addChild(this.multiplayer),this.multiplayer.init(this.playerObj),this.isLoggedIn||(this.notLoggedIn=new xs,this.addChild(this.notLoggedIn),this.notLoggedIn.init());break;case"SinglePlayer":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.multiplayer=new bs,this.addChild(this.multiplayer),this.multiplayer.init2(this.playerObj);break;case"Flair":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.flairMenu=new yt,this.addChild(this.flairMenu),this.flairMenu.init(this.playerObj,this.achievements);break;case"CharacterEdit":this.mainMenu.kill(),this.removeChild(this.mainMenu),this.mainMenu=null,this.characterSelection=new q(this.playerObj),this.addChild(this.characterSelection),this.charSelectFromMainMenu=!0}if("MultiplayerMenu"==t.sender)switch(t.msg){case"Back":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new os(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"QuickPlay":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.quickPlayLobby=new Ts,this.multiplayer.quickPlayLobby.init(),this.multiplayer.addChild(this.multiplayer.quickPlayLobby),this.multiplayer.startQPM(),this.startLowMenu(),this.killAgiLogin();break;case"CharacterSelection":this.multiplayer.multiplayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu=null,this.multiplayer.characterSelection=new q(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!0}if("Tubes"==t.sender)switch(t.msg){case"TimeOut":switch(kt.stopAllSounds(),this.multiplayer.tubes.locate){case"Lobby":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null;break;case"Game":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null;break;case"QPL":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null}this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new ds,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.timeOutWindow=new Hs,this.addChild(this.timeOutWindow),this.timeOutWindow.init()}if("FlairMenu"==t.sender)switch(t.msg){case"Back":this.flairMenu.kill(),this.removeChild(this.flairMenu),this.flairMenu=null,this.mainMenu=new os(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu()}if("SinglePlayerMenu"==t.sender)switch(t.msg){case"BackButton":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.removeChild(this.multiplayer),this.multiplayer=null,this.mainMenu=new os(this.agDomain),this.addChild(this.mainMenu),this.startMainMenu();break;case"Delete":this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameDeaths=0,this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"StartGame":this.endMenus(),this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.startSinglePlayer();break;case"ViewHighscores":this.highscoresHandler();break;case"CharacterSelection":this.multiplayer.singlePlayerMenu.kill(),this.multiplayer.removeChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu=null,this.multiplayer.characterSelection=new q(this.playerObj),this.multiplayer.addChild(this.multiplayer.characterSelection),this.charSelectFromMainMenu=!1,this.charSelectFromMulti=!1}if("CharacterSelection"==t.sender)switch(t.msg){case"Back":if(this.charSelectFromMainMenu)return this.characterSelection.kill(),this.removeChild(this.characterSelection),this.characterSelection=null,this.mainMenu=new os(this.agDomain),this.addChild(this.mainMenu),void this.startMainMenu();this.multiplayer.characterSelection.kill(),this.multiplayer.removeChild(this.multiplayer.characterSelection),this.multiplayer.characterSelection=null,this.charSelectFromMulti?(this.multiplayer.multiplayerMenu=new ds,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj)):(this.multiplayer.singlePlayerMenu=new ps,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj))}if("QuickPlayLobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.multiplayerMenu=new ds,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj),this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null;break;case"StartGame":this.endMenus(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.game.reset(),this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes);break;case"OpenLobby":this.endUIBackground(),this.multiplayer.quickPlayLobby.kill(),this.multiplayer.removeChild(this.multiplayer.quickPlayLobby),this.multiplayer.quickPlayLobby=null,this.multiplayer.lobby=new ns,this.multiplayer.addChild(this.multiplayer.lobby),this.multiplayer.lobby.init(this.multiplayer.tubes),this.multiplayer.tubes.locate="Lobby",this.multiplayer.addChild(this.multiplayer.tubes)}if("Lobby"==t.sender)switch(t.msg){case"Back":this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill(),this.multiplayer.lobby=null,this.multiplayer.tubes.disconnect(),this.multiplayer.removeChild(this.multiplayer.tubes),this.multiplayer.tubes.kill(),this.multiplayer.tubes=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.multiplayerMenu=new ds,this.multiplayer.addChild(this.multiplayer.multiplayerMenu),this.multiplayer.multiplayerMenu.init(this.playerObj);break;case"StartGame":this.multiplayer.tubes.locate="Game",this.multiplayer.contains(this.multiplayer.lobby)&&(this.multiplayer.removeChild(this.multiplayer.lobby),this.multiplayer.lobby.kill()),this.multiplayer.lobby=null,this.multiplayer.game=new Wt,this.multiplayer.game.singlePlayer=!1,this.multiplayer.game.levelNum=this.multiplayer.tubes.myNextLevel,this.multiplayer.addChild(this.multiplayer.game),this.multiplayer.game.init(this.multiplayer.tubes,this.playerObj),this.multiplayer.game.countdownStart(),this.multiplayer.addChild(this.multiplayer.tubes),this.multiplayer.game.initMP()}if("Game"==t.sender)switch(t.msg){case"SinglePlayerMenu":this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new ps,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj);break;case"End":this.lastScore=this.multiplayer.game.timer.getTimeAsTotalSeconds(),(e=this.multiplayer.game.timer.timerCounter)<this.playerObj.bestTime&&(this.playerObj.bestTime=e),this.multiplayer.game.endFadeOut(this.multiplayer.game.fadeOut),this.multiplayer.game.killS(),this.multiplayer.removeChild(this.multiplayer.game),this.multiplayer.game=null,this.startMenus(),this.addChild(this.multiplayer),this.multiplayer.singlePlayerMenu=new ps,this.multiplayer.addChild(this.multiplayer.singlePlayerMenu),this.multiplayer.singlePlayerMenu.init(this.playerObj),this.highscoreSub(),this.saveGame(),this.startLowMenu()}}killAch(t){t.stop(),this.removeChild(t),t=null}killAgiLogin(){this.contains(this.agiLogin)&&this.removeChild(this.agiLogin)}killAGISaver(){this.agi&&this.contains(this.agi)}loadGame(){this.isLoggedIn?this.agi.retrieveUserData(this.yumyum):0==this.savedGame.data.hasSaved||null==this.savedGame.data.hasSaved?this.newGame():this.loadGamez()}loadGamez(){y.Z.__internal.avm2.Runtime.trace("LOAD GAME FROM HISTORY!"),this.playerObj.userName=this.getRandomName(),this.playerObj.colour=Number(this.savedGame.data.saveObj.colour),this.playerObj.colour2=Number(this.savedGame.data.saveObj.colour2),this.playerObj.headType=Number(this.savedGame.data.saveObj.headType),this.playerObj.handType=Number(this.savedGame.data.saveObj.handType),this.playerObj.xp=Number(this.savedGame.data.saveObj.xp),this.playerObj.kudos=Number(this.savedGame.data.saveObj.kudos),this.playerObj.matches=Number(this.savedGame.data.saveObj.matches),this.playerObj.wins=Number(this.savedGame.data.saveObj.wins),this.playerObj.jumps=Number(this.savedGame.data.saveObj.jumps),this.playerObj.deaths=Number(this.savedGame.data.saveObj.deaths),this.playerObj.gameDeaths=Number(this.savedGame.data.saveObj.gameDeaths),this.playerObj.gameLevel=Number(this.savedGame.data.saveObj.gameLevel),this.playerObj.gameTime=Number(this.savedGame.data.saveObj.gameTime),null==this.savedGame.data.saveObj.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(this.savedGame.data.saveObj.gameName),this.playerObj.bestTime=Number(this.savedGame.data.saveObj.bestTime),this.playerObj.signs=this.savedGame.data.saveObj.signs,this.playerObj.achs=this.savedGame.data.saveObj.achs,this.playerObj.ping=0;for(var t=0;t<this.playerObj.achs.length;t++)this.achievements[t].got=this.playerObj.achs[t]}loginPopCheck(t){t.success&&(this.playerObj.userName=t.username,this.fixUpAgiLogin())}messageCenter(t){if(y.Z.__internal.avm2.Runtime.trace(t.sender,"->",t.msg),"StartBox"==t.sender)switch(t.msg){case"go":this.multiplayer.game.countDownFinish()}if("EndCountdown"==t.sender)switch(t.msg){case"End":this.multiplayer.game.endCountdownFinish()}"StartJitter"==t.sender&&(this.addChild(this.psb),this.addChild(this.rewind),this.psb.cameraY=0,this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.something)),"EndJitter"==t.sender&&(this.removeChild(this.rewind),this.removeChild(this.psb),this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.something))}muteOut(){kt.handleMute()}newGame(){y.Z.__internal.avm2.Runtime.trace("NEW GAME!"),this.playerObj.userName=this.getRandomName(),this.playerObj.colour=3394815,this.playerObj.colour2=16777215,this.playerObj.headType=1,this.playerObj.handType=1,this.playerObj.xp=0,this.playerObj.kudos=0,this.playerObj.matches=0,this.playerObj.wins=0,this.playerObj.jumps=0,this.playerObj.deaths=0,this.playerObj.gameDeaths=0,this.playerObj.gameLevel=0,this.playerObj.gameTime=0,this.playerObj.gameName="01234567",this.playerObj.ping=0,this.playerObj.bestTime=9999999999,this.playerObj.signs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1),this.playerObj.achs=new Array(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}preload(t){var e=this.stage.loaderInfo.bytesTotal,s=this.stage.loaderInfo.bytesLoaded,i=s/e*100;this.preloader.l.text="Loading... "+Math.floor(i)+"%",this.preloader.bar.bar.scaleX=i/100,s>=e?(this.preloader.bar.bar.scaleX=1,this.removeEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.preload),this.preloader.playB.addEventListener(y.Z.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.playB.visible=!0):this.preloader.playB.visible=!1}saveGame(){var t=new Object;t.colour=String(this.playerObj.colour),t.colour2=String(this.playerObj.colour2),t.headType=String(this.playerObj.headType),t.handType=String(this.playerObj.handType),t.xp=String(this.playerObj.xp),t.kudos=String(this.playerObj.kudos),t.matches=String(this.playerObj.matches),t.wins=String(this.playerObj.wins),t.jumps=String(this.playerObj.jumps),t.deaths=String(this.playerObj.deaths),t.gameDeaths=String(this.playerObj.gameDeaths),t.gameLevel=String(this.playerObj.gameLevel),t.gameName=String(this.playerObj.gameName),t.gameTime=String(this.playerObj.gameTime),t.bestTime=String(this.playerObj.bestTime),t.signs=this.playerObj.signs,t.achs=this.playerObj.achs,this.savedGame.data.hasSaved=!0,this.savedGame.data.saveObj=t,this.savedGame.flush(),this.isLoggedIn&&this.agi.submitUserDataObject(t),y.Z.__internal.avm2.Runtime.trace("Game Saved!")}something(){this.psb._texture.copyPixels(this.clearBitmap,this.clearBitmap.rect,new y.Z.flash.geom.Point),this.psb._texture.draw(this.multiplayer,null,null,null),this.psb.render(),this.psb.cameraY=this.psb.cameraY-(490+Z.random(20))}startAGILogin(){this.checkDomain()&&(this.addChild(this.agiLogin),this.fixUpAgiLogin())}startIt(t){this.preloader.playB.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.startIt),this.preloader.muteButton.removeEventListener(y.Z.flash.events.MouseEvent.CLICK,this.muteOut),this.gotoAndStop("intro")}startLowMenu(){kt.stopAllSounds(),kt.loopSound("MenuLow")}startMainMenu(){this.getAGISaver(),this.startAGILogin()}startMenus(){this.startUIBackground(),kt.stopAllSounds(),kt.loopSound("MainMenuSong")}startUIBackground(){this.uiBackground=new qs,this.addChild(this.uiBackground),this.addEventListener(y.Z.flash.events.Event.ENTER_FRAME,this.uiBG,!1,0,!0)}uiBG(t){this.mainMenu&&this.uiBackground.ping()}yumyum(t){y.Z.__internal.avm2.Runtime.trace("LOAD GAME FROM AGI");var e=t.data;if(null!=e.colour){this.playerObj.userName=this.getAGIName(),this.playerObj.colour=Number(e.colour),this.playerObj.colour2=Number(e.colour2),this.playerObj.headType=Number(e.headType),this.playerObj.handType=Number(e.handType),this.playerObj.xp=Number(e.xp),this.playerObj.kudos=Number(e.kudos),this.playerObj.matches=Number(e.matches),this.playerObj.wins=Number(e.wins),this.playerObj.jumps=Number(e.jumps),this.playerObj.deaths=Number(e.deaths),this.playerObj.gameDeaths=Number(e.gameDeaths),null==e.gameName?this.playerObj.gameName="01234567":this.playerObj.gameName=String(e.gameName),this.playerObj.gameLevel=Number(e.gameLevel),this.playerObj.gameTime=Number(e.gameTime),this.playerObj.bestTime=Number(e.bestTime),this.playerObj.ping=0,this.playerObj.signs=e.signs,this.playerObj.achs=e.achs;for(var s=0;s<this.playerObj.achs.length;s++)this.achievements[s].got=this.playerObj.achs[s]}else this.saveGame()}}class mi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class yi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(5,this.frame6)}frame6(){this.stop()}}class vi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class gi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(4,this.frame5)}frame5(){this.stop()}}class bi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(5,this.frame6)}frame6(){this.stop()}}class fi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1,24,this.frame25)}frame1(){this.stop()}frame25(){this.stop()}}class xi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(18,this.frame19,24,this.frame25,43,this.frame44,55,this.frame56,82,this.frame83)}frame19(){this.stop()}frame25(){this.stop()}frame44(){this.stop()}frame56(){this.dispatchEvent(new R(R.SEND,"StartBox","go"))}frame83(){this.stop()}}class Li extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(10,this.frame11)}frame11(){this.stop()}}class wi extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.stop()}}class Ci extends y.Z.flash.display.MovieClip{constructor(){super(),this.addFrameScript(0,this.frame1)}frame1(){this.beacon.gotoAndPlay(Math.floor(10*Math.random()))}}class Si extends y.Z.flash.display.DisplayObject{get selectedColor(){return this.value}set selectedColor(t){this.value=t,this.elem.value="#"+t.toString(16).padStart(6,"0")}constructor(){super(),g()(this,"elem",function(){const t=document.createElement("input");return t.type="color",t.style.setProperty("width","22px","important"),t.style.setProperty("height","22px","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("margin","0","important"),t.style.setProperty("border","none","important"),t.style.setProperty("outline","none","important"),t.style.setProperty("position","absolute"),t}()),g()(this,"renderX",null),g()(this,"renderY",null),g()(this,"value",16777215),this.__node.setRenderObjects([],Float32Array.of(0,0,22,22)),this.elem.oninput=()=>{const t=parseInt(this.elem.value.slice(1),16);this.value=t,this.dispatchEvent(new X(X.CHANGE,t))}}layout(){this.__node.ensureLayout();const t=this.__node.boundsWorld[0],e=this.__node.boundsWorld[1];this.renderX!==t&&(this.elem.style.setProperty("left",t+"px"),this.renderX=t),this.renderY!==e&&(this.elem.style.setProperty("top",e+"px"),this.renderY=e)}__onRender(){super.__onRender(),this.layout()}__onAddedToStage(t){super.__onAddedToStage(t),this.layout(),t.__canvas.container.appendChild(this.elem)}__onRemovedFromStage(t){this.elem.remove(),this.renderX=null,this.renderX=null,super.__onRemovedFromStage(t)}}const Ti=x;function Mi(){var t,e,s;return m().async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=document.getElementById("loading"),i.next=3,m().awrap(y.Z.__internal.loadManifest(Ti,(e=>{t.textContent=`Loading... ${(100*e).toFixed(0)}%`})));case 3:e=i.sent,t.remove(),s=new y.Z.flash.display.Stage(e.properties),document.getElementById("root").appendChild(s.__canvas.container),s.addChild(e.instantiateCharacter(0));case 8:case"end":return i.stop()}}),null,null,null,Promise)}y.Z.__internal.ClassRegistry.instance.addClassRoot(d)}}]);
//# sourceMappingURL=678.c2812bc2.js.map